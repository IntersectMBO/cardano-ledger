<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-4"></span><span>
</span><span id="line-5"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Test.Byron.Spec.Chain.STS.Properties</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Block.html"><span class="hs-identifier">Byron.Spec.Chain.STS.Block</span></a></span><span>
</span><span id="line-8"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Chain.html"><span class="hs-identifier">Byron.Spec.Chain.STS.Rule.Chain</span></a></span><span>
</span><span id="line-9"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Epoch.html"><span class="hs-identifier">Byron.Spec.Chain.STS.Rule.Epoch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Epoch.html#sEpoch"><span class="hs-identifier">sEpoch</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-ledger-1.1.0.1/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html"><span class="hs-identifier">Byron.Spec.Ledger.Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-ledger-1.1.0.1/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#BlockCount"><span class="hs-identifier">BlockCount</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-ledger-1.1.0.1/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#BlockCount"><span class="hs-identifier">BlockCount</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-ledger-1.1.0.1/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Epoch"><span class="hs-identifier">Epoch</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-ledger-1.1.0.1/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Slot"><span class="hs-identifier">Slot</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-ledger-1.1.0.1/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#unSlot"><span class="hs-identifier">unSlot</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-ledger-1.1.0.1/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Delegation.html"><span class="hs-identifier">Byron.Spec.Ledger.Delegation</span></a></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-ledger-1.1.0.1/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.GlobalParams.html"><span class="hs-identifier">Byron.Spec.Ledger.GlobalParams</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-ledger-1.1.0.1/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.GlobalParams.html#slotsPerEpoch"><span class="hs-identifier">slotsPerEpoch</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Arrow</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(***)</span></span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/doc/html/small-steps/src/Control.State.Transition.html"><span class="hs-identifier">Control.State.Transition</span></a></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Foldable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">traverse_</span></span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-ordlist-0.4.7.0-77ae667695003eb75aec01f8d79014540d0884dc4451662cf27d382770d135d9/share/doc/html/src/Data.List.Ordered.html"><span class="hs-identifier">Data.List.Ordered</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-ordlist-0.4.7.0-77ae667695003eb75aec01f8d79014540d0884dc4451662cf27d382770d135d9/share/doc/html/src/Data.List.Ordered.html#nubSortBy"><span class="hs-identifier">nubSortBy</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Ord</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Down</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Down</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">comparing</span></span><span class="hs-special">)</span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.html"><span class="hs-identifier">Hedgehog</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-19"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#MonadTest"><span class="hs-identifier">MonadTest</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#Property"><span class="hs-identifier">Property</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#assert"><span class="hs-identifier">assert</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#cover"><span class="hs-identifier">cover</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#failure"><span class="hs-identifier">failure</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#forAll"><span class="hs-identifier">forAll</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#property"><span class="hs-identifier">property</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#withTests"><span class="hs-identifier">withTests</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#%3D%3D%3D"><span class="hs-operator">(===)</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html"><span class="hs-identifier">Lens.Micro</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(&amp;)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator">(^.)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E.."><span class="hs-operator">(^..)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Internal.html#_1"><span class="hs-identifier">_1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Internal.html#_5"><span class="hs-identifier">_5</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Extras.html"><span class="hs-identifier">Lens.Micro.Extras</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Extras.html#view"><span class="hs-identifier">view</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Generator.html"><span class="hs-identifier">Test.Control.State.Transition.Generator</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-32"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Generator.html#TraceLength"><span class="hs-identifier">TraceLength</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Generator.html#Desired"><span class="hs-identifier">Desired</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Generator.html#Maximum"><span class="hs-identifier">Maximum</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Generator.html#classifyTraceLength"><span class="hs-identifier">classifyTraceLength</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Generator.html#traceSigGen"><span class="hs-identifier">traceSigGen</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Generator.html"><span class="hs-identifier">Test.Control.State.Transition.Generator</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Transition.Generator</span></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Trace.html"><span class="hs-identifier">Test.Control.State.Transition.Trace</span></a></span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span class="annot"><a href="Test.Byron.Spec.Chain.STS.Properties.html#slotsIncrease"><span class="hs-identifier hs-type">slotsIncrease</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#Property"><span class="hs-identifier hs-type">Property</span></a></span><span>
</span><span id="line-40"></span><span id="slotsIncrease"><span class="annot"><span class="annottext">slotsIncrease :: Property
</span><a href="Test.Byron.Spec.Chain.STS.Properties.html#slotsIncrease"><span class="hs-identifier hs-var hs-var">slotsIncrease</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HasCallStack =&gt; PropertyT IO () -&gt; Property
PropertyT IO () -&gt; Property
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#property"><span class="hs-identifier hs-var">property</span></a></span><span> </span><span class="annot"><span class="annottext">(PropertyT IO () -&gt; Property) -&gt; PropertyT IO () -&gt; Property
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-41"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679114372"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679114372"><span class="hs-identifier hs-var">maxTraceLength</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679114373"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679114373"><span class="hs-identifier hs-var">step</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">100</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">10</span></span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span>  </span><span id="local-6989586621679114374"><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114374"><span class="hs-identifier hs-var">tr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-43"></span><span>    </span><span class="annot"><span class="annottext">Gen (Trace CHAIN) -&gt; PropertyT IO (Trace CHAIN)
forall (m :: * -&gt; *) a.
(Monad m, Show a, HasCallStack) =&gt;
Gen a -&gt; PropertyT m a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#forAll"><span class="hs-identifier hs-var">forAll</span></a></span><span> </span><span class="annot"><span class="annottext">(Gen (Trace CHAIN) -&gt; PropertyT IO (Trace CHAIN))
-&gt; Gen (Trace CHAIN) -&gt; PropertyT IO (Trace CHAIN)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-44"></span><span>      </span><span class="annot"><span class="annottext">BaseEnv CHAIN
-&gt; TraceLength -&gt; SignalGenerator CHAIN -&gt; Gen (Trace CHAIN)
forall s.
HasTrace s =&gt;
BaseEnv s -&gt; TraceLength -&gt; SignalGenerator s -&gt; Gen (Trace s)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Generator.html#traceSigGen"><span class="hs-identifier hs-var">traceSigGen</span></a></span><span>
</span><span id="line-45"></span><span>        </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-46"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; TraceLength
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Generator.html#Maximum"><span class="hs-identifier hs-var">Maximum</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679114372"><span class="hs-identifier hs-var">maxTraceLength</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-47"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShouldGenDelegation
-&gt; ShouldGenUTxO -&gt; ShouldGenUpdate -&gt; SignalGenerator CHAIN
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Chain.html#sigGenChain"><span class="hs-identifier hs-var">sigGenChain</span></a></span><span> </span><span class="annot"><span class="annottext">ShouldGenDelegation
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Chain.html#NoGenDelegation"><span class="hs-identifier hs-var">NoGenDelegation</span></a></span><span> </span><span class="annot"><span class="annottext">ShouldGenUTxO
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Chain.html#NoGenUTxO"><span class="hs-identifier hs-var">NoGenUTxO</span></a></span><span> </span><span class="annot"><span class="annottext">ShouldGenUpdate
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Chain.html#NoGenUpdate"><span class="hs-identifier hs-var">NoGenUpdate</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span>  </span><span class="annot"><span class="annottext">Trace CHAIN -&gt; Word64 -&gt; Word64 -&gt; PropertyT IO ()
forall s. Trace s -&gt; Word64 -&gt; Word64 -&gt; PropertyT IO ()
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Generator.html#classifyTraceLength"><span class="hs-identifier hs-var">classifyTraceLength</span></a></span><span> </span><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114374"><span class="hs-identifier hs-var">tr</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679114372"><span class="hs-identifier hs-var">maxTraceLength</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679114373"><span class="hs-identifier hs-var">step</span></a></span><span>
</span><span id="line-49"></span><span>  </span><span class="annot"><span class="annottext">Trace CHAIN -&gt; PropertyT IO ()
forall (m :: * -&gt; *). MonadTest m =&gt; Trace CHAIN -&gt; m ()
</span><a href="Test.Byron.Spec.Chain.STS.Properties.html#slotsIncreaseInTrace"><span class="hs-identifier hs-var">slotsIncreaseInTrace</span></a></span><span> </span><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114374"><span class="hs-identifier hs-var">tr</span></a></span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span id="local-6989586621679113974"><span class="annot"><a href="Test.Byron.Spec.Chain.STS.Properties.html#slotsIncreaseInTrace"><span class="hs-identifier hs-type">slotsIncreaseInTrace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#MonadTest"><span class="hs-identifier hs-type">MonadTest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679113974"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Trace.html#Trace"><span class="hs-identifier hs-type">Trace</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Chain.html#CHAIN"><span class="hs-identifier hs-type">CHAIN</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679113974"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-52"></span><span id="slotsIncreaseInTrace"><span class="annot"><span class="annottext">slotsIncreaseInTrace :: forall (m :: * -&gt; *). MonadTest m =&gt; Trace CHAIN -&gt; m ()
</span><a href="Test.Byron.Spec.Chain.STS.Properties.html#slotsIncreaseInTrace"><span class="hs-identifier hs-var hs-var">slotsIncreaseInTrace</span></a></span></span><span> </span><span id="local-6989586621679114397"><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114397"><span class="hs-identifier hs-var">tr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Slot]
</span><a href="#local-6989586621679114398"><span class="hs-identifier hs-var">slots</span></a></span><span> </span><span class="annot"><span class="annottext">[Slot] -&gt; [Slot] -&gt; m ()
forall (m :: * -&gt; *) a.
(MonadTest m, Eq a, Show a, HasCallStack) =&gt;
a -&gt; a -&gt; m ()
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#%3D%3D%3D"><span class="hs-operator hs-var">===</span></a></span><span> </span><span class="annot"><span class="annottext">(Slot -&gt; Slot -&gt; Ordering) -&gt; [Slot] -&gt; [Slot]
forall a. (a -&gt; a -&gt; Ordering) -&gt; [a] -&gt; [a]
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-ordlist-0.4.7.0-77ae667695003eb75aec01f8d79014540d0884dc4451662cf27d382770d135d9/share/doc/html/src/Data.List.Ordered.html#nubSortBy"><span class="hs-identifier hs-var">nubSortBy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Slot -&gt; Down Slot) -&gt; Slot -&gt; Slot -&gt; Ordering
forall a b. Ord a =&gt; (b -&gt; a) -&gt; b -&gt; b -&gt; Ordering
</span><span class="hs-identifier hs-var">comparing</span></span><span> </span><span class="annot"><span class="annottext">Slot -&gt; Down Slot
forall a. a -&gt; Down a
</span><span class="hs-identifier hs-var">Down</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Slot]
</span><a href="#local-6989586621679114398"><span class="hs-identifier hs-var">slots</span></a></span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-54"></span><span>    </span><span id="local-6989586621679114399"><span class="annot"><span class="annottext">blocks :: [Signal CHAIN]
</span><a href="#local-6989586621679114399"><span class="hs-identifier hs-var hs-var">blocks</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TraceOrder -&gt; Trace CHAIN -&gt; [Signal CHAIN]
forall s. TraceOrder -&gt; Trace s -&gt; [Signal s]
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Trace.html#traceSignals"><span class="hs-identifier hs-var">traceSignals</span></a></span><span> </span><span class="annot"><span class="annottext">TraceOrder
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Trace.html#NewestFirst"><span class="hs-identifier hs-var">NewestFirst</span></a></span><span> </span><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114397"><span class="hs-identifier hs-var">tr</span></a></span><span>
</span><span id="line-55"></span><span>    </span><span id="local-6989586621679114398"><span class="annot"><span class="annottext">slots :: [Slot]
</span><a href="#local-6989586621679114398"><span class="hs-identifier hs-var hs-var">slots</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Block]
[Signal CHAIN]
</span><a href="#local-6989586621679114399"><span class="hs-identifier hs-var">blocks</span></a></span><span> </span><span class="annot"><span class="annottext">[Block] -&gt; Getting (Endo [Slot]) [Block] Slot -&gt; [Slot]
forall s a. s -&gt; Getting (Endo [a]) s a -&gt; [a]
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E.."><span class="hs-operator hs-var">^..</span></a></span><span> </span><span class="annot"><span class="annottext">(Block -&gt; Const (Endo [Slot]) Block)
-&gt; [Block] -&gt; Const (Endo [Slot]) [Block]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; [a] -&gt; f [b]
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="annot"><span class="annottext">((Block -&gt; Const (Endo [Slot]) Block)
 -&gt; [Block] -&gt; Const (Endo [Slot]) [Block])
-&gt; ((Slot -&gt; Const (Endo [Slot]) Slot)
    -&gt; Block -&gt; Const (Endo [Slot]) Block)
-&gt; Getting (Endo [Slot]) [Block] Slot
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(BlockHeader -&gt; Const (Endo [Slot]) BlockHeader)
-&gt; Block -&gt; Const (Endo [Slot]) Block
Lens' Block BlockHeader
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Block.html#bHeader"><span class="hs-identifier hs-var">bHeader</span></a></span><span> </span><span class="annot"><span class="annottext">((BlockHeader -&gt; Const (Endo [Slot]) BlockHeader)
 -&gt; Block -&gt; Const (Endo [Slot]) Block)
-&gt; ((Slot -&gt; Const (Endo [Slot]) Slot)
    -&gt; BlockHeader -&gt; Const (Endo [Slot]) BlockHeader)
-&gt; (Slot -&gt; Const (Endo [Slot]) Slot)
-&gt; Block
-&gt; Const (Endo [Slot]) Block
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Slot -&gt; Const (Endo [Slot]) Slot)
-&gt; BlockHeader -&gt; Const (Endo [Slot]) BlockHeader
Lens' BlockHeader Slot
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Block.html#bhSlot"><span class="hs-identifier hs-var">bhSlot</span></a></span><span>
</span><span id="line-56"></span><span>
</span><span id="line-57"></span><span class="annot"><a href="Test.Byron.Spec.Chain.STS.Properties.html#blockIssuersAreDelegates"><span class="hs-identifier hs-type">blockIssuersAreDelegates</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#Property"><span class="hs-identifier hs-type">Property</span></a></span><span>
</span><span id="line-58"></span><span id="blockIssuersAreDelegates"><span class="annot"><span class="annottext">blockIssuersAreDelegates :: Property
</span><a href="Test.Byron.Spec.Chain.STS.Properties.html#blockIssuersAreDelegates"><span class="hs-identifier hs-var hs-var">blockIssuersAreDelegates</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-59"></span><span>  </span><span class="annot"><span class="annottext">TestLimit -&gt; Property -&gt; Property
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#withTests"><span class="hs-identifier hs-var">withTests</span></a></span><span> </span><span class="annot"><span class="annottext">TestLimit
</span><span class="hs-number">300</span></span><span> </span><span class="annot"><span class="annottext">(Property -&gt; Property) -&gt; Property -&gt; Property
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-60"></span><span>    </span><span class="annot"><span class="annottext">HasCallStack =&gt; PropertyT IO () -&gt; Property
PropertyT IO () -&gt; Property
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#property"><span class="hs-identifier hs-var">property</span></a></span><span> </span><span class="annot"><span class="annottext">(PropertyT IO () -&gt; Property) -&gt; PropertyT IO () -&gt; Property
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-61"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679114409"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679114409"><span class="hs-identifier hs-var">maxTraceLength</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679114410"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679114410"><span class="hs-identifier hs-var">step</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">100</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">10</span></span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span>      </span><span id="local-6989586621679114411"><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114411"><span class="hs-identifier hs-var">tr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-63"></span><span>        </span><span class="annot"><span class="annottext">Gen (Trace CHAIN) -&gt; PropertyT IO (Trace CHAIN)
forall (m :: * -&gt; *) a.
(Monad m, Show a, HasCallStack) =&gt;
Gen a -&gt; PropertyT m a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#forAll"><span class="hs-identifier hs-var">forAll</span></a></span><span> </span><span class="annot"><span class="annottext">(Gen (Trace CHAIN) -&gt; PropertyT IO (Trace CHAIN))
-&gt; Gen (Trace CHAIN) -&gt; PropertyT IO (Trace CHAIN)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-64"></span><span>          </span><span class="annot"><span class="annottext">BaseEnv CHAIN
-&gt; TraceLength -&gt; SignalGenerator CHAIN -&gt; Gen (Trace CHAIN)
forall s.
HasTrace s =&gt;
BaseEnv s -&gt; TraceLength -&gt; SignalGenerator s -&gt; Gen (Trace s)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Generator.html#traceSigGen"><span class="hs-identifier hs-var">traceSigGen</span></a></span><span>
</span><span id="line-65"></span><span>            </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; TraceLength
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Generator.html#Maximum"><span class="hs-identifier hs-var">Maximum</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679114409"><span class="hs-identifier hs-var">maxTraceLength</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-67"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShouldGenDelegation
-&gt; ShouldGenUTxO -&gt; ShouldGenUpdate -&gt; SignalGenerator CHAIN
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Chain.html#sigGenChain"><span class="hs-identifier hs-var">sigGenChain</span></a></span><span> </span><span class="annot"><span class="annottext">ShouldGenDelegation
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Chain.html#GenDelegation"><span class="hs-identifier hs-var">GenDelegation</span></a></span><span> </span><span class="annot"><span class="annottext">ShouldGenUTxO
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Chain.html#NoGenUTxO"><span class="hs-identifier hs-var">NoGenUTxO</span></a></span><span> </span><span class="annot"><span class="annottext">ShouldGenUpdate
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Chain.html#GenUpdate"><span class="hs-identifier hs-var">GenUpdate</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span>      </span><span class="annot"><span class="annottext">Trace CHAIN -&gt; Word64 -&gt; Word64 -&gt; PropertyT IO ()
forall s. Trace s -&gt; Word64 -&gt; Word64 -&gt; PropertyT IO ()
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Generator.html#classifyTraceLength"><span class="hs-identifier hs-var">classifyTraceLength</span></a></span><span> </span><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114411"><span class="hs-identifier hs-var">tr</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679114409"><span class="hs-identifier hs-var">maxTraceLength</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679114410"><span class="hs-identifier hs-var">step</span></a></span><span>
</span><span id="line-69"></span><span>      </span><span class="annot"><span class="annottext">Trace CHAIN -&gt; PropertyT IO ()
forall (m :: * -&gt; *). MonadTest m =&gt; Trace CHAIN -&gt; m ()
</span><a href="#local-6989586621679114414"><span class="hs-identifier hs-var">checkBlockIssuersAreDelegates</span></a></span><span> </span><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114411"><span class="hs-identifier hs-var">tr</span></a></span><span>
</span><span id="line-70"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-71"></span><span>    </span><span id="local-6989586621679114415"><span class="annot"><a href="#local-6989586621679114414"><span class="hs-identifier hs-type">checkBlockIssuersAreDelegates</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#MonadTest"><span class="hs-identifier hs-type">MonadTest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679114415"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Trace.html#Trace"><span class="hs-identifier hs-type">Trace</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Chain.html#CHAIN"><span class="hs-identifier hs-type">CHAIN</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679114415"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-72"></span><span>    </span><span id="local-6989586621679114414"><span class="annot"><span class="annottext">checkBlockIssuersAreDelegates :: forall (m :: * -&gt; *). MonadTest m =&gt; Trace CHAIN -&gt; m ()
</span><a href="#local-6989586621679114414"><span class="hs-identifier hs-var hs-var">checkBlockIssuersAreDelegates</span></a></span></span><span> </span><span id="local-6989586621679114424"><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114424"><span class="hs-identifier hs-var">tr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-73"></span><span>      </span><span class="annot"><span class="annottext">(((Slot, Seq VKeyGenesis, Hash, UTxOState, DIState, UPIState),
  Block)
 -&gt; m ())
-&gt; [((Slot, Seq VKeyGenesis, Hash, UTxOState, DIState, UPIState),
     Block)]
-&gt; m ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f ()
</span><span class="hs-identifier hs-var">traverse_</span></span><span> </span><span class="annot"><span class="annottext">((Slot, Seq VKeyGenesis, Hash, UTxOState, DIState, UPIState),
 Block)
-&gt; m ()
(State CHAIN, Signal CHAIN) -&gt; m ()
forall (m :: * -&gt; *).
MonadTest m =&gt;
(State CHAIN, Signal CHAIN) -&gt; m ()
</span><a href="#local-6989586621679114425"><span class="hs-identifier hs-var">checkIssuer</span></a></span><span> </span><span class="annot"><span class="annottext">([((Slot, Seq VKeyGenesis, Hash, UTxOState, DIState, UPIState),
   Block)]
 -&gt; m ())
-&gt; [((Slot, Seq VKeyGenesis, Hash, UTxOState, DIState, UPIState),
     Block)]
-&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TraceOrder -&gt; Trace CHAIN -&gt; [(State CHAIN, Signal CHAIN)]
forall s. TraceOrder -&gt; Trace s -&gt; [(State s, Signal s)]
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Trace.html#preStatesAndSignals"><span class="hs-identifier hs-var">preStatesAndSignals</span></a></span><span> </span><span class="annot"><span class="annottext">TraceOrder
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Trace.html#OldestFirst"><span class="hs-identifier hs-var">OldestFirst</span></a></span><span> </span><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114424"><span class="hs-identifier hs-var">tr</span></a></span><span>
</span><span id="line-74"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-75"></span><span>        </span><span id="local-6989586621679114006"><span class="annot"><a href="#local-6989586621679114425"><span class="hs-identifier hs-type">checkIssuer</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#MonadTest"><span class="hs-identifier hs-type">MonadTest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679114006"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/doc/html/small-steps/src/Control.State.Transition.Extended.html#State"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Chain.html#CHAIN"><span class="hs-identifier hs-type">CHAIN</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/doc/html/small-steps/src/Control.State.Transition.Extended.html#Signal"><span class="hs-identifier hs-type">Signal</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Chain.html#CHAIN"><span class="hs-identifier hs-type">CHAIN</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679114006"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-76"></span><span>        </span><span id="local-6989586621679114425"><span class="annot"><span class="annottext">checkIssuer :: forall (m :: * -&gt; *).
MonadTest m =&gt;
(State CHAIN, Signal CHAIN) -&gt; m ()
</span><a href="#local-6989586621679114425"><span class="hs-identifier hs-var hs-var">checkIssuer</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679114441"><span class="annot"><span class="annottext">State CHAIN
</span><a href="#local-6989586621679114441"><span class="hs-identifier hs-var">st</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679114442"><span class="annot"><span class="annottext">Signal CHAIN
</span><a href="#local-6989586621679114442"><span class="hs-identifier hs-var">bk</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-77"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Bimap VKeyGenesis VKey -&gt; VKey -&gt; Maybe VKeyGenesis
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-ledger-1.1.0.1/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Delegation.html#delegatorOf"><span class="hs-identifier hs-var">delegatorOf</span></a></span><span> </span><span class="annot"><span class="annottext">Bimap VKeyGenesis VKey
</span><a href="#local-6989586621679114444"><span class="hs-identifier hs-var">dm</span></a></span><span> </span><span class="annot"><span class="annottext">VKey
</span><a href="#local-6989586621679114445"><span class="hs-identifier hs-var">issuer</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-78"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">VKeyGenesis
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; m ()
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span>            </span><span class="annot"><span class="annottext">Maybe VKeyGenesis
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m ()
forall (m :: * -&gt; *) a. (MonadTest m, HasCallStack) =&gt; m a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#failure"><span class="hs-identifier hs-var">failure</span></a></span><span>
</span><span id="line-80"></span><span>          </span><span class="hs-keyword">where</span><span>
</span><span id="line-81"></span><span>            </span><span id="local-6989586621679114445"><span class="annot"><span class="annottext">issuer :: VKey
</span><a href="#local-6989586621679114445"><span class="hs-identifier hs-var hs-var">issuer</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Block
Signal CHAIN
</span><a href="#local-6989586621679114442"><span class="hs-identifier hs-var">bk</span></a></span><span> </span><span class="annot"><span class="annottext">Block -&gt; Getting VKey Block VKey -&gt; VKey
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">(BlockHeader -&gt; Const VKey BlockHeader)
-&gt; Block -&gt; Const VKey Block
Lens' Block BlockHeader
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Block.html#bHeader"><span class="hs-identifier hs-var">bHeader</span></a></span><span> </span><span class="annot"><span class="annottext">((BlockHeader -&gt; Const VKey BlockHeader)
 -&gt; Block -&gt; Const VKey Block)
-&gt; ((VKey -&gt; Const VKey VKey)
    -&gt; BlockHeader -&gt; Const VKey BlockHeader)
-&gt; Getting VKey Block VKey
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(VKey -&gt; Const VKey VKey) -&gt; BlockHeader -&gt; Const VKey BlockHeader
Lens' BlockHeader VKey
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Block.html#bhIssuer"><span class="hs-identifier hs-var">bhIssuer</span></a></span><span>
</span><span id="line-82"></span><span>            </span><span id="local-6989586621679114444"><span class="annot"><span class="annottext">dm :: Bimap VKeyGenesis VKey
</span><a href="#local-6989586621679114444"><span class="hs-identifier hs-var hs-var">dm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Slot, Seq VKeyGenesis, Hash, UTxOState, DIState, UPIState)
State CHAIN
</span><a href="#local-6989586621679114441"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">(Slot, Seq VKeyGenesis, Hash, UTxOState, DIState, UPIState)
-&gt; Getting
     (Bimap VKeyGenesis VKey)
     (Slot, Seq VKeyGenesis, Hash, UTxOState, DIState, UPIState)
     (Bimap VKeyGenesis VKey)
-&gt; Bimap VKeyGenesis VKey
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">(DIState -&gt; Const (Bimap VKeyGenesis VKey) DIState)
-&gt; (Slot, Seq VKeyGenesis, Hash, UTxOState, DIState, UPIState)
-&gt; Const
     (Bimap VKeyGenesis VKey)
     (Slot, Seq VKeyGenesis, Hash, UTxOState, DIState, UPIState)
(DIState -&gt; Const (Bimap VKeyGenesis VKey) DIState)
-&gt; State CHAIN -&gt; Const (Bimap VKeyGenesis VKey) (State CHAIN)
Lens' (State CHAIN) DIState
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Chain.html#disL"><span class="hs-identifier hs-var">disL</span></a></span><span> </span><span class="annot"><span class="annottext">((DIState -&gt; Const (Bimap VKeyGenesis VKey) DIState)
 -&gt; (Slot, Seq VKeyGenesis, Hash, UTxOState, DIState, UPIState)
 -&gt; Const
      (Bimap VKeyGenesis VKey)
      (Slot, Seq VKeyGenesis, Hash, UTxOState, DIState, UPIState))
-&gt; ((Bimap VKeyGenesis VKey
     -&gt; Const (Bimap VKeyGenesis VKey) (Bimap VKeyGenesis VKey))
    -&gt; DIState -&gt; Const (Bimap VKeyGenesis VKey) DIState)
-&gt; Getting
     (Bimap VKeyGenesis VKey)
     (Slot, Seq VKeyGenesis, Hash, UTxOState, DIState, UPIState)
     (Bimap VKeyGenesis VKey)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Bimap VKeyGenesis VKey
 -&gt; Const (Bimap VKeyGenesis VKey) (Bimap VKeyGenesis VKey))
-&gt; DIState -&gt; Const (Bimap VKeyGenesis VKey) DIState
forall s a. HasDelegationMap s a =&gt; Lens' s a
Lens' DIState (Bimap VKeyGenesis VKey)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-ledger-1.1.0.1/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Delegation.html#delegationMap"><span class="hs-identifier hs-var">delegationMap</span></a></span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span class="annot"><a href="Test.Byron.Spec.Chain.STS.Properties.html#onlyValidSignalsAreGenerated"><span class="hs-identifier hs-type">onlyValidSignalsAreGenerated</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#Property"><span class="hs-identifier hs-type">Property</span></a></span><span>
</span><span id="line-85"></span><span id="onlyValidSignalsAreGenerated"><span class="annot"><span class="annottext">onlyValidSignalsAreGenerated :: Property
</span><a href="Test.Byron.Spec.Chain.STS.Properties.html#onlyValidSignalsAreGenerated"><span class="hs-identifier hs-var hs-var">onlyValidSignalsAreGenerated</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-86"></span><span>  </span><span class="annot"><span class="annottext">TestLimit -&gt; Property -&gt; Property
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#withTests"><span class="hs-identifier hs-var">withTests</span></a></span><span> </span><span class="annot"><span class="annottext">TestLimit
</span><span class="hs-number">200</span></span><span> </span><span class="annot"><span class="annottext">(Property -&gt; Property) -&gt; Property -&gt; Property
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall s.
(HasTrace s, Show (Environment s), Show (State s), Show (Signal s),
 HasCallStack) =&gt;
BaseEnv s -&gt; Word64 -&gt; Property
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Generator.html#onlyValidSignalsAreGenerated"><span class="hs-identifier hs-var">Transition.Generator.onlyValidSignalsAreGenerated</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Chain.html#CHAIN"><span class="hs-identifier hs-type">CHAIN</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">100</span></span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span class="annot"><a href="Test.Byron.Spec.Chain.STS.Properties.html#signersListIsBoundedByK"><span class="hs-identifier hs-type">signersListIsBoundedByK</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#Property"><span class="hs-identifier hs-type">Property</span></a></span><span>
</span><span id="line-89"></span><span id="signersListIsBoundedByK"><span class="annot"><span class="annottext">signersListIsBoundedByK :: Property
</span><a href="Test.Byron.Spec.Chain.STS.Properties.html#signersListIsBoundedByK"><span class="hs-identifier hs-var hs-var">signersListIsBoundedByK</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TestLimit -&gt; Property -&gt; Property
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#withTests"><span class="hs-identifier hs-var">withTests</span></a></span><span> </span><span class="annot"><span class="annottext">TestLimit
</span><span class="hs-number">300</span></span><span> </span><span class="annot"><span class="annottext">(Property -&gt; Property) -&gt; Property -&gt; Property
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-90"></span><span>  </span><span class="annot"><span class="annottext">HasCallStack =&gt; PropertyT IO () -&gt; Property
PropertyT IO () -&gt; Property
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#property"><span class="hs-identifier hs-var">property</span></a></span><span> </span><span class="annot"><span class="annottext">(PropertyT IO () -&gt; Property) -&gt; PropertyT IO () -&gt; Property
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-91"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679114453"><span class="annot"><span class="annottext">maxTraceLength :: Word64
</span><a href="#local-6989586621679114453"><span class="hs-identifier hs-var hs-var">maxTraceLength</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">100</span></span><span>
</span><span id="line-92"></span><span>    </span><span id="local-6989586621679114454"><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114454"><span class="hs-identifier hs-var">tr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-93"></span><span>      </span><span class="annot"><span class="annottext">Gen (Trace CHAIN) -&gt; PropertyT IO (Trace CHAIN)
forall (m :: * -&gt; *) a.
(Monad m, Show a, HasCallStack) =&gt;
Gen a -&gt; PropertyT m a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#forAll"><span class="hs-identifier hs-var">forAll</span></a></span><span> </span><span class="annot"><span class="annottext">(Gen (Trace CHAIN) -&gt; PropertyT IO (Trace CHAIN))
-&gt; Gen (Trace CHAIN) -&gt; PropertyT IO (Trace CHAIN)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-94"></span><span>        </span><span class="annot"><span class="annottext">BaseEnv CHAIN
-&gt; TraceLength -&gt; SignalGenerator CHAIN -&gt; Gen (Trace CHAIN)
forall s.
HasTrace s =&gt;
BaseEnv s -&gt; TraceLength -&gt; SignalGenerator s -&gt; Gen (Trace s)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Generator.html#traceSigGen"><span class="hs-identifier hs-var">traceSigGen</span></a></span><span>
</span><span id="line-95"></span><span>          </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-96"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; TraceLength
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Generator.html#Maximum"><span class="hs-identifier hs-var">Maximum</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679114453"><span class="hs-identifier hs-var">maxTraceLength</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShouldGenDelegation
-&gt; ShouldGenUTxO -&gt; ShouldGenUpdate -&gt; SignalGenerator CHAIN
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Chain.html#sigGenChain"><span class="hs-identifier hs-var">sigGenChain</span></a></span><span> </span><span class="annot"><span class="annottext">ShouldGenDelegation
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Chain.html#GenDelegation"><span class="hs-identifier hs-var">GenDelegation</span></a></span><span> </span><span class="annot"><span class="annottext">ShouldGenUTxO
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Chain.html#NoGenUTxO"><span class="hs-identifier hs-var">NoGenUTxO</span></a></span><span> </span><span class="annot"><span class="annottext">ShouldGenUpdate
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Chain.html#GenUpdate"><span class="hs-identifier hs-var">GenUpdate</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span>    </span><span class="annot"><span class="annottext">Trace CHAIN -&gt; PropertyT IO ()
forall (m :: * -&gt; *). MonadTest m =&gt; Trace CHAIN -&gt; m ()
</span><a href="#local-6989586621679114455"><span class="hs-identifier hs-var">signersListIsBoundedByKInTrace</span></a></span><span> </span><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114454"><span class="hs-identifier hs-var">tr</span></a></span><span>
</span><span id="line-99"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-100"></span><span>    </span><span id="local-6989586621679114456"><span class="annot"><a href="#local-6989586621679114455"><span class="hs-identifier hs-type">signersListIsBoundedByKInTrace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#MonadTest"><span class="hs-identifier hs-type">MonadTest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679114456"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Trace.html#Trace"><span class="hs-identifier hs-type">Trace</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Chain.html#CHAIN"><span class="hs-identifier hs-type">CHAIN</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679114456"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-101"></span><span>    </span><span id="local-6989586621679114455"><span class="annot"><span class="annottext">signersListIsBoundedByKInTrace :: forall (m :: * -&gt; *). MonadTest m =&gt; Trace CHAIN -&gt; m ()
</span><a href="#local-6989586621679114455"><span class="hs-identifier hs-var hs-var">signersListIsBoundedByKInTrace</span></a></span></span><span> </span><span id="local-6989586621679114463"><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114463"><span class="hs-identifier hs-var">tr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-102"></span><span>      </span><span class="annot"><span class="annottext">((Slot, Seq VKeyGenesis, Hash, UTxOState, DIState, UPIState)
 -&gt; m ())
-&gt; [(Slot, Seq VKeyGenesis, Hash, UTxOState, DIState, UPIState)]
-&gt; m ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f ()
</span><span class="hs-identifier hs-var">traverse_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BlockCount -&gt; State CHAIN -&gt; m ()
forall (m :: * -&gt; *).
MonadTest m =&gt;
BlockCount -&gt; State CHAIN -&gt; m ()
</span><a href="#local-6989586621679114464"><span class="hs-identifier hs-var">signersListIsBoundedByKInState</span></a></span><span> </span><span class="annot"><span class="annottext">BlockCount
</span><a href="#local-6989586621679114465"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(Slot, Seq VKeyGenesis, Hash, UTxOState, DIState, UPIState)]
 -&gt; m ())
-&gt; [(Slot, Seq VKeyGenesis, Hash, UTxOState, DIState, UPIState)]
-&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TraceOrder -&gt; Trace CHAIN -&gt; [State CHAIN]
forall s. TraceOrder -&gt; Trace s -&gt; [State s]
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Trace.html#traceStates"><span class="hs-identifier hs-var">traceStates</span></a></span><span> </span><span class="annot"><span class="annottext">TraceOrder
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Trace.html#OldestFirst"><span class="hs-identifier hs-var">OldestFirst</span></a></span><span> </span><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114463"><span class="hs-identifier hs-var">tr</span></a></span><span>
</span><span id="line-103"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-104"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Slot
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">UTxO
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Set VKeyGenesis
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PParams
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679114465"><span class="annot"><span class="annottext">BlockCount
</span><a href="#local-6989586621679114465"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s. Trace s -&gt; Environment s
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Trace.html#_traceEnv"><span class="hs-identifier hs-var">_traceEnv</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Chain.html#CHAIN"><span class="hs-identifier hs-type">CHAIN</span></a></span><span> </span><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114463"><span class="hs-identifier hs-var">tr</span></a></span><span>
</span><span id="line-105"></span><span>
</span><span id="line-106"></span><span>        </span><span id="local-6989586621679114022"><span class="annot"><a href="#local-6989586621679114464"><span class="hs-identifier hs-type">signersListIsBoundedByKInState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#MonadTest"><span class="hs-identifier hs-type">MonadTest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679114022"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-ledger-1.1.0.1/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#BlockCount"><span class="hs-identifier hs-type">BlockCount</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/doc/html/small-steps/src/Control.State.Transition.Extended.html#State"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Chain.html#CHAIN"><span class="hs-identifier hs-type">CHAIN</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679114022"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-107"></span><span>        </span><span id="local-6989586621679114464"><span class="annot"><span class="annottext">signersListIsBoundedByKInState :: forall (m :: * -&gt; *).
MonadTest m =&gt;
BlockCount -&gt; State CHAIN -&gt; m ()
</span><a href="#local-6989586621679114464"><span class="hs-identifier hs-var hs-var">signersListIsBoundedByKInState</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-ledger-1.1.0.1/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#BlockCount"><span class="hs-identifier hs-type">BlockCount</span></a></span><span> </span><span id="local-6989586621679114477"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679114477"><span class="hs-identifier hs-var">k'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679114478"><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621679114478"><span class="hs-identifier hs-var">_sLast</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679114479"><span class="annot"><span class="annottext">Seq VKeyGenesis
</span><a href="#local-6989586621679114479"><span class="hs-identifier hs-var">sgs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679114480"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679114480"><span class="hs-identifier hs-var">_h</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679114481"><span class="annot"><span class="annottext">UTxOState
</span><a href="#local-6989586621679114481"><span class="hs-identifier hs-var">_utxoSt</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679114482"><span class="annot"><span class="annottext">DIState
</span><a href="#local-6989586621679114482"><span class="hs-identifier hs-var">_ds</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679114483"><span class="annot"><span class="annottext">UPIState
</span><a href="#local-6989586621679114483"><span class="hs-identifier hs-var">_us</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-108"></span><span>          </span><span class="annot"><span class="annottext">Bool -&gt; m ()
forall (m :: * -&gt; *). (MonadTest m, HasCallStack) =&gt; Bool -&gt; m ()
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; m ()) -&gt; Bool -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Seq VKeyGenesis -&gt; Int
forall a. Seq a -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">Seq VKeyGenesis
</span><a href="#local-6989586621679114479"><span class="hs-identifier hs-var">sgs</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679114477"><span class="hs-identifier hs-var">k'</span></a></span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span class="annot"><a href="Test.Byron.Spec.Chain.STS.Properties.html#relevantCasesAreCovered"><span class="hs-identifier hs-type">relevantCasesAreCovered</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#Property"><span class="hs-identifier hs-type">Property</span></a></span><span>
</span><span id="line-111"></span><span id="relevantCasesAreCovered"><span class="annot"><span class="annottext">relevantCasesAreCovered :: Property
</span><a href="Test.Byron.Spec.Chain.STS.Properties.html#relevantCasesAreCovered"><span class="hs-identifier hs-var hs-var">relevantCasesAreCovered</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TestLimit -&gt; Property -&gt; Property
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#withTests"><span class="hs-identifier hs-var">withTests</span></a></span><span> </span><span class="annot"><span class="annottext">TestLimit
</span><span class="hs-number">200</span></span><span> </span><span class="annot"><span class="annottext">(Property -&gt; Property) -&gt; Property -&gt; Property
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-112"></span><span>  </span><span class="annot"><span class="annottext">HasCallStack =&gt; PropertyT IO () -&gt; Property
PropertyT IO () -&gt; Property
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#property"><span class="hs-identifier hs-var">property</span></a></span><span> </span><span class="annot"><span class="annottext">(PropertyT IO () -&gt; Property) -&gt; PropertyT IO () -&gt; Property
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-113"></span><span>    </span><span id="local-6989586621679114487"><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114487"><span class="hs-identifier hs-var">tr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Gen (Trace CHAIN) -&gt; PropertyT IO (Trace CHAIN)
forall (m :: * -&gt; *) a.
(Monad m, Show a, HasCallStack) =&gt;
Gen a -&gt; PropertyT m a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#forAll"><span class="hs-identifier hs-var">forAll</span></a></span><span> </span><span class="annot"><span class="annottext">(Gen (Trace CHAIN) -&gt; PropertyT IO (Trace CHAIN))
-&gt; Gen (Trace CHAIN) -&gt; PropertyT IO (Trace CHAIN)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">BaseEnv CHAIN
-&gt; TraceLength -&gt; SignalGenerator CHAIN -&gt; Gen (Trace CHAIN)
forall s.
HasTrace s =&gt;
BaseEnv s -&gt; TraceLength -&gt; SignalGenerator s -&gt; Gen (Trace s)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Generator.html#traceSigGen"><span class="hs-identifier hs-var">traceSigGen</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; TraceLength
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Generator.html#Desired"><span class="hs-identifier hs-var">Desired</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">200</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShouldGenDelegation
-&gt; ShouldGenUTxO -&gt; ShouldGenUpdate -&gt; SignalGenerator CHAIN
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Chain.html#sigGenChain"><span class="hs-identifier hs-var">sigGenChain</span></a></span><span> </span><span class="annot"><span class="annottext">ShouldGenDelegation
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Chain.html#GenDelegation"><span class="hs-identifier hs-var">GenDelegation</span></a></span><span> </span><span class="annot"><span class="annottext">ShouldGenUTxO
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Chain.html#NoGenUTxO"><span class="hs-identifier hs-var">NoGenUTxO</span></a></span><span> </span><span class="annot"><span class="annottext">ShouldGenUpdate
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Chain.html#NoGenUpdate"><span class="hs-identifier hs-var">NoGenUpdate</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679114488"><span class="annot"><span class="annottext">certs :: [DCert]
</span><a href="#local-6989586621679114488"><span class="hs-identifier hs-var hs-var">certs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Trace CHAIN -&gt; [DCert]
</span><a href="Test.Byron.Spec.Chain.STS.Properties.html#traceDCerts"><span class="hs-identifier hs-var">traceDCerts</span></a></span><span> </span><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114487"><span class="hs-identifier hs-var">tr</span></a></span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span>    </span><span class="hs-comment">-- for at least 1% of traces...</span><span>
</span><span id="line-117"></span><span>    </span><span class="annot"><span class="annottext">CoverPercentage -&gt; LabelName -&gt; Bool -&gt; PropertyT IO ()
forall (m :: * -&gt; *).
(MonadTest m, HasCallStack) =&gt;
CoverPercentage -&gt; LabelName -&gt; Bool -&gt; m ()
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#cover"><span class="hs-identifier hs-var">cover</span></a></span><span>
</span><span id="line-118"></span><span>      </span><span class="annot"><span class="annottext">CoverPercentage
</span><span class="hs-number">1</span></span><span>
</span><span id="line-119"></span><span>      </span><span class="annot"><span class="annottext">LabelName
</span><span class="hs-string">&quot;there are more certificates than blocks&quot;</span></span><span>
</span><span id="line-120"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Trace CHAIN -&gt; Int
forall s. Trace s -&gt; Int
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Trace.html#traceLength"><span class="hs-identifier hs-var">traceLength</span></a></span><span> </span><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114487"><span class="hs-identifier hs-var">tr</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">[DCert] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[DCert]
</span><a href="#local-6989586621679114488"><span class="hs-identifier hs-var">certs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span>    </span><span class="hs-comment">-- for at least 10% of traces...</span><span>
</span><span id="line-123"></span><span>    </span><span class="annot"><span class="annottext">CoverPercentage -&gt; LabelName -&gt; Bool -&gt; PropertyT IO ()
forall (m :: * -&gt; *).
(MonadTest m, HasCallStack) =&gt;
CoverPercentage -&gt; LabelName -&gt; Bool -&gt; m ()
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#cover"><span class="hs-identifier hs-var">cover</span></a></span><span>
</span><span id="line-124"></span><span>      </span><span class="annot"><span class="annottext">CoverPercentage
</span><span class="hs-number">10</span></span><span>
</span><span id="line-125"></span><span>      </span><span class="annot"><span class="annottext">LabelName
</span><span class="hs-string">&quot;at most 75% of blocks have no certificates&quot;</span></span><span>
</span><span id="line-126"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[[DCert]] -&gt; Double
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-ledger-1.1.0.1/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Delegation.html#emptyDelegationPayloadRatio"><span class="hs-identifier hs-var">emptyDelegationPayloadRatio</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Trace CHAIN -&gt; [[DCert]]
</span><a href="Test.Byron.Spec.Chain.STS.Properties.html#traceDCertsByBlock"><span class="hs-identifier hs-var">traceDCertsByBlock</span></a></span><span> </span><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114487"><span class="hs-identifier hs-var">tr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0.75</span></span><span class="hs-special">)</span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span>    </span><span class="hs-comment">-- for at least 25% of traces...</span><span>
</span><span id="line-129"></span><span>    </span><span class="annot"><span class="annottext">CoverPercentage -&gt; LabelName -&gt; Bool -&gt; PropertyT IO ()
forall (m :: * -&gt; *).
(MonadTest m, HasCallStack) =&gt;
CoverPercentage -&gt; LabelName -&gt; Bool -&gt; m ()
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#cover"><span class="hs-identifier hs-var">cover</span></a></span><span>
</span><span id="line-130"></span><span>      </span><span class="annot"><span class="annottext">CoverPercentage
</span><span class="hs-number">25</span></span><span>
</span><span id="line-131"></span><span>      </span><span class="annot"><span class="annottext">LabelName
</span><span class="hs-string">&quot;at least 25% of delegates will delegate to this epoch&quot;</span></span><span>
</span><span id="line-132"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0.25</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">[(Epoch, Epoch)] -&gt; Double
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-ledger-1.1.0.1/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Delegation.html#thisEpochDelegationsRatio"><span class="hs-identifier hs-var">thisEpochDelegationsRatio</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Trace CHAIN -&gt; [(Epoch, Epoch)]
</span><a href="#local-6989586621679114494"><span class="hs-identifier hs-var">epochDelegationEpoch</span></a></span><span> </span><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114487"><span class="hs-identifier hs-var">tr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span>    </span><span class="hs-comment">-- for at least 60% of traces...</span><span>
</span><span id="line-135"></span><span>    </span><span class="annot"><span class="annottext">CoverPercentage -&gt; LabelName -&gt; Bool -&gt; PropertyT IO ()
forall (m :: * -&gt; *).
(MonadTest m, HasCallStack) =&gt;
CoverPercentage -&gt; LabelName -&gt; Bool -&gt; m ()
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#cover"><span class="hs-identifier hs-var">cover</span></a></span><span>
</span><span id="line-136"></span><span>      </span><span class="annot"><span class="annottext">CoverPercentage
</span><span class="hs-number">60</span></span><span>
</span><span id="line-137"></span><span>      </span><span class="annot"><span class="annottext">LabelName
</span><span class="hs-string">&quot;at least 50% of delegations will delegate to the next epoch&quot;</span></span><span>
</span><span id="line-138"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0.5</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">[(Epoch, Epoch)] -&gt; Double
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-ledger-1.1.0.1/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Delegation.html#nextEpochDelegationsRatio"><span class="hs-identifier hs-var">nextEpochDelegationsRatio</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Trace CHAIN -&gt; [(Epoch, Epoch)]
</span><a href="#local-6989586621679114494"><span class="hs-identifier hs-var">epochDelegationEpoch</span></a></span><span> </span><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114487"><span class="hs-identifier hs-var">tr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span>    </span><span class="hs-comment">-- for at least 10% of traces...</span><span>
</span><span id="line-141"></span><span>    </span><span class="annot"><span class="annottext">CoverPercentage -&gt; LabelName -&gt; Bool -&gt; PropertyT IO ()
forall (m :: * -&gt; *).
(MonadTest m, HasCallStack) =&gt;
CoverPercentage -&gt; LabelName -&gt; Bool -&gt; m ()
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#cover"><span class="hs-identifier hs-var">cover</span></a></span><span>
</span><span id="line-142"></span><span>      </span><span class="annot"><span class="annottext">CoverPercentage
</span><span class="hs-number">10</span></span><span>
</span><span id="line-143"></span><span>      </span><span class="annot"><span class="annottext">LabelName
</span><span class="hs-string">&quot;at most 30% of certificates will self-delegate&quot;</span></span><span>
</span><span id="line-144"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[DCert] -&gt; Double
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-ledger-1.1.0.1/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Delegation.html#selfDelegationsRatio"><span class="hs-identifier hs-var">selfDelegationsRatio</span></a></span><span> </span><span class="annot"><span class="annottext">[DCert]
</span><a href="#local-6989586621679114488"><span class="hs-identifier hs-var">certs</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0.30</span></span><span class="hs-special">)</span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span>    </span><span class="hs-comment">-- for at least 60% of traces...</span><span>
</span><span id="line-147"></span><span>    </span><span class="annot"><span class="annottext">CoverPercentage -&gt; LabelName -&gt; Bool -&gt; PropertyT IO ()
forall (m :: * -&gt; *).
(MonadTest m, HasCallStack) =&gt;
CoverPercentage -&gt; LabelName -&gt; Bool -&gt; m ()
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#cover"><span class="hs-identifier hs-var">cover</span></a></span><span>
</span><span id="line-148"></span><span>      </span><span class="annot"><span class="annottext">CoverPercentage
</span><span class="hs-number">60</span></span><span>
</span><span id="line-149"></span><span>      </span><span class="annot"><span class="annottext">LabelName
</span><span class="hs-string">&quot;at least 25% delegates have multiple delegators&quot;</span></span><span>
</span><span id="line-150"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0.25</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">[DCert] -&gt; Double
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-ledger-1.1.0.1/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Delegation.html#multipleDelegationsRatio"><span class="hs-identifier hs-var">multipleDelegationsRatio</span></a></span><span> </span><span class="annot"><span class="annottext">[DCert]
</span><a href="#local-6989586621679114488"><span class="hs-identifier hs-var">certs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-151"></span><span>
</span><span id="line-152"></span><span>    </span><span class="hs-comment">-- for at least 20% of traces...</span><span>
</span><span id="line-153"></span><span>    </span><span class="annot"><span class="annottext">CoverPercentage -&gt; LabelName -&gt; Bool -&gt; PropertyT IO ()
forall (m :: * -&gt; *).
(MonadTest m, HasCallStack) =&gt;
CoverPercentage -&gt; LabelName -&gt; Bool -&gt; m ()
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#cover"><span class="hs-identifier hs-var">cover</span></a></span><span>
</span><span id="line-154"></span><span>      </span><span class="annot"><span class="annottext">CoverPercentage
</span><span class="hs-number">20</span></span><span>
</span><span id="line-155"></span><span>      </span><span class="annot"><span class="annottext">LabelName
</span><span class="hs-string">&quot;some delegates have at least 5 corresponding delegators&quot;</span></span><span>
</span><span id="line-156"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">[DCert] -&gt; Int
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-ledger-1.1.0.1/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Delegation.html#maxDelegationsTo"><span class="hs-identifier hs-var">maxDelegationsTo</span></a></span><span> </span><span class="annot"><span class="annottext">[DCert]
</span><a href="#local-6989586621679114488"><span class="hs-identifier hs-var">certs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-157"></span><span>
</span><span id="line-158"></span><span>    </span><span class="hs-comment">-- for at least 5% of traces...</span><span>
</span><span id="line-159"></span><span>    </span><span class="annot"><span class="annottext">CoverPercentage -&gt; LabelName -&gt; Bool -&gt; PropertyT IO ()
forall (m :: * -&gt; *).
(MonadTest m, HasCallStack) =&gt;
CoverPercentage -&gt; LabelName -&gt; Bool -&gt; m ()
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#cover"><span class="hs-identifier hs-var">cover</span></a></span><span>
</span><span id="line-160"></span><span>      </span><span class="annot"><span class="annottext">CoverPercentage
</span><span class="hs-number">5</span></span><span>
</span><span id="line-161"></span><span>      </span><span class="annot"><span class="annottext">LabelName
</span><span class="hs-string">&quot;at most 50% of delegators change their delegation&quot;</span></span><span>
</span><span id="line-162"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[DCert] -&gt; Double
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-ledger-1.1.0.1/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Delegation.html#changedDelegationsRatio"><span class="hs-identifier hs-var">changedDelegationsRatio</span></a></span><span> </span><span class="annot"><span class="annottext">[DCert]
</span><a href="#local-6989586621679114488"><span class="hs-identifier hs-var">certs</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0.5</span></span><span class="hs-special">)</span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span>    </span><span class="hs-comment">-- for at least 20% of traces...</span><span>
</span><span id="line-165"></span><span>    </span><span class="annot"><span class="annottext">CoverPercentage -&gt; LabelName -&gt; Bool -&gt; PropertyT IO ()
forall (m :: * -&gt; *).
(MonadTest m, HasCallStack) =&gt;
CoverPercentage -&gt; LabelName -&gt; Bool -&gt; m ()
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#cover"><span class="hs-identifier hs-var">cover</span></a></span><span>
</span><span id="line-166"></span><span>      </span><span class="annot"><span class="annottext">CoverPercentage
</span><span class="hs-number">20</span></span><span>
</span><span id="line-167"></span><span>      </span><span class="annot"><span class="annottext">LabelName
</span><span class="hs-string">&quot;some delegators have changed their delegation 5 or more times&quot;</span></span><span>
</span><span id="line-168"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">[DCert] -&gt; Int
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-ledger-1.1.0.1/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Delegation.html#maxChangedDelegations"><span class="hs-identifier hs-var">maxChangedDelegations</span></a></span><span> </span><span class="annot"><span class="annottext">[DCert]
</span><a href="#local-6989586621679114488"><span class="hs-identifier hs-var">certs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span>    </span><span class="hs-comment">-- for at least 2% of traces...</span><span>
</span><span id="line-171"></span><span>    </span><span class="annot"><span class="annottext">CoverPercentage -&gt; LabelName -&gt; Bool -&gt; PropertyT IO ()
forall (m :: * -&gt; *).
(MonadTest m, HasCallStack) =&gt;
CoverPercentage -&gt; LabelName -&gt; Bool -&gt; m ()
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#cover"><span class="hs-identifier hs-var">cover</span></a></span><span>
</span><span id="line-172"></span><span>      </span><span class="annot"><span class="annottext">CoverPercentage
</span><span class="hs-number">2</span></span><span>
</span><span id="line-173"></span><span>      </span><span class="annot"><span class="annottext">LabelName
</span><span class="hs-string">&quot;at most 25% of delegations are repeats&quot;</span></span><span>
</span><span id="line-174"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[DCert] -&gt; Double
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-ledger-1.1.0.1/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Delegation.html#repeatedDelegationsRatio"><span class="hs-identifier hs-var">repeatedDelegationsRatio</span></a></span><span> </span><span class="annot"><span class="annottext">[DCert]
</span><a href="#local-6989586621679114488"><span class="hs-identifier hs-var">certs</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0.25</span></span><span class="hs-special">)</span><span>
</span><span id="line-175"></span><span>
</span><span id="line-176"></span><span>    </span><span class="hs-comment">-- for at least 30% of traces...</span><span>
</span><span id="line-177"></span><span>    </span><span class="annot"><span class="annottext">CoverPercentage -&gt; LabelName -&gt; Bool -&gt; PropertyT IO ()
forall (m :: * -&gt; *).
(MonadTest m, HasCallStack) =&gt;
CoverPercentage -&gt; LabelName -&gt; Bool -&gt; m ()
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#cover"><span class="hs-identifier hs-var">cover</span></a></span><span>
</span><span id="line-178"></span><span>      </span><span class="annot"><span class="annottext">CoverPercentage
</span><span class="hs-number">30</span></span><span>
</span><span id="line-179"></span><span>      </span><span class="annot"><span class="annottext">LabelName
</span><span class="hs-string">&quot;some delegations are repeated 10 or more times&quot;</span></span><span>
</span><span id="line-180"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">10</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">[DCert] -&gt; Int
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-ledger-1.1.0.1/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Delegation.html#maxRepeatedDelegations"><span class="hs-identifier hs-var">maxRepeatedDelegations</span></a></span><span> </span><span class="annot"><span class="annottext">[DCert]
</span><a href="#local-6989586621679114488"><span class="hs-identifier hs-var">certs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span>    </span><span class="hs-comment">-- for at least 15% of traces...</span><span>
</span><span id="line-183"></span><span>    </span><span class="annot"><span class="annottext">CoverPercentage -&gt; LabelName -&gt; Bool -&gt; PropertyT IO ()
forall (m :: * -&gt; *).
(MonadTest m, HasCallStack) =&gt;
CoverPercentage -&gt; LabelName -&gt; Bool -&gt; m ()
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#cover"><span class="hs-identifier hs-var">cover</span></a></span><span>
</span><span id="line-184"></span><span>      </span><span class="annot"><span class="annottext">CoverPercentage
</span><span class="hs-number">15</span></span><span>
</span><span id="line-185"></span><span>      </span><span class="annot"><span class="annottext">LabelName
</span><span class="hs-string">&quot;some blocks have 5 or more certificates&quot;</span></span><span>
</span><span id="line-186"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">[[DCert]] -&gt; Int
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-ledger-1.1.0.1/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Delegation.html#maxCertsPerBlock"><span class="hs-identifier hs-var">maxCertsPerBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Trace CHAIN -&gt; [[DCert]]
</span><a href="Test.Byron.Spec.Chain.STS.Properties.html#traceDCertsByBlock"><span class="hs-identifier hs-var">traceDCertsByBlock</span></a></span><span> </span><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114487"><span class="hs-identifier hs-var">tr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-187"></span><span>
</span><span id="line-188"></span><span>    </span><span class="hs-comment">-- for at least 50% of traces...</span><span>
</span><span id="line-189"></span><span>    </span><span class="annot"><span class="annottext">CoverPercentage -&gt; LabelName -&gt; Bool -&gt; PropertyT IO ()
forall (m :: * -&gt; *).
(MonadTest m, HasCallStack) =&gt;
CoverPercentage -&gt; LabelName -&gt; Bool -&gt; m ()
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#cover"><span class="hs-identifier hs-var">cover</span></a></span><span>
</span><span id="line-190"></span><span>      </span><span class="annot"><span class="annottext">CoverPercentage
</span><span class="hs-number">50</span></span><span>
</span><span id="line-191"></span><span>      </span><span class="annot"><span class="annottext">LabelName
</span><span class="hs-string">&quot;there is at least one change of epoch in the trace&quot;</span></span><span>
</span><span id="line-192"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Trace CHAIN -&gt; Int
</span><a href="#local-6989586621679114504"><span class="hs-identifier hs-var">epochBoundariesInTrace</span></a></span><span> </span><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114487"><span class="hs-identifier hs-var">tr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span>
</span><span id="line-194"></span><span>    </span><span class="hs-comment">-- for at least 30% of traces...</span><span>
</span><span id="line-195"></span><span>    </span><span class="annot"><span class="annottext">CoverPercentage -&gt; LabelName -&gt; Bool -&gt; PropertyT IO ()
forall (m :: * -&gt; *).
(MonadTest m, HasCallStack) =&gt;
CoverPercentage -&gt; LabelName -&gt; Bool -&gt; m ()
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/hedgehog-1.7-491273c491675cc21dc684e9f0d432f387f0f4ec3482f7b96db864fe9e6aa6fd/share/doc/html/src/Hedgehog.Internal.Property.html#cover"><span class="hs-identifier hs-var">cover</span></a></span><span>
</span><span id="line-196"></span><span>      </span><span class="annot"><span class="annottext">CoverPercentage
</span><span class="hs-number">30</span></span><span>
</span><span id="line-197"></span><span>      </span><span class="annot"><span class="annottext">LabelName
</span><span class="hs-string">&quot;there are at least 5 epoch changes in the trace&quot;</span></span><span>
</span><span id="line-198"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Trace CHAIN -&gt; Int
</span><a href="#local-6989586621679114504"><span class="hs-identifier hs-var">epochBoundariesInTrace</span></a></span><span> </span><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114487"><span class="hs-identifier hs-var">tr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-199"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-200"></span><span>    </span><span class="hs-comment">-- Get the epoch in which the delegation certificates of the trace were</span><span>
</span><span id="line-201"></span><span>    </span><span class="hs-comment">-- applied, paired with the epoch of the delegation certificate.</span><span>
</span><span id="line-202"></span><span>    </span><span class="annot"><a href="#local-6989586621679114494"><span class="hs-identifier hs-type">epochDelegationEpoch</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Trace.html#Trace"><span class="hs-identifier hs-type">Trace</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Chain.html#CHAIN"><span class="hs-identifier hs-type">CHAIN</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-ledger-1.1.0.1/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Epoch"><span class="hs-identifier hs-type">Epoch</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-ledger-1.1.0.1/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Epoch"><span class="hs-identifier hs-type">Epoch</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-203"></span><span>    </span><span id="local-6989586621679114494"><span class="annot"><span class="annottext">epochDelegationEpoch :: Trace CHAIN -&gt; [(Epoch, Epoch)]
</span><a href="#local-6989586621679114494"><span class="hs-identifier hs-var hs-var">epochDelegationEpoch</span></a></span></span><span> </span><span id="local-6989586621679114505"><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114505"><span class="hs-identifier hs-var">tr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-204"></span><span>      </span><span class="annot"><span class="annottext">forall s. TraceOrder -&gt; Trace s -&gt; [(State s, Signal s)]
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Trace.html#preStatesAndSignals"><span class="hs-identifier hs-var">preStatesAndSignals</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Chain.html#CHAIN"><span class="hs-identifier hs-type">CHAIN</span></a></span><span> </span><span class="annot"><span class="annottext">TraceOrder
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Trace.html#OldestFirst"><span class="hs-identifier hs-var">OldestFirst</span></a></span><span> </span><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114505"><span class="hs-identifier hs-var">tr</span></a></span><span>
</span><span id="line-205"></span><span>        </span><span class="annot"><span class="annottext">[((Slot, Seq VKeyGenesis, Hash, UTxOState, DIState, UPIState),
  Block)]
-&gt; ([((Slot, Seq VKeyGenesis, Hash, UTxOState, DIState, UPIState),
      Block)]
    -&gt; [(Epoch, [Epoch])])
-&gt; [(Epoch, [Epoch])]
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">(((Slot, Seq VKeyGenesis, Hash, UTxOState, DIState, UPIState),
  Block)
 -&gt; (Epoch, [Epoch]))
-&gt; [((Slot, Seq VKeyGenesis, Hash, UTxOState, DIState, UPIState),
     Block)]
-&gt; [(Epoch, [Epoch])]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Slot -&gt; Epoch
</span><a href="#local-6989586621679114506"><span class="hs-identifier hs-var">sEpoch_</span></a></span><span> </span><span class="annot"><span class="annottext">(Slot -&gt; Epoch)
-&gt; ((Slot, Seq VKeyGenesis, Hash, UTxOState, DIState, UPIState)
    -&gt; Slot)
-&gt; (Slot, Seq VKeyGenesis, Hash, UTxOState, DIState, UPIState)
-&gt; Epoch
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Getting
  Slot
  (Slot, Seq VKeyGenesis, Hash, UTxOState, DIState, UPIState)
  Slot
-&gt; (Slot, Seq VKeyGenesis, Hash, UTxOState, DIState, UPIState)
-&gt; Slot
forall a s. Getting a s a -&gt; s -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Extras.html#view"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">Getting
  Slot
  (Slot, Seq VKeyGenesis, Hash, UTxOState, DIState, UPIState)
  Slot
forall s t a b. Field1 s t a b =&gt; Lens s t a b
Lens
  (Slot, Seq VKeyGenesis, Hash, UTxOState, DIState, UPIState)
  (Slot, Seq VKeyGenesis, Hash, UTxOState, DIState, UPIState)
  Slot
  Slot
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Internal.html#_1"><span class="hs-identifier hs-var">_1</span></a></span><span> </span><span class="annot"><span class="annottext">((Slot, Seq VKeyGenesis, Hash, UTxOState, DIState, UPIState)
 -&gt; Epoch)
-&gt; (Block -&gt; [Epoch])
-&gt; ((Slot, Seq VKeyGenesis, Hash, UTxOState, DIState, UPIState),
    Block)
-&gt; (Epoch, [Epoch])
forall b c b' c'. (b -&gt; c) -&gt; (b' -&gt; c') -&gt; (b, b') -&gt; (c, c')
forall (a :: * -&gt; * -&gt; *) b c b' c'.
Arrow a =&gt;
a b c -&gt; a b' c' -&gt; a (b, b') (c, c')
</span><span class="hs-operator hs-var">***</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(DCert -&gt; Epoch) -&gt; [DCert] -&gt; [Epoch]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">DCert -&gt; Epoch
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-ledger-1.1.0.1/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Delegation.html#depoch"><span class="hs-identifier hs-var">depoch</span></a></span><span> </span><span class="annot"><span class="annottext">([DCert] -&gt; [Epoch]) -&gt; (Block -&gt; [DCert]) -&gt; Block -&gt; [Epoch]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BlockBody -&gt; [DCert]
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Block.html#_bDCerts"><span class="hs-identifier hs-var">_bDCerts</span></a></span><span> </span><span class="annot"><span class="annottext">(BlockBody -&gt; [DCert]) -&gt; (Block -&gt; BlockBody) -&gt; Block -&gt; [DCert]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Block -&gt; BlockBody
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Block.html#_bBody"><span class="hs-identifier hs-var">_bBody</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-206"></span><span>        </span><span class="annot"><span class="annottext">[(Epoch, [Epoch])]
-&gt; ([(Epoch, [Epoch])] -&gt; [[(Epoch, Epoch)]]) -&gt; [[(Epoch, Epoch)]]
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">((Epoch, [Epoch]) -&gt; [(Epoch, Epoch)])
-&gt; [(Epoch, [Epoch])] -&gt; [[(Epoch, Epoch)]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679114510"><span class="annot"><span class="annottext">Epoch
</span><a href="#local-6989586621679114510"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679114511"><span class="annot"><span class="annottext">[Epoch]
</span><a href="#local-6989586621679114511"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Epoch] -&gt; [Epoch] -&gt; [(Epoch, Epoch)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-identifier hs-var">zip</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Epoch -&gt; [Epoch]
forall a. a -&gt; [a]
</span><span class="hs-identifier hs-var">repeat</span></span><span> </span><span class="annot"><span class="annottext">Epoch
</span><a href="#local-6989586621679114510"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Epoch]
</span><a href="#local-6989586621679114511"><span class="hs-identifier hs-var">es</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-207"></span><span>        </span><span class="annot"><span class="annottext">[[(Epoch, Epoch)]]
-&gt; ([[(Epoch, Epoch)]] -&gt; [(Epoch, Epoch)]) -&gt; [(Epoch, Epoch)]
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">[[(Epoch, Epoch)]] -&gt; [(Epoch, Epoch)]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span>
</span><span id="line-208"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-209"></span><span>        </span><span id="local-6989586621679114514"><span class="annot"><span class="annottext">blockCount :: BlockCount
</span><a href="#local-6989586621679114514"><span class="hs-identifier hs-var hs-var">blockCount</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Trace CHAIN -&gt; Environment CHAIN
forall s. Trace s -&gt; Environment s
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Trace.html#_traceEnv"><span class="hs-identifier hs-var">_traceEnv</span></a></span><span> </span><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114505"><span class="hs-identifier hs-var">tr</span></a></span><span> </span><span class="annot"><span class="annottext">(Slot, UTxO, Set VKeyGenesis, PParams, BlockCount)
-&gt; Getting
     BlockCount
     (Slot, UTxO, Set VKeyGenesis, PParams, BlockCount)
     BlockCount
-&gt; BlockCount
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting
  BlockCount
  (Slot, UTxO, Set VKeyGenesis, PParams, BlockCount)
  BlockCount
forall s t a b. Field5 s t a b =&gt; Lens s t a b
Lens
  (Slot, UTxO, Set VKeyGenesis, PParams, BlockCount)
  (Slot, UTxO, Set VKeyGenesis, PParams, BlockCount)
  BlockCount
  BlockCount
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Internal.html#_5"><span class="hs-identifier hs-var">_5</span></a></span><span>
</span><span id="line-210"></span><span>        </span><span id="local-6989586621679114506"><span class="annot"><span class="annottext">sEpoch_ :: Slot -&gt; Epoch
</span><a href="#local-6989586621679114506"><span class="hs-identifier hs-var hs-var">sEpoch_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Slot -&gt; BlockCount -&gt; Epoch) -&gt; BlockCount -&gt; Slot -&gt; Epoch
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">HasCallStack =&gt; Slot -&gt; BlockCount -&gt; Epoch
Slot -&gt; BlockCount -&gt; Epoch
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Epoch.html#sEpoch"><span class="hs-identifier hs-var">sEpoch</span></a></span><span> </span><span class="annot"><span class="annottext">BlockCount
</span><a href="#local-6989586621679114514"><span class="hs-identifier hs-var">blockCount</span></a></span><span>
</span><span id="line-211"></span><span>
</span><span id="line-212"></span><span>    </span><span class="hs-comment">-- Count the number of epoch boundaries in the trace</span><span>
</span><span id="line-213"></span><span>    </span><span class="annot"><a href="#local-6989586621679114504"><span class="hs-identifier hs-type">epochBoundariesInTrace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Trace.html#Trace"><span class="hs-identifier hs-type">Trace</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Chain.html#CHAIN"><span class="hs-identifier hs-type">CHAIN</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-214"></span><span>    </span><span id="local-6989586621679114504"><span class="annot"><span class="annottext">epochBoundariesInTrace :: Trace CHAIN -&gt; Int
</span><a href="#local-6989586621679114504"><span class="hs-identifier hs-var hs-var">epochBoundariesInTrace</span></a></span></span><span> </span><span id="local-6989586621679114516"><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114516"><span class="hs-identifier hs-var">tr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-215"></span><span>      </span><span class="annot"><span class="annottext">[Word64] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">([Word64] -&gt; Int) -&gt; [Word64] -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-216"></span><span>        </span><span class="annot"><span class="annottext">(Word64 -&gt; Bool) -&gt; [Word64] -&gt; [Word64]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Slot -&gt; Word64
</span><a href="#local-6989586621679114517"><span class="hs-identifier hs-var">isAtBoundary</span></a></span><span> </span><span class="annot"><span class="annottext">(Slot -&gt; Word64) -&gt; [Slot] -&gt; [Word64]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Slot]
</span><a href="#local-6989586621679114519"><span class="hs-identifier hs-var">slots</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-217"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-218"></span><span>        </span><span id="local-6989586621679114520"><span class="annot"><span class="annottext">blocks :: [Signal CHAIN]
</span><a href="#local-6989586621679114520"><span class="hs-identifier hs-var hs-var">blocks</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TraceOrder -&gt; Trace CHAIN -&gt; [Signal CHAIN]
forall s. TraceOrder -&gt; Trace s -&gt; [Signal s]
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Trace.html#traceSignals"><span class="hs-identifier hs-var">traceSignals</span></a></span><span> </span><span class="annot"><span class="annottext">TraceOrder
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Trace.html#NewestFirst"><span class="hs-identifier hs-var">NewestFirst</span></a></span><span> </span><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114516"><span class="hs-identifier hs-var">tr</span></a></span><span>
</span><span id="line-219"></span><span>        </span><span id="local-6989586621679114519"><span class="annot"><span class="annottext">slots :: [Slot]
</span><a href="#local-6989586621679114519"><span class="hs-identifier hs-var hs-var">slots</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Block]
[Signal CHAIN]
</span><a href="#local-6989586621679114520"><span class="hs-identifier hs-var">blocks</span></a></span><span> </span><span class="annot"><span class="annottext">[Block] -&gt; Getting (Endo [Slot]) [Block] Slot -&gt; [Slot]
forall s a. s -&gt; Getting (Endo [a]) s a -&gt; [a]
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E.."><span class="hs-operator hs-var">^..</span></a></span><span> </span><span class="annot"><span class="annottext">(Block -&gt; Const (Endo [Slot]) Block)
-&gt; [Block] -&gt; Const (Endo [Slot]) [Block]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; [a] -&gt; f [b]
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="annot"><span class="annottext">((Block -&gt; Const (Endo [Slot]) Block)
 -&gt; [Block] -&gt; Const (Endo [Slot]) [Block])
-&gt; ((Slot -&gt; Const (Endo [Slot]) Slot)
    -&gt; Block -&gt; Const (Endo [Slot]) Block)
-&gt; Getting (Endo [Slot]) [Block] Slot
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(BlockHeader -&gt; Const (Endo [Slot]) BlockHeader)
-&gt; Block -&gt; Const (Endo [Slot]) Block
Lens' Block BlockHeader
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Block.html#bHeader"><span class="hs-identifier hs-var">bHeader</span></a></span><span> </span><span class="annot"><span class="annottext">((BlockHeader -&gt; Const (Endo [Slot]) BlockHeader)
 -&gt; Block -&gt; Const (Endo [Slot]) Block)
-&gt; ((Slot -&gt; Const (Endo [Slot]) Slot)
    -&gt; BlockHeader -&gt; Const (Endo [Slot]) BlockHeader)
-&gt; (Slot -&gt; Const (Endo [Slot]) Slot)
-&gt; Block
-&gt; Const (Endo [Slot]) Block
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Slot -&gt; Const (Endo [Slot]) Slot)
-&gt; BlockHeader -&gt; Const (Endo [Slot]) BlockHeader
Lens' BlockHeader Slot
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Block.html#bhSlot"><span class="hs-identifier hs-var">bhSlot</span></a></span><span>
</span><span id="line-220"></span><span>        </span><span id="local-6989586621679114521"><span class="annot"><span class="annottext">k :: BlockCount
</span><a href="#local-6989586621679114521"><span class="hs-identifier hs-var hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Trace CHAIN -&gt; Environment CHAIN
forall s. Trace s -&gt; Environment s
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Trace.html#_traceEnv"><span class="hs-identifier hs-var">_traceEnv</span></a></span><span> </span><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114516"><span class="hs-identifier hs-var">tr</span></a></span><span> </span><span class="annot"><span class="annottext">(Slot, UTxO, Set VKeyGenesis, PParams, BlockCount)
-&gt; Getting
     BlockCount
     (Slot, UTxO, Set VKeyGenesis, PParams, BlockCount)
     BlockCount
-&gt; BlockCount
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting
  BlockCount
  (Slot, UTxO, Set VKeyGenesis, PParams, BlockCount)
  BlockCount
forall s t a b. Field5 s t a b =&gt; Lens s t a b
Lens
  (Slot, UTxO, Set VKeyGenesis, PParams, BlockCount)
  (Slot, UTxO, Set VKeyGenesis, PParams, BlockCount)
  BlockCount
  BlockCount
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Internal.html#_5"><span class="hs-identifier hs-var">_5</span></a></span><span>
</span><span id="line-221"></span><span>        </span><span id="local-6989586621679114517"><span class="annot"><span class="annottext">isAtBoundary :: Slot -&gt; Word64
</span><a href="#local-6989586621679114517"><span class="hs-identifier hs-var hs-var">isAtBoundary</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`rem`</span></span><span> </span><span class="annot"><span class="annottext">BlockCount -&gt; Word64
forall n. Integral n =&gt; BlockCount -&gt; n
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-ledger-1.1.0.1/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.GlobalParams.html#slotsPerEpoch"><span class="hs-identifier hs-var">slotsPerEpoch</span></a></span><span> </span><span class="annot"><span class="annottext">BlockCount
</span><a href="#local-6989586621679114521"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; Word64) -&gt; (Slot -&gt; Word64) -&gt; Slot -&gt; Word64
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Slot -&gt; Word64
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-ledger-1.1.0.1/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#unSlot"><span class="hs-identifier hs-var">unSlot</span></a></span><span>
</span><span id="line-222"></span><span>
</span><span id="line-223"></span><span class="hs-comment">-- | Extract the delegation certificates in the blocks, in the order they would</span><span>
</span><span id="line-224"></span><span class="hs-comment">-- have been applied.</span><span>
</span><span id="line-225"></span><span class="annot"><a href="Test.Byron.Spec.Chain.STS.Properties.html#traceDCertsByBlock"><span class="hs-identifier hs-type">traceDCertsByBlock</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Trace.html#Trace"><span class="hs-identifier hs-type">Trace</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Chain.html#CHAIN"><span class="hs-identifier hs-type">CHAIN</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-ledger-1.1.0.1/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Delegation.html#DCert"><span class="hs-identifier hs-type">DCert</span></a></span><span class="hs-special">]</span><span class="hs-special">]</span><span>
</span><span id="line-226"></span><span id="traceDCertsByBlock"><span class="annot"><span class="annottext">traceDCertsByBlock :: Trace CHAIN -&gt; [[DCert]]
</span><a href="Test.Byron.Spec.Chain.STS.Properties.html#traceDCertsByBlock"><span class="hs-identifier hs-var hs-var">traceDCertsByBlock</span></a></span></span><span> </span><span id="local-6989586621679114523"><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114523"><span class="hs-identifier hs-var">tr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BlockBody -&gt; [DCert]
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Block.html#_bDCerts"><span class="hs-identifier hs-var">_bDCerts</span></a></span><span> </span><span class="annot"><span class="annottext">(BlockBody -&gt; [DCert]) -&gt; (Block -&gt; BlockBody) -&gt; Block -&gt; [DCert]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Block -&gt; BlockBody
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Block.html#_bBody"><span class="hs-identifier hs-var">_bBody</span></a></span><span> </span><span class="annot"><span class="annottext">(Block -&gt; [DCert]) -&gt; [Block] -&gt; [[DCert]]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">TraceOrder -&gt; Trace CHAIN -&gt; [Signal CHAIN]
forall s. TraceOrder -&gt; Trace s -&gt; [Signal s]
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Trace.html#traceSignals"><span class="hs-identifier hs-var">traceSignals</span></a></span><span> </span><span class="annot"><span class="annottext">TraceOrder
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Trace.html#OldestFirst"><span class="hs-identifier hs-var">OldestFirst</span></a></span><span> </span><span class="annot"><span class="annottext">Trace CHAIN
</span><a href="#local-6989586621679114523"><span class="hs-identifier hs-var">tr</span></a></span><span>
</span><span id="line-227"></span><span>
</span><span id="line-228"></span><span class="annot"><span class="hs-comment">-- | Flattended list of DCerts for the given Trace</span></span><span>
</span><span id="line-229"></span><span class="annot"><a href="Test.Byron.Spec.Chain.STS.Properties.html#traceDCerts"><span class="hs-identifier hs-type">traceDCerts</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/small-steps-1.1.2.0/l/testlib/doc/html/small-steps/src/Test.Control.State.Transition.Trace.html#Trace"><span class="hs-identifier hs-type">Trace</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-chain-1.0.1.1/doc/html/byron-spec-chain/src/Byron.Spec.Chain.STS.Rule.Chain.html#CHAIN"><span class="hs-identifier hs-type">CHAIN</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/byron-spec-ledger-1.1.0.1/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Delegation.html#DCert"><span class="hs-identifier hs-type">DCert</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-230"></span><span id="traceDCerts"><span class="annot"><span class="annottext">traceDCerts :: Trace CHAIN -&gt; [DCert]
</span><a href="Test.Byron.Spec.Chain.STS.Properties.html#traceDCerts"><span class="hs-identifier hs-var hs-var">traceDCerts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[[DCert]] -&gt; [DCert]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span> </span><span class="annot"><span class="annottext">([[DCert]] -&gt; [DCert])
-&gt; (Trace CHAIN -&gt; [[DCert]]) -&gt; Trace CHAIN -&gt; [DCert]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Trace CHAIN -&gt; [[DCert]]
</span><a href="Test.Byron.Spec.Chain.STS.Properties.html#traceDCertsByBlock"><span class="hs-identifier hs-var">traceDCertsByBlock</span></a></span><span>
</span><span id="line-231"></span></pre></body></html>