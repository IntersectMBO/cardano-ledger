<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE AllowAmbiguousTypes #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE QuasiQuotes #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE UndecidableSuperClasses #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE ViewPatterns #-}</span><span>
</span><span id="line-14"></span><span class="hs-pragma">{-# OPTIONS_GHC -O0 #-}</span><span>
</span><span id="line-15"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-orphans #-}</span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span class="hs-comment">-- | Specs necessary to generate constrained (well formed) values of</span><span>
</span><span id="line-18"></span><span class="hs-comment">--   types that appear in the Cardano Ledger Types. These Specifications</span><span>
</span><span id="line-19"></span><span class="hs-comment">--   are Era parametric, and one can use them to generate well formed</span><span>
</span><span id="line-20"></span><span class="hs-comment">--   values in any era (Shelley,Allegra,Mary,Alonzo,Babbage,Conway)</span><span>
</span><span id="line-21"></span><span class="hs-comment">--   by type applying them to a particular era type. These specifications</span><span>
</span><span id="line-22"></span><span class="hs-comment">--   are a usefull guide to building ones own specifications with one's own</span><span>
</span><span id="line-23"></span><span class="hs-comment">--   idea of whats well formed.</span><span>
</span><span id="line-24"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-25"></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-api-1.13.0.0/doc/html/cardano-ledger-api/src/Cardano.Ledger.Api.html"><span class="hs-identifier">Cardano.Ledger.Api</span></a></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.BaseTypes.html"><span class="hs-identifier">Cardano.Ledger.BaseTypes</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.BaseTypes.html#inject"><span class="hs-identifier">inject</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html"><span class="hs-identifier">Cardano.Ledger.Coin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier">Coin</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Compactible.html#CompactForm"><span class="hs-identifier">CompactForm</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#DeltaCoin"><span class="hs-identifier">DeltaCoin</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#compactCoinOrError"><span class="hs-identifier">compactCoinOrError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-conway-1.21.0.0/doc/html/cardano-ledger-conway/src/Cardano.Ledger.Conway.Rules.html"><span class="hs-identifier">Cardano.Ledger.Conway.Rules</span></a></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-conway-1.21.0.0/doc/html/cardano-ledger-conway/src/Cardano.Ledger.Conway.State.html"><span class="hs-identifier">Cardano.Ledger.Conway.State</span></a></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html"><span class="hs-identifier">Cardano.Ledger.Credential</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier">Credential</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.html"><span class="hs-identifier">Cardano.Ledger.Keys</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Hashes.html#KeyHash"><span class="hs-identifier">KeyHash</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#KeyRole"><span class="hs-identifier">KeyRole</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.html"><span class="hs-identifier">Cardano.Ledger.Shelley.LedgerState</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-34"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#EpochState"><span class="hs-identifier">EpochState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#LedgerState"><span class="hs-identifier">LedgerState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#NewEpochState"><span class="hs-identifier">NewEpochState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#UTxOState"><span class="hs-identifier">UTxOState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#lsCertStateL"><span class="hs-identifier">lsCertStateL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.API.html"><span class="hs-identifier">Constrained.API</span></a></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Foldable</span></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Map</span></span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Set</span></span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/vector-map-1.1.0.1/doc/html/vector-map/src/Data.VMap.html"><span class="hs-identifier">Data.VMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/vector-map-1.1.0.1/doc/html/vector-map/src/Data.VMap.html#VB"><span class="hs-identifier">VB</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/vector-map-1.1.0.1/doc/html/vector-map/src/Data.VMap.html#VMap"><span class="hs-identifier">VMap</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/vector-map-1.1.0.1/doc/html/vector-map/src/Data.VMap.html#VP"><span class="hs-identifier">VP</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/vector-map-1.1.0.1/doc/html/vector-map/src/Data.VMap.html"><span class="hs-identifier">Data.VMap</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">VMap</span></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html"><span class="hs-identifier">Lens.Micro</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator">(^.)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">System.IO.Unsafe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">unsafePerformIO</span></span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.Deleg.html"><span class="hs-identifier">Test.Cardano.Ledger.Constrained.Conway.Deleg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.Deleg.html#isKeyHash"><span class="hs-identifier">isKeyHash</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.Gov.html"><span class="hs-identifier">Test.Cardano.Ledger.Constrained.Conway.Gov</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.Gov.html#govProposalsSpec"><span class="hs-identifier">govProposalsSpec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.Instances.html"><span class="hs-identifier">Test.Cardano.Ledger.Constrained.Conway.Instances</span></a></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.Instances.Basic.html"><span class="hs-identifier">Test.Cardano.Ledger.Constrained.Conway.Instances.Basic</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.ParametricSpec.html"><span class="hs-identifier">Test.Cardano.Ledger.Constrained.Conway.ParametricSpec</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-55"></span><span>  </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.ParametricSpec.html#EraSpecTxOut"><span class="hs-identifier">EraSpecTxOut</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span>  </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.ParametricSpec.html#txOutSpec"><span class="hs-identifier">txOutSpec</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.WitnessUniverse.html"><span class="hs-identifier">Test.Cardano.Ledger.Constrained.Conway.WitnessUniverse</span></a></span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/QuickCheck-2.15.0.1-db6b992e5543937dfb08677d3de2c6cdff04a2cc45767828f7dbc5be2917a404/share/doc/html/src/Test.QuickCheck.html"><span class="hs-identifier">Test.QuickCheck</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/QuickCheck-2.15.0.1-db6b992e5543937dfb08677d3de2c6cdff04a2cc45767828f7dbc5be2917a404/share/doc/html/src/Test.QuickCheck.Property.html#forAll"><span class="hs-identifier">forAll</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/QuickCheck-2.15.0.1-db6b992e5543937dfb08677d3de2c6cdff04a2cc45767828f7dbc5be2917a404/share/doc/html/src/Test.QuickCheck.Property.html#witness"><span class="hs-identifier">witness</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span class="hs-comment">-- ======================================================================================</span><span>
</span><span id="line-62"></span><span class="hs-comment">-- CERTS Contexts</span><span>
</span><span id="line-63"></span><span class="hs-comment">-- The WhoDelegates type, Withdrawals,</span><span>
</span><span id="line-64"></span><span class="hs-comment">-- and the necessary relationships between parts of the CertState</span><span>
</span><span id="line-65"></span><span class="hs-comment">-- ======================================================================================</span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span class="hs-keyword">type</span><span> </span><span id="WhoDelegates"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#WhoDelegates"><span class="hs-identifier hs-var">WhoDelegates</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#DRepRole"><span class="hs-identifier hs-type">DRepRole</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#Staking"><span class="hs-identifier hs-type">Staking</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span>
</span><span id="line-69"></span><span class="hs-comment">-- | In the Coway Era, the relationship between the Stake delegation and DRep delegation is</span><span>
</span><span id="line-70"></span><span class="hs-comment">--   quite subtle. The best way to get this right during constrained generation, is to generate</span><span>
</span><span id="line-71"></span><span class="hs-comment">--   one piece, we call `WhoDelegates` and compute the other pieces from that.</span><span>
</span><span id="line-72"></span><span class="hs-comment">--   type WhoDelegates = Map (Credential 'DRepRole) (Set (Credential 'Staking)</span><span>
</span><span id="line-73"></span><span class="hs-comment">--   The functions `delegatesTo`, `dRepsOf`, `credToDRep`, `delegators`, help compute the other pieces.</span><span>
</span><span id="line-74"></span><span class="hs-comment">--   One can observe that the VState and ConwayAccounts, both have Maps whose domain come from the</span><span>
</span><span id="line-75"></span><span class="hs-comment">--   domain of WhoDelegates and these maps have strong invariants with each other.</span><span>
</span><span id="line-76"></span><span class="hs-comment">--   We choose the type WhoDelegates because two key components of VState and ConwayAccounts have</span><span>
</span><span id="line-77"></span><span class="hs-comment">--   related fields that must agree in many subtle ways. The most important way in that the the</span><span>
</span><span id="line-78"></span><span class="hs-comment">--   domain of both the maps can be computed from WhoDelegates.</span><span>
</span><span id="line-79"></span><span class="hs-comment">--   VState {vsDReps :: !(Map (Credential DRepRole) DRepState) ..}</span><span>
</span><span id="line-80"></span><span class="hs-comment">--   ConwayAccounts :: {caStates :: Map(Credential Staking) (ConwayAccountState era)}</span><span>
</span><span id="line-81"></span><span class="hs-comment">--   Map.keysSet vsDReps == delegatesTo onepiece</span><span>
</span><span id="line-82"></span><span class="hs-comment">--   Map.keysSet caStates == delegators onepiece</span><span>
</span><span id="line-83"></span><span class="hs-comment">--   Other more subtle agreement come from fields inside DRepState and ConwayAccountState</span><span>
</span><span id="line-84"></span><span class="hs-comment">--   All of these are captured in the Specification for VState and DState (which contains the Account map)</span><span>
</span><span id="line-85"></span><span class="hs-comment">--   One other thing we need to consider is: newtype Withdrawals = Withdrawals {unWithdrawals :: Map RewardAccount Coin}</span><span>
</span><span id="line-86"></span><span class="hs-comment">--   WithDrawals come from Transactions, but they have subtle interactions with rewards map and the Drep delegation map</span><span>
</span><span id="line-87"></span><span class="hs-comment">--   So we give special Specifcations that will generate both in ways that maintain the important relationships.</span><span>
</span><span id="line-88"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#whoDelegatesSpec"><span class="hs-identifier hs-type">whoDelegatesSpec</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-89"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682705568"><span class="annot"><a href="#local-6989586621682705568"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-90"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#Era"><span class="hs-identifier hs-type">Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705568"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.WitnessUniverse.html#WitUniv"><span class="hs-identifier hs-type">WitUniv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705568"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Specification"><span class="hs-identifier hs-type">Specification</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#DRepRole"><span class="hs-identifier hs-type">DRepRole</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#Staking"><span class="hs-identifier hs-type">Staking</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span id="whoDelegatesSpec"><span class="annot"><span class="annottext">whoDelegatesSpec :: forall era.
Era era =&gt;
WitUniv era
-&gt; Specification
     (Map (Credential 'DRepRole) (Set (Credential 'Staking)))
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#whoDelegatesSpec"><span class="hs-identifier hs-var hs-var">whoDelegatesSpec</span></a></span></span><span> </span><span id="local-6989586621682706599"><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682706599"><span class="hs-identifier hs-var">univ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term (Map (Credential 'DRepRole) (Set (Credential 'Staking)))
 -&gt; [Pred])
-&gt; Specification
     (Map (Credential 'DRepRole) (Set (Credential 'Staking)))
forall a p.
(IsPred p, HasSpec a) =&gt;
(Term a -&gt; p) -&gt; Specification a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#constrained"><span class="hs-identifier hs-var">constrained</span></a></span><span> </span><span class="annot"><span class="annottext">((Term (Map (Credential 'DRepRole) (Set (Credential 'Staking)))
  -&gt; [Pred])
 -&gt; Specification
      (Map (Credential 'DRepRole) (Set (Credential 'Staking))))
-&gt; (Term (Map (Credential 'DRepRole) (Set (Credential 'Staking)))
    -&gt; [Pred])
-&gt; Specification
     (Map (Credential 'DRepRole) (Set (Credential 'Staking)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682706601"><span class="annot"><span class="annottext">Term (Map (Credential 'DRepRole) (Set (Credential 'Staking)))
</span><a href="#local-6989586621682706601"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-92"></span><span>  </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Term Bool -&gt; Pred
forall p. IsPred p =&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'DRepRole) (Set (Credential 'Staking)))
-&gt; Term Integer
forall a. (HasSpec a, Sized a) =&gt; Term a -&gt; Term Integer
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.TheKnot.html#sizeOf_"><span class="hs-identifier hs-var">sizeOf_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'DRepRole) (Set (Credential 'Staking)))
</span><a href="#local-6989586621682706601"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Term Integer -&gt; Term Integer -&gt; Term Bool
forall a. OrdLike a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.NumOrd.html#%3E%3D."><span class="hs-operator hs-var">&gt;=.</span></a></span><span> </span><span class="annot"><span class="annottext">Term Integer
</span><span class="hs-number">10</span></span><span>
</span><span id="line-93"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term Bool -&gt; Pred
forall p. IsPred p =&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'DRepRole) (Set (Credential 'Staking)))
-&gt; Term Integer
forall a. (HasSpec a, Sized a) =&gt; Term a -&gt; Term Integer
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.TheKnot.html#sizeOf_"><span class="hs-identifier hs-var">sizeOf_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'DRepRole) (Set (Credential 'Staking)))
</span><a href="#local-6989586621682706601"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Term Integer -&gt; Term Integer -&gt; Term Bool
forall a. OrdLike a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.NumOrd.html#%3C%3D."><span class="hs-operator hs-var">&lt;=.</span></a></span><span> </span><span class="annot"><span class="annottext">Term Integer
</span><span class="hs-number">20</span></span><span>
</span><span id="line-94"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">WitUniv era -&gt; Term (Set (Credential 'DRepRole)) -&gt; Pred
forall era t. Witnessed era t =&gt; WitUniv era -&gt; Term t -&gt; Pred
</span><a href="Test.Cardano.Ledger.Constrained.Conway.WitnessUniverse.html#witness"><span class="hs-identifier hs-var">witness</span></a></span><span> </span><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682706599"><span class="hs-identifier hs-var">univ</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term (Map (Credential 'DRepRole) (Set (Credential 'Staking)))
-&gt; Term (Set (Credential 'DRepRole))
forall k v.
(HasSpec (Map k v), HasSpec v, HasSpec k, Ord k, IsNormalType k,
 IsNormalType v) =&gt;
Term (Map k v) -&gt; Term (Set k)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Map.html#dom_"><span class="hs-identifier hs-var">dom_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'DRepRole) (Set (Credential 'Staking)))
</span><a href="#local-6989586621682706601"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">WitUniv era -&gt; Term [Set (Credential 'Staking)] -&gt; Pred
forall era t. Witnessed era t =&gt; WitUniv era -&gt; Term t -&gt; Pred
</span><a href="Test.Cardano.Ledger.Constrained.Conway.WitnessUniverse.html#witness"><span class="hs-identifier hs-var">witness</span></a></span><span> </span><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682706599"><span class="hs-identifier hs-var">univ</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term (Map (Credential 'DRepRole) (Set (Credential 'Staking)))
-&gt; Term [Set (Credential 'Staking)]
forall k v.
(HasSpec k, HasSpec v, Ord k, IsNormalType k, IsNormalType v) =&gt;
Term (Map k v) -&gt; Term [v]
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Map.html#rng_"><span class="hs-identifier hs-var">rng_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'DRepRole) (Set (Credential 'Staking)))
</span><a href="#local-6989586621682706601"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-96"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-97"></span><span>
</span><span id="line-98"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#wdrlSpec"><span class="hs-identifier hs-type">wdrlSpec</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-99"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#DRepRole"><span class="hs-identifier hs-type">DRepRole</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#Staking"><span class="hs-identifier hs-type">Staking</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-100"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Specification"><span class="hs-identifier hs-type">Specification</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Address.html#RewardAccount"><span class="hs-identifier hs-type">RewardAccount</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span id="wdrlSpec"><span class="annot"><span class="annottext">wdrlSpec :: Map (Credential 'DRepRole) (Set (Credential 'Staking))
-&gt; Specification (Map RewardAccount Coin)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#wdrlSpec"><span class="hs-identifier hs-var hs-var">wdrlSpec</span></a></span></span><span> </span><span id="local-6989586621682706610"><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking))
</span><a href="#local-6989586621682706610"><span class="hs-identifier hs-var">whodelegates</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term (Map RewardAccount Coin) -&gt; [Pred])
-&gt; Specification (Map RewardAccount Coin)
forall a p.
(IsPred p, HasSpec a) =&gt;
(Term a -&gt; p) -&gt; Specification a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#constrained"><span class="hs-identifier hs-var">constrained</span></a></span><span> </span><span class="annot"><span class="annottext">((Term (Map RewardAccount Coin) -&gt; [Pred])
 -&gt; Specification (Map RewardAccount Coin))
-&gt; (Term (Map RewardAccount Coin) -&gt; [Pred])
-&gt; Specification (Map RewardAccount Coin)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682706611"><span class="annot"><span class="annottext">Term (Map RewardAccount Coin)
</span><a href="#local-6989586621682706611"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-102"></span><span>  </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Term Bool -&gt; Pred
forall p. IsPred p =&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term (Set RewardAccount) -&gt; Term Integer
forall a. (HasSpec a, Sized a) =&gt; Term a -&gt; Term Integer
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.TheKnot.html#sizeOf_"><span class="hs-identifier hs-var">sizeOf_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term (Map RewardAccount Coin) -&gt; Term (Set RewardAccount)
forall k v.
(HasSpec (Map k v), HasSpec v, HasSpec k, Ord k, IsNormalType k,
 IsNormalType v) =&gt;
Term (Map k v) -&gt; Term (Set k)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Map.html#dom_"><span class="hs-identifier hs-var">dom_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map RewardAccount Coin)
</span><a href="#local-6989586621682706611"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term Integer -&gt; Term Integer -&gt; Term Bool
forall a. OrdLike a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.NumOrd.html#%3C%3D."><span class="hs-operator hs-var">&lt;=.</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Term Integer
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">5</span></span><span>
</span><span id="line-103"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term (Map RewardAccount Coin)
-&gt; FunTy
     (MapList Term (Args (SimpleRep (RewardAccount, Coin)))) Pred
-&gt; Pred
forall t a p.
(Forallable t a, Cases (SimpleRep a) ~ '[SimpleRep a],
 TypeSpec a ~ TypeSpec (SimpleRep a), HasSpec t,
 HasSpec (SimpleRep a), HasSimpleRep a,
 All HasSpec (Args (SimpleRep a)), IsPred p, IsProd (SimpleRep a),
 IsProductType a, HasSpec a, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term t -&gt; FunTy (MapList Term (Args (SimpleRep a))) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#forAll%27"><span class="hs-identifier hs-var">forAll'</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map RewardAccount Coin)
</span><a href="#local-6989586621682706611"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy (MapList Term (Args (SimpleRep (RewardAccount, Coin)))) Pred
 -&gt; Pred)
-&gt; FunTy
     (MapList Term (Args (SimpleRep (RewardAccount, Coin)))) Pred
-&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term RewardAccount
</span><span class="">[var|rewacct|]</span></span><span> </span><span class="annot"><span class="annottext">TermD Deps Coin
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-104"></span><span>      </span><span class="annot"><span class="annottext">Term RewardAccount
-&gt; FunTy (MapList Term (ProductAsList RewardAccount)) [Pred]
-&gt; Pred
forall p a.
(IsProductType a, IsPred p, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term a -&gt; FunTy (MapList Term (ProductAsList a)) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#match"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">Term RewardAccount
</span><a href="#local-6989586621682706614"><span class="hs-identifier hs-var">rewacct</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy (MapList Term (ProductAsList RewardAccount)) [Pred] -&gt; Pred)
-&gt; FunTy (MapList Term (ProductAsList RewardAccount)) [Pred]
-&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term Network
</span><span class="">[var|_network|]</span></span><span> </span><span class="annot"><span class="annottext">Term (Credential 'Staking)
</span><span class="">[var|credStake|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-105"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Term Bool -&gt; Pred
forall p. IsPred p =&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term Network
</span><a href="#local-6989586621682706617"><span class="hs-identifier hs-var">_network</span></a></span><span> </span><span class="annot"><span class="annottext">Term Network -&gt; Term Network -&gt; Term Bool
forall a. HasSpec a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">Network -&gt; Term Network
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="annot"><span class="annottext">Network
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.BaseTypes.html#Testnet"><span class="hs-identifier hs-var">Testnet</span></a></span><span>
</span><span id="line-106"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term Bool -&gt; Pred
forall p. IsPred p =&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term (Credential 'Staking)
-&gt; Term (Set (Credential 'Staking)) -&gt; Term Bool
forall a. (Ord a, HasSpec a) =&gt; Term a -&gt; Term (Set a) -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Set.html#member_"><span class="hs-identifier hs-var">member_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Credential 'Staking)
</span><a href="#local-6989586621682706618"><span class="hs-identifier hs-var">credStake</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set (Credential 'Staking) -&gt; Term (Set (Credential 'Staking))
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking))
-&gt; Set (Credential 'Staking)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#delegators"><span class="hs-identifier hs-var">delegators</span></a></span><span> </span><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking))
</span><a href="#local-6989586621682706610"><span class="hs-identifier hs-var">whodelegates</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-108"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span class="annot"><span class="hs-comment">-- | Compute the set of DRep Credentials that some (Credential 'Staking) delegates to</span></span><span>
</span><span id="line-111"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#delegatesTo"><span class="hs-identifier hs-type">delegatesTo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#DRepRole"><span class="hs-identifier hs-type">DRepRole</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#Staking"><span class="hs-identifier hs-type">Staking</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#DRepRole"><span class="hs-identifier hs-type">DRepRole</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-112"></span><span id="delegatesTo"><span class="annot"><span class="annottext">delegatesTo :: Map (Credential 'DRepRole) (Set (Credential 'Staking))
-&gt; Set (Credential 'DRepRole)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#delegatesTo"><span class="hs-identifier hs-var hs-var">delegatesTo</span></a></span></span><span> </span><span id="local-6989586621682706622"><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking))
</span><a href="#local-6989586621682706622"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking))
-&gt; Set (Credential 'DRepRole)
forall k a. Map k a -&gt; Set k
</span><span class="hs-identifier hs-var">Map.keysSet</span></span><span> </span><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking))
</span><a href="#local-6989586621682706622"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span class="annot"><span class="hs-comment">-- | Compute the set of (Credential 'Staking) that delegate their vote to some DRep</span></span><span>
</span><span id="line-115"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#delegators"><span class="hs-identifier hs-type">delegators</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#DRepRole"><span class="hs-identifier hs-type">DRepRole</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#Staking"><span class="hs-identifier hs-type">Staking</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#Staking"><span class="hs-identifier hs-type">Staking</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-116"></span><span id="delegators"><span class="annot"><span class="annottext">delegators :: Map (Credential 'DRepRole) (Set (Credential 'Staking))
-&gt; Set (Credential 'Staking)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#delegators"><span class="hs-identifier hs-var hs-var">delegators</span></a></span></span><span> </span><span id="local-6989586621682706624"><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking))
</span><a href="#local-6989586621682706624"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Set (Credential 'Staking)] -&gt; Set (Credential 'Staking)
forall m. Monoid m =&gt; [m] -&gt; m
forall (t :: * -&gt; *) m. (Foldable t, Monoid m) =&gt; t m -&gt; m
</span><span class="hs-identifier hs-var">fold</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking))
-&gt; [Set (Credential 'Staking)]
forall k a. Map k a -&gt; [a]
</span><span class="hs-identifier hs-var">Map.elems</span></span><span> </span><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking))
</span><a href="#local-6989586621682706624"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span class="hs-comment">-- | Compute the set of DReps that some (Credential 'Staking) delegates to</span><span>
</span><span id="line-119"></span><span class="hs-comment">--   Like `delegatesTo` but returns the DRep rather than the (Credential 'DRepRole)</span><span>
</span><span id="line-120"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#dRepsOf"><span class="hs-identifier hs-type">dRepsOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#DRepRole"><span class="hs-identifier hs-type">DRepRole</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#Staking"><span class="hs-identifier hs-type">Staking</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.DRep.html#DRep"><span class="hs-identifier hs-type">DRep</span></a></span><span>
</span><span id="line-121"></span><span id="dRepsOf"><span class="annot"><span class="annottext">dRepsOf :: Map (Credential 'DRepRole) (Set (Credential 'Staking)) -&gt; Set DRep
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#dRepsOf"><span class="hs-identifier hs-var hs-var">dRepsOf</span></a></span></span><span> </span><span id="local-6989586621682706627"><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking))
</span><a href="#local-6989586621682706627"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Credential 'DRepRole -&gt; DRep)
-&gt; Set (Credential 'DRepRole) -&gt; Set DRep
forall b a. Ord b =&gt; (a -&gt; b) -&gt; Set a -&gt; Set b
</span><span class="hs-identifier hs-var">Set.map</span></span><span> </span><span class="annot"><span class="annottext">Credential 'DRepRole -&gt; DRep
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#credToDRep"><span class="hs-identifier hs-var">credToDRep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking))
-&gt; Set (Credential 'DRepRole)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#delegatesTo"><span class="hs-identifier hs-var">delegatesTo</span></a></span><span> </span><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking))
</span><a href="#local-6989586621682706627"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-122"></span><span>
</span><span id="line-123"></span><span class="annot"><span class="hs-comment">-- | Turn a DRep Credential into a DRep</span></span><span>
</span><span id="line-124"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#credToDRep"><span class="hs-identifier hs-type">credToDRep</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#DRepRole"><span class="hs-identifier hs-type">DRepRole</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.DRep.html#DRep"><span class="hs-identifier hs-type">DRep</span></a></span><span>
</span><span id="line-125"></span><span id="credToDRep"><span class="annot"><span class="annottext">credToDRep :: Credential 'DRepRole -&gt; DRep
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#credToDRep"><span class="hs-identifier hs-var hs-var">credToDRep</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#KeyHashObj"><span class="hs-identifier hs-type">KeyHashObj</span></a></span><span> </span><span id="local-6989586621682706630"><span class="annot"><span class="annottext">KeyHash 'DRepRole
</span><a href="#local-6989586621682706630"><span class="hs-identifier hs-var">kh</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">KeyHash 'DRepRole -&gt; DRep
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.DRep.html#DRepKeyHash"><span class="hs-identifier hs-var">DRepKeyHash</span></a></span><span> </span><span class="annot"><span class="annottext">KeyHash 'DRepRole
</span><a href="#local-6989586621682706630"><span class="hs-identifier hs-var">kh</span></a></span><span>
</span><span id="line-126"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#credToDRep"><span class="hs-identifier hs-var">credToDRep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#ScriptHashObj"><span class="hs-identifier hs-type">ScriptHashObj</span></a></span><span> </span><span id="local-6989586621682706633"><span class="annot"><span class="annottext">ScriptHash
</span><a href="#local-6989586621682706633"><span class="hs-identifier hs-var">sh</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ScriptHash -&gt; DRep
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.DRep.html#DRepScriptHash"><span class="hs-identifier hs-var">DRepScriptHash</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptHash
</span><a href="#local-6989586621682706633"><span class="hs-identifier hs-var">sh</span></a></span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#toDelta"><span class="hs-identifier hs-type">toDelta</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#DeltaCoin"><span class="hs-identifier hs-type">DeltaCoin</span></a></span><span>
</span><span id="line-129"></span><span id="toDelta"><span class="annot"><span class="annottext">toDelta :: Coin -&gt; DeltaCoin
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#toDelta"><span class="hs-identifier hs-var hs-var">toDelta</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span> </span><span id="local-6989586621682706637"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682706637"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; DeltaCoin
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#DeltaCoin"><span class="hs-identifier hs-var">DeltaCoin</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682706637"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span class="hs-keyword">type</span><span> </span><span id="CertContext"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#CertContext"><span class="hs-identifier hs-var">CertContext</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#DRepRole"><span class="hs-identifier hs-type">DRepRole</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#Staking"><span class="hs-identifier hs-type">Staking</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Address.html#RewardAccount"><span class="hs-identifier hs-type">RewardAccount</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-132"></span><span>
</span><span id="line-133"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#genCertContext"><span class="hs-identifier hs-type">genCertContext</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682705619"><span class="annot"><a href="#local-6989586621682705619"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#Era"><span class="hs-identifier hs-type">Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705619"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.WitnessUniverse.html#WitUniv"><span class="hs-identifier hs-type">WitUniv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705619"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/QuickCheck-2.15.0.1-db6b992e5543937dfb08677d3de2c6cdff04a2cc45767828f7dbc5be2917a404/share/doc/html/src/Test.QuickCheck.Gen.html#Gen"><span class="hs-identifier hs-type">Gen</span></a></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#CertContext"><span class="hs-identifier hs-type">CertContext</span></a></span><span>
</span><span id="line-134"></span><span id="genCertContext"><span class="annot"><span class="annottext">genCertContext :: forall era. Era era =&gt; WitUniv era -&gt; Gen CertContext
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#genCertContext"><span class="hs-identifier hs-var hs-var">genCertContext</span></a></span></span><span> </span><span id="local-6989586621682706675"><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682706675"><span class="hs-identifier hs-var">univ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-135"></span><span>  </span><span id="local-6989586621682706676"><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking))
</span><a href="#local-6989586621682706676"><span class="hs-identifier hs-var">whodelegates</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Specification
  (Map (Credential 'DRepRole) (Set (Credential 'Staking)))
-&gt; Gen (Map (Credential 'DRepRole) (Set (Credential 'Staking)))
forall a. (HasCallStack, HasSpec a) =&gt; Specification a -&gt; Gen a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#genFromSpec"><span class="hs-identifier hs-var">genFromSpec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WitUniv era
-&gt; Specification
     (Map (Credential 'DRepRole) (Set (Credential 'Staking)))
forall era.
Era era =&gt;
WitUniv era
-&gt; Specification
     (Map (Credential 'DRepRole) (Set (Credential 'Staking)))
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#whoDelegatesSpec"><span class="hs-identifier hs-var">whoDelegatesSpec</span></a></span><span> </span><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682706675"><span class="hs-identifier hs-var">univ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-136"></span><span>  </span><span id="local-6989586621682706678"><span class="annot"><span class="annottext">Map RewardAccount Coin
</span><a href="#local-6989586621682706678"><span class="hs-identifier hs-var">wdrl</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Specification (Map RewardAccount Coin)
-&gt; Gen (Map RewardAccount Coin)
forall a. (HasCallStack, HasSpec a) =&gt; Specification a -&gt; Gen a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#genFromSpec"><span class="hs-identifier hs-var">genFromSpec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking))
-&gt; Specification (Map RewardAccount Coin)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#wdrlSpec"><span class="hs-identifier hs-var">wdrlSpec</span></a></span><span> </span><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking))
</span><a href="#local-6989586621682706676"><span class="hs-identifier hs-var">whodelegates</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-137"></span><span>  </span><span class="annot"><span class="annottext">CertContext -&gt; Gen CertContext
forall a. a -&gt; Gen a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking))
</span><a href="#local-6989586621682706676"><span class="hs-identifier hs-var">whodelegates</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Map RewardAccount Coin
</span><a href="#local-6989586621682706678"><span class="hs-identifier hs-var">wdrl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-138"></span><span>
</span><span id="line-139"></span><span class="hs-comment">-- This is a hack, neccessitated by the fact that conwayGovStateSpec,</span><span>
</span><span id="line-140"></span><span class="hs-comment">-- written for the conformance tests, requires an actual GovEnv as an input.</span><span>
</span><span id="line-141"></span><span class="hs-comment">-- This is a very large Specification (500 lines), so we don't want to redo it.</span><span>
</span><span id="line-142"></span><span class="hs-comment">-- The only important part of the GovEnv is that the embedded PParams matches</span><span>
</span><span id="line-143"></span><span class="hs-comment">-- the PParams passed to conwayGovStateSpec.</span><span>
</span><span id="line-144"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#testGovEnv"><span class="hs-identifier hs-type">testGovEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.PParams.html#PParams"><span class="hs-identifier hs-type">PParams</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#ConwayEra"><span class="hs-identifier hs-type">ConwayEra</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-conway-1.21.0.0/doc/html/cardano-ledger-conway/src/Cardano.Ledger.Conway.Rules.Gov.html#GovEnv"><span class="hs-identifier hs-type">GovEnv</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#ConwayEra"><span class="hs-identifier hs-type">ConwayEra</span></a></span><span>
</span><span id="line-145"></span><span id="testGovEnv"><span class="annot"><span class="annottext">testGovEnv :: PParams ConwayEra -&gt; GovEnv ConwayEra
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#testGovEnv"><span class="hs-identifier hs-var hs-var">testGovEnv</span></a></span></span><span> </span><span id="local-6989586621682706680"><span class="annot"><span class="annottext">PParams ConwayEra
</span><a href="#local-6989586621682706680"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO (GovEnv ConwayEra) -&gt; GovEnv ConwayEra
forall a. IO a -&gt; a
</span><span class="hs-identifier hs-var">unsafePerformIO</span></span><span> </span><span class="annot"><span class="annottext">(IO (GovEnv ConwayEra) -&gt; GovEnv ConwayEra)
-&gt; IO (GovEnv ConwayEra) -&gt; GovEnv ConwayEra
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Gen (GovEnv ConwayEra) -&gt; IO (GovEnv ConwayEra)
forall a. Gen a -&gt; IO a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/QuickCheck-2.15.0.1-db6b992e5543937dfb08677d3de2c6cdff04a2cc45767828f7dbc5be2917a404/share/doc/html/src/Test.QuickCheck.Gen.html#generate"><span class="hs-identifier hs-var">generate</span></a></span><span> </span><span class="annot"><span class="annottext">(Gen (GovEnv ConwayEra) -&gt; IO (GovEnv ConwayEra))
-&gt; Gen (GovEnv ConwayEra) -&gt; IO (GovEnv ConwayEra)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-146"></span><span>  </span><span class="annot"><span class="annottext">forall a. (HasCallStack, HasSpec a) =&gt; Specification a -&gt; Gen a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#genFromSpec"><span class="hs-identifier hs-var">genFromSpec</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-conway-1.21.0.0/doc/html/cardano-ledger-conway/src/Cardano.Ledger.Conway.Rules.Gov.html#GovEnv"><span class="hs-identifier hs-type">GovEnv</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#ConwayEra"><span class="hs-identifier hs-type">ConwayEra</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PParams ConwayEra -&gt; Specification (GovEnv ConwayEra)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#govEnvSpec"><span class="hs-identifier hs-var">govEnvSpec</span></a></span><span> </span><span class="annot"><span class="annottext">PParams ConwayEra
</span><a href="#local-6989586621682706680"><span class="hs-identifier hs-var">pp</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-147"></span><span>
</span><span id="line-148"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#govEnvSpec"><span class="hs-identifier hs-type">govEnvSpec</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-149"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.PParams.html#PParams"><span class="hs-identifier hs-type">PParams</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#ConwayEra"><span class="hs-identifier hs-type">ConwayEra</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-150"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Specification"><span class="hs-identifier hs-type">Specification</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-conway-1.21.0.0/doc/html/cardano-ledger-conway/src/Cardano.Ledger.Conway.Rules.Gov.html#GovEnv"><span class="hs-identifier hs-type">GovEnv</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#ConwayEra"><span class="hs-identifier hs-type">ConwayEra</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-151"></span><span id="govEnvSpec"><span class="annot"><span class="annottext">govEnvSpec :: PParams ConwayEra -&gt; Specification (GovEnv ConwayEra)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#govEnvSpec"><span class="hs-identifier hs-var hs-var">govEnvSpec</span></a></span></span><span> </span><span id="local-6989586621682706683"><span class="annot"><span class="annottext">PParams ConwayEra
</span><a href="#local-6989586621682706683"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term (GovEnv ConwayEra) -&gt; Pred)
-&gt; Specification (GovEnv ConwayEra)
forall a p.
(IsPred p, HasSpec a) =&gt;
(Term a -&gt; p) -&gt; Specification a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#constrained"><span class="hs-identifier hs-var">constrained</span></a></span><span> </span><span class="annot"><span class="annottext">((Term (GovEnv ConwayEra) -&gt; Pred)
 -&gt; Specification (GovEnv ConwayEra))
-&gt; (Term (GovEnv ConwayEra) -&gt; Pred)
-&gt; Specification (GovEnv ConwayEra)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (GovEnv ConwayEra)
</span><span class="">[var|govEnv|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-152"></span><span>  </span><span class="annot"><span class="annottext">Term (GovEnv ConwayEra)
-&gt; FunTy (MapList Term (ProductAsList (GovEnv ConwayEra))) [Pred]
-&gt; Pred
forall p a.
(IsProductType a, IsPred p, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term a -&gt; FunTy (MapList Term (ProductAsList a)) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#match"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">Term (GovEnv ConwayEra)
</span><a href="#local-6989586621682706684"><span class="hs-identifier hs-var">govEnv</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy (MapList Term (ProductAsList (GovEnv ConwayEra))) [Pred]
 -&gt; Pred)
-&gt; FunTy (MapList Term (ProductAsList (GovEnv ConwayEra))) [Pred]
-&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">TermD Deps TxId
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Term EpochNo
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Term (PParams ConwayEra)
</span><span class="">[var|cppx|]</span></span><span> </span><span class="annot"><span class="annottext">TermD Deps (StrictMaybe ScriptHash)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">TermD Deps (ConwayCertState ConwayEra)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">TermD Deps (StrictMaybe (Committee ConwayEra))
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Term Bool -&gt; Pred
forall p. IsPred p =&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">PParams ConwayEra -&gt; Term (PParams ConwayEra)
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="annot"><span class="annottext">PParams ConwayEra
</span><a href="#local-6989586621682706683"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="annot"><span class="annottext">Term (PParams ConwayEra) -&gt; Term (PParams ConwayEra) -&gt; Term Bool
forall a. HasSpec a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">Term (PParams ConwayEra)
</span><a href="#local-6989586621682706685"><span class="hs-identifier hs-var">cppx</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-153"></span><span>
</span><span id="line-154"></span><span class="hs-comment">-- ================================================================================</span><span>
</span><span id="line-155"></span><span class="hs-comment">-- Specifications for types that appear in the EraSpecLedger Ledger</span><span>
</span><span id="line-156"></span><span class="hs-comment">-- ================================================================================</span><span>
</span><span id="line-157"></span><span>
</span><span id="line-158"></span><span class="annot"><span class="hs-comment">-- | Want (Rng v3) == (Dom v0), except the Rng is List and the Dom is a Set.</span></span><span>
</span><span id="line-159"></span><span id="local-6989586621682705628"><span id="local-6989586621682705629"><span id="local-6989586621682705630"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#domEqualRng"><span class="hs-identifier hs-type">domEqualRng</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-160"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621682705628"><span class="hs-identifier hs-type">ptr</span></a></span><span>
</span><span id="line-161"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621682705629"><span class="hs-identifier hs-type">cred</span></a></span><span>
</span><span id="line-162"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#HasSpec"><span class="hs-identifier hs-type">HasSpec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705629"><span class="hs-identifier hs-type">cred</span></a></span><span>
</span><span id="line-163"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#HasSpec"><span class="hs-identifier hs-type">HasSpec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705628"><span class="hs-identifier hs-type">ptr</span></a></span><span>
</span><span id="line-164"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#HasSpec"><span class="hs-identifier hs-type">HasSpec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705630"><span class="hs-identifier hs-type">ume</span></a></span><span>
</span><span id="line-165"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#IsNormalType"><span class="hs-identifier hs-type">IsNormalType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705629"><span class="hs-identifier hs-type">cred</span></a></span><span>
</span><span id="line-166"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#IsNormalType"><span class="hs-identifier hs-type">IsNormalType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705628"><span class="hs-identifier hs-type">ptr</span></a></span><span>
</span><span id="line-167"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#IsNormalType"><span class="hs-identifier hs-type">IsNormalType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705630"><span class="hs-identifier hs-type">ume</span></a></span><span>
</span><span id="line-168"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-169"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><a href="#local-6989586621682705628"><span class="hs-identifier hs-type">ptr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705629"><span class="hs-identifier hs-type">cred</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-170"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><a href="#local-6989586621682705629"><span class="hs-identifier hs-type">cred</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705630"><span class="hs-identifier hs-type">ume</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-171"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Pred"><span class="hs-identifier hs-type">Pred</span></a></span></span></span></span><span>
</span><span id="line-172"></span><span id="domEqualRng"><span class="annot"><span class="annottext">domEqualRng :: forall ptr cred ume.
(Ord ptr, Ord cred, HasSpec cred, HasSpec ptr, HasSpec ume,
 IsNormalType cred, IsNormalType ptr, IsNormalType ume) =&gt;
Term (Map ptr cred) -&gt; Term (Map cred ume) -&gt; Pred
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#domEqualRng"><span class="hs-identifier hs-var hs-var">domEqualRng</span></a></span></span><span> </span><span class="annot"><span class="annottext">Term (Map ptr cred)
</span><span class="">[var|mapXCred|]</span></span><span> </span><span class="annot"><span class="annottext">Term (Map cred ume)
</span><span class="">[var|mapCredY|]</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-173"></span><span>  </span><span class="annot"><span class="annottext">[Pred] -&gt; Pred
forall m. Monoid m =&gt; [m] -&gt; m
forall (t :: * -&gt; *) m. (Foldable t, Monoid m) =&gt; t m -&gt; m
</span><span class="hs-identifier hs-var">fold</span></span><span>
</span><span id="line-174"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Term Bool -&gt; Pred
forall p. IsPred p =&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term (Map cred ume) -&gt; Term Integer
forall a. (HasSpec a, Sized a) =&gt; Term a -&gt; Term Integer
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.TheKnot.html#sizeOf_"><span class="hs-identifier hs-var">sizeOf_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map cred ume)
</span><a href="#local-6989586621682706766"><span class="hs-identifier hs-var">mapCredY</span></a></span><span> </span><span class="annot"><span class="annottext">Term Integer -&gt; Term Integer -&gt; Term Bool
forall a. OrdLike a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.NumOrd.html#%3C%3D."><span class="hs-operator hs-var">&lt;=.</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map ptr cred) -&gt; Term Integer
forall a. (HasSpec a, Sized a) =&gt; Term a -&gt; Term Integer
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.TheKnot.html#sizeOf_"><span class="hs-identifier hs-var">sizeOf_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map ptr cred)
</span><a href="#local-6989586621682706765"><span class="hs-identifier hs-var">mapXCred</span></a></span><span>
</span><span id="line-175"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term Bool -&gt; Pred
forall p. IsPred p =&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term (Map ptr cred) -&gt; Term Integer
forall a. (HasSpec a, Sized a) =&gt; Term a -&gt; Term Integer
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.TheKnot.html#sizeOf_"><span class="hs-identifier hs-var">sizeOf_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map ptr cred)
</span><a href="#local-6989586621682706765"><span class="hs-identifier hs-var">mapXCred</span></a></span><span> </span><span class="annot"><span class="annottext">Term Integer -&gt; Term Integer -&gt; Term Bool
forall a. OrdLike a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.NumOrd.html#%3E%3D."><span class="hs-operator hs-var">&gt;=.</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Term Integer
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span>
</span><span id="line-176"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term Bool -&gt; Pred
forall p. IsPred p =&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term (Map cred ume) -&gt; Term Integer
forall a. (HasSpec a, Sized a) =&gt; Term a -&gt; Term Integer
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.TheKnot.html#sizeOf_"><span class="hs-identifier hs-var">sizeOf_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map cred ume)
</span><a href="#local-6989586621682706766"><span class="hs-identifier hs-var">mapCredY</span></a></span><span> </span><span class="annot"><span class="annottext">Term Integer -&gt; Term Integer -&gt; Term Bool
forall a. OrdLike a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.NumOrd.html#%3E%3D."><span class="hs-operator hs-var">&gt;=.</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Term Integer
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span>
</span><span id="line-177"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; [Pred] -&gt; Pred
forall p. IsPred p =&gt; [String] -&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assertExplain"><span class="hs-identifier hs-var">assertExplain</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; [String]
forall a. a -&gt; [a]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Domain mapCredX == Range  mapXCred&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Pred] -&gt; Pred) -&gt; [Pred] -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-178"></span><span>        </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Term (Map cred ume) -&gt; Term (Map ptr cred) -&gt; Pred
forall a b. (HasSpec a, HasSpec b) =&gt; Term a -&gt; Term b -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#dependsOn"><span class="hs-identifier hs-var">dependsOn</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map cred ume)
</span><a href="#local-6989586621682706766"><span class="hs-identifier hs-var">mapCredY</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map ptr cred)
</span><a href="#local-6989586621682706765"><span class="hs-identifier hs-var">mapXCred</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term Bool -&gt; Pred
forall p. IsPred p =&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term (Map cred ume) -&gt; Term (Set cred)
forall k v.
(HasSpec (Map k v), HasSpec v, HasSpec k, Ord k, IsNormalType k,
 IsNormalType v) =&gt;
Term (Map k v) -&gt; Term (Set k)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Map.html#dom_"><span class="hs-identifier hs-var">dom_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map cred ume)
</span><a href="#local-6989586621682706766"><span class="hs-identifier hs-var">mapCredY</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Set cred) -&gt; Term (Set cred) -&gt; Term Bool
forall a. HasSpec a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">Term [cred] -&gt; Term (Set cred)
forall a. (Ord a, HasSpec a) =&gt; Term [a] -&gt; Term (Set a)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Set.html#fromList_"><span class="hs-identifier hs-var">fromList_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term (Map ptr cred) -&gt; Term [cred]
forall k v.
(HasSpec k, HasSpec v, Ord k, IsNormalType k, IsNormalType v) =&gt;
Term (Map k v) -&gt; Term [v]
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Map.html#rng_"><span class="hs-identifier hs-var">rng_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map ptr cred)
</span><a href="#local-6989586621682706765"><span class="hs-identifier hs-var">mapXCred</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-179"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-180"></span><span>
</span><span id="line-181"></span><span class="annot"><span class="hs-comment">-- | The constraint for ProtVer always relates one ProtVer to another one that can follow it.</span></span><span>
</span><span id="line-182"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#canFollow"><span class="hs-identifier hs-type">canFollow</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.BaseTypes.html#ProtVer"><span class="hs-identifier hs-type">ProtVer</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.BaseTypes.html#ProtVer"><span class="hs-identifier hs-type">ProtVer</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Pred"><span class="hs-identifier hs-type">Pred</span></a></span><span>
</span><span id="line-183"></span><span id="canFollow"><span class="annot"><span class="annottext">canFollow :: Term ProtVer -&gt; Term ProtVer -&gt; Pred
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#canFollow"><span class="hs-identifier hs-var hs-var">canFollow</span></a></span></span><span> </span><span id="local-6989586621682706771"><span class="annot"><span class="annottext">Term ProtVer
</span><a href="#local-6989586621682706771"><span class="hs-identifier hs-var">pv</span></a></span></span><span> </span><span id="local-6989586621682706772"><span class="annot"><span class="annottext">Term ProtVer
</span><a href="#local-6989586621682706772"><span class="hs-identifier hs-var">pv'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-184"></span><span>  </span><span class="annot"><span class="annottext">Term ProtVer
-&gt; FunTy (MapList Term (ProductAsList ProtVer)) Pred -&gt; Pred
forall p a.
(IsProductType a, IsPred p, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term a -&gt; FunTy (MapList Term (ProductAsList a)) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#match"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">Term ProtVer
</span><a href="#local-6989586621682706771"><span class="hs-identifier hs-var">pv</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy (MapList Term (ProductAsList ProtVer)) Pred -&gt; Pred)
-&gt; FunTy (MapList Term (ProductAsList ProtVer)) Pred -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term Version
</span><span class="">[var|major1|]</span></span><span> </span><span class="annot"><span class="annottext">Term Natural
</span><span class="">[var|minor1|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-185"></span><span>    </span><span class="annot"><span class="annottext">Term ProtVer
-&gt; FunTy (MapList Term (ProductAsList ProtVer)) [Pred] -&gt; Pred
forall p a.
(IsProductType a, IsPred p, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term a -&gt; FunTy (MapList Term (ProductAsList a)) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#match"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">Term ProtVer
</span><a href="#local-6989586621682706772"><span class="hs-identifier hs-var">pv'</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy (MapList Term (ProductAsList ProtVer)) [Pred] -&gt; Pred)
-&gt; FunTy (MapList Term (ProductAsList ProtVer)) [Pred] -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term Version
</span><span class="">[var|major2|]</span></span><span> </span><span class="annot"><span class="annottext">Term Natural
</span><span class="">[var|minor2|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-186"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Term Version -&gt; Term Version -&gt; Pred
forall a b. (HasSpec a, HasSpec b) =&gt; Term a -&gt; Term b -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#dependsOn"><span class="hs-identifier hs-var">dependsOn</span></a></span><span> </span><span class="annot"><span class="annottext">Term Version
</span><a href="#local-6989586621682706775"><span class="hs-identifier hs-var">major2</span></a></span><span> </span><span class="annot"><span class="annottext">Term Version
</span><a href="#local-6989586621682706773"><span class="hs-identifier hs-var">major1</span></a></span><span>
</span><span id="line-187"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term Bool -&gt; Pred
forall p. IsPred p =&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term Version
</span><a href="#local-6989586621682706773"><span class="hs-identifier hs-var">major1</span></a></span><span> </span><span class="annot"><span class="annottext">Term Version -&gt; Term Version -&gt; Term Bool
forall a. OrdLike a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.NumOrd.html#%3C%3D."><span class="hs-operator hs-var">&lt;=.</span></a></span><span> </span><span class="annot"><span class="annottext">Term Version
</span><a href="#local-6989586621682706775"><span class="hs-identifier hs-var">major2</span></a></span><span>
</span><span id="line-188"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term Bool -&gt; Term Bool -&gt; Term Bool -&gt; Pred
forall p q. (IsPred p, IsPred q) =&gt; Term Bool -&gt; p -&gt; q -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.TheKnot.html#ifElse"><span class="hs-identifier hs-var">ifElse</span></a></span><span>
</span><span id="line-189"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Version -&gt; Term Version
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="annot"><span class="annottext">Version
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">maxBound</span></span><span> </span><span class="annot"><span class="annottext">Term Version -&gt; Term Version -&gt; Term Bool
forall a. HasSpec a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">Term Version
</span><a href="#local-6989586621682706773"><span class="hs-identifier hs-var">major1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-190"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term Version
</span><a href="#local-6989586621682706773"><span class="hs-identifier hs-var">major1</span></a></span><span> </span><span class="annot"><span class="annottext">Term Version -&gt; Term Version -&gt; Term Bool
forall a. HasSpec a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">Term Version
</span><a href="#local-6989586621682706775"><span class="hs-identifier hs-var">major2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-191"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term Version -&gt; Term Version
</span><a href="Test.Cardano.Ledger.Constrained.Conway.Instances.Basic.html#succV_"><span class="hs-identifier hs-var">succV_</span></a></span><span> </span><span class="annot"><span class="annottext">Term Version
</span><a href="#local-6989586621682706773"><span class="hs-identifier hs-var">major1</span></a></span><span> </span><span class="annot"><span class="annottext">Term Version -&gt; Term Version -&gt; Term Bool
forall a. OrdLike a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.NumOrd.html#%3E%3D."><span class="hs-operator hs-var">&gt;=.</span></a></span><span> </span><span class="annot"><span class="annottext">Term Version
</span><a href="#local-6989586621682706775"><span class="hs-identifier hs-var">major2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-192"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term Bool -&gt; Term Bool -&gt; Term Bool -&gt; Pred
forall p q. (IsPred p, IsPred q) =&gt; Term Bool -&gt; p -&gt; q -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.TheKnot.html#ifElse"><span class="hs-identifier hs-var">ifElse</span></a></span><span>
</span><span id="line-193"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term Version
</span><a href="#local-6989586621682706773"><span class="hs-identifier hs-var">major1</span></a></span><span> </span><span class="annot"><span class="annottext">Term Version -&gt; Term Version -&gt; Term Bool
forall a. HasSpec a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">Term Version
</span><a href="#local-6989586621682706775"><span class="hs-identifier hs-var">major2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-194"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term Natural
</span><a href="#local-6989586621682706776"><span class="hs-identifier hs-var">minor2</span></a></span><span> </span><span class="annot"><span class="annottext">Term Natural -&gt; Term Natural -&gt; Term Bool
forall a. HasSpec a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">Term Natural
</span><a href="#local-6989586621682706774"><span class="hs-identifier hs-var">minor1</span></a></span><span> </span><span class="annot"><span class="annottext">Term Natural -&gt; Term Natural -&gt; Term Natural
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Term Natural
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-195"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term Natural
</span><a href="#local-6989586621682706776"><span class="hs-identifier hs-var">minor2</span></a></span><span> </span><span class="annot"><span class="annottext">Term Natural -&gt; Term Natural -&gt; Term Bool
forall a. HasSpec a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">Term Natural
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-196"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-197"></span><span>
</span><span id="line-198"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#protVersCanfollow"><span class="hs-identifier hs-type">protVersCanfollow</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Specification"><span class="hs-identifier hs-type">Specification</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.BaseTypes.html#ProtVer"><span class="hs-identifier hs-type">ProtVer</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.BaseTypes.html#ProtVer"><span class="hs-identifier hs-type">ProtVer</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-199"></span><span id="protVersCanfollow"><span class="annot"><span class="annottext">protVersCanfollow :: Specification (ProtVer, ProtVer)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#protVersCanfollow"><span class="hs-identifier hs-var hs-var">protVersCanfollow</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-200"></span><span>  </span><span class="annot"><span class="annottext">(Term (ProtVer, ProtVer) -&gt; Pred)
-&gt; Specification (ProtVer, ProtVer)
forall a p.
(IsPred p, HasSpec a) =&gt;
(Term a -&gt; p) -&gt; Specification a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#constrained"><span class="hs-identifier hs-var">constrained</span></a></span><span> </span><span class="annot"><span class="annottext">((Term (ProtVer, ProtVer) -&gt; Pred)
 -&gt; Specification (ProtVer, ProtVer))
-&gt; (Term (ProtVer, ProtVer) -&gt; Pred)
-&gt; Specification (ProtVer, ProtVer)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (ProtVer, ProtVer)
</span><span class="">[var|pair|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-201"></span><span>    </span><span class="annot"><span class="annottext">Term (ProtVer, ProtVer)
-&gt; FunTy (MapList Term (ProductAsList (ProtVer, ProtVer))) Pred
-&gt; Pred
forall p a.
(IsProductType a, IsPred p, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term a -&gt; FunTy (MapList Term (ProductAsList a)) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#match"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">Term (ProtVer, ProtVer)
</span><a href="#local-6989586621682706782"><span class="hs-identifier hs-var">pair</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy (MapList Term (ProductAsList (ProtVer, ProtVer))) Pred
 -&gt; Pred)
-&gt; FunTy (MapList Term (ProductAsList (ProtVer, ProtVer))) Pred
-&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term ProtVer
</span><span class="">[var|protver1|]</span></span><span> </span><span class="annot"><span class="annottext">Term ProtVer
</span><span class="">[var|protver2|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term ProtVer -&gt; Term ProtVer -&gt; Pred
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#canFollow"><span class="hs-identifier hs-var">canFollow</span></a></span><span> </span><span class="annot"><span class="annottext">Term ProtVer
</span><a href="#local-6989586621682706783"><span class="hs-identifier hs-var">protver1</span></a></span><span> </span><span class="annot"><span class="annottext">Term ProtVer
</span><a href="#local-6989586621682706784"><span class="hs-identifier hs-var">protver2</span></a></span><span>
</span><span id="line-202"></span><span>
</span><span id="line-203"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#epochNoSpec"><span class="hs-identifier hs-type">epochNoSpec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Specification"><span class="hs-identifier hs-type">Specification</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-slotting-0.2.0.1-cbaa0d455a08b054bafb132b87b34221d87bbbacf98d60661b1ed3cfc20b13c4/share/doc/html/src/Cardano.Slotting.Slot.html#EpochNo"><span class="hs-identifier hs-type">EpochNo</span></a></span><span>
</span><span id="line-204"></span><span id="epochNoSpec"><span class="annot"><span class="annottext">epochNoSpec :: Specification EpochNo
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#epochNoSpec"><span class="hs-identifier hs-var hs-var">epochNoSpec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term EpochNo -&gt; Term Bool) -&gt; Specification EpochNo
forall a p.
(IsPred p, HasSpec a) =&gt;
(Term a -&gt; p) -&gt; Specification a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#constrained"><span class="hs-identifier hs-var">constrained</span></a></span><span> </span><span class="annot"><span class="annottext">((Term EpochNo -&gt; Term Bool) -&gt; Specification EpochNo)
-&gt; (Term EpochNo -&gt; Term Bool) -&gt; Specification EpochNo
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682706786"><span class="annot"><span class="annottext">Term EpochNo
</span><a href="#local-6989586621682706786"><span class="hs-identifier hs-var">epoch</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term EpochNo
</span><a href="#local-6989586621682706786"><span class="hs-identifier hs-var">epoch</span></a></span><span> </span><span class="annot"><span class="annottext">Term EpochNo -&gt; Term EpochNo -&gt; Term Bool
forall a. OrdLike a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.NumOrd.html#%3E%3D."><span class="hs-operator hs-var">&gt;=.</span></a></span><span> </span><span class="annot"><span class="annottext">Term EpochNo
</span><span class="hs-number">99</span></span><span>
</span><span id="line-205"></span><span>
</span><span id="line-206"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#accountStateSpec"><span class="hs-identifier hs-type">accountStateSpec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Specification"><span class="hs-identifier hs-type">Specification</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.ChainAccount.html#ChainAccountState"><span class="hs-identifier hs-type">ChainAccountState</span></a></span><span>
</span><span id="line-207"></span><span id="accountStateSpec"><span class="annot"><span class="annottext">accountStateSpec :: Specification ChainAccountState
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#accountStateSpec"><span class="hs-identifier hs-var hs-var">accountStateSpec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-208"></span><span>  </span><span class="annot"><span class="annottext">(Term ChainAccountState -&gt; Pred) -&gt; Specification ChainAccountState
forall a p.
(IsPred p, HasSpec a) =&gt;
(Term a -&gt; p) -&gt; Specification a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#constrained"><span class="hs-identifier hs-var">constrained</span></a></span><span>
</span><span id="line-209"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term ChainAccountState
</span><span class="">[var|accountState|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-210"></span><span>        </span><span class="annot"><span class="annottext">Term ChainAccountState
-&gt; FunTy
     (MapList Term (ProductAsList ChainAccountState)) [Term Bool]
-&gt; Pred
forall p a.
(IsProductType a, IsPred p, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term a -&gt; FunTy (MapList Term (ProductAsList a)) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#match"><span class="hs-identifier hs-var">match</span></a></span><span>
</span><span id="line-211"></span><span>          </span><span class="annot"><span class="annottext">Term ChainAccountState
</span><a href="#local-6989586621682706788"><span class="hs-identifier hs-var">accountState</span></a></span><span>
</span><span id="line-212"></span><span>          </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">TermD Deps Coin
</span><span class="">[var|reserves|]</span></span><span> </span><span class="annot"><span class="annottext">TermD Deps Coin
</span><span class="">[var|treasury|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Coin -&gt; TermD Deps Coin
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Coin
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-var">Coin</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">100</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TermD Deps Coin -&gt; TermD Deps Coin -&gt; Term Bool
forall a. OrdLike a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.NumOrd.html#%3C%3D."><span class="hs-operator hs-var">&lt;=.</span></a></span><span> </span><span class="annot"><span class="annottext">TermD Deps Coin
</span><a href="#local-6989586621682706790"><span class="hs-identifier hs-var">treasury</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Coin -&gt; TermD Deps Coin
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Coin
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-var">Coin</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">100</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TermD Deps Coin -&gt; TermD Deps Coin -&gt; Term Bool
forall a. OrdLike a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.NumOrd.html#%3C%3D."><span class="hs-operator hs-var">&lt;=.</span></a></span><span> </span><span class="annot"><span class="annottext">TermD Deps Coin
</span><a href="#local-6989586621682706789"><span class="hs-identifier hs-var">reserves</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-214"></span><span>
</span><span id="line-215"></span><span class="hs-comment">-- ====================================================================</span><span>
</span><span id="line-216"></span><span class="hs-comment">-- To generate a standalone VState using vstateSpec, we need a map of DRep credentials,</span><span>
</span><span id="line-217"></span><span class="hs-comment">-- to a set of Credentials of Stakers who delegated to that DRep. If we use a completely</span><span>
</span><span id="line-218"></span><span class="hs-comment">-- random map, it is highly likeley (almost a certainty) that the map</span><span>
</span><span id="line-219"></span><span class="hs-comment">-- does not have witnessed credentials. So we need a spec that generates</span><span>
</span><span id="line-220"></span><span class="hs-comment">-- a map with witnessed credentials. In a non standalone use of vstateSpec, the map</span><span>
</span><span id="line-221"></span><span class="hs-comment">-- is computed as the inverse of the DStates (Map Credential DRep) which has</span><span>
</span><span id="line-222"></span><span class="hs-comment">-- witnessed credentials, so we need this only for StandAlone uses of vstateSpec.</span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#goodDrep"><span class="hs-identifier hs-type">goodDrep</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-225"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682706792"><span class="annot"><a href="#local-6989586621682706792"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-226"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#Era"><span class="hs-identifier hs-type">Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682706792"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.WitnessUniverse.html#WitUniv"><span class="hs-identifier hs-type">WitUniv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682706792"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Specification"><span class="hs-identifier hs-type">Specification</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#DRepRole"><span class="hs-identifier hs-type">DRepRole</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Set.Set</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#Staking"><span class="hs-identifier hs-type">Staking</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-227"></span><span id="goodDrep"><span class="annot"><span class="annottext">goodDrep :: forall era.
Era era =&gt;
WitUniv era
-&gt; Specification
     (Map (Credential 'DRepRole) (Set (Credential 'Staking)))
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#goodDrep"><span class="hs-identifier hs-var hs-var">goodDrep</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WitUniv era
-&gt; Specification
     (Map (Credential 'DRepRole) (Set (Credential 'Staking)))
forall era.
Era era =&gt;
WitUniv era
-&gt; Specification
     (Map (Credential 'DRepRole) (Set (Credential 'Staking)))
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#whoDelegatesSpec"><span class="hs-identifier hs-var">whoDelegatesSpec</span></a></span><span>
</span><span id="line-228"></span><span>
</span><span id="line-229"></span><span class="hs-comment">-- ========================================================================</span><span>
</span><span id="line-230"></span><span class="hs-comment">-- The CertState specs</span><span>
</span><span id="line-231"></span><span class="hs-comment">-- ========================================================================</span><span>
</span><span id="line-232"></span><span>
</span><span id="line-233"></span><span class="hs-comment">-- ======= VState ==================</span><span>
</span><span id="line-234"></span><span>
</span><span id="line-235"></span><span class="annot"><span class="hs-comment">-- | BE SURE the parameter whoDelegated has been witnessed with the same WitUniv as the parameter 'univ'.</span></span><span>
</span><span id="line-236"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#vStateSpec"><span class="hs-identifier hs-type">vStateSpec</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-237"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682705647"><span class="annot"><a href="#local-6989586621682705647"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-238"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#Era"><span class="hs-identifier hs-type">Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705647"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-239"></span><span>  </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.WitnessUniverse.html#WitUniv"><span class="hs-identifier hs-type">WitUniv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705647"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-240"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-slotting-0.2.0.1-cbaa0d455a08b054bafb132b87b34221d87bbbacf98d60661b1ed3cfc20b13c4/share/doc/html/src/Cardano.Slotting.Slot.html#EpochNo"><span class="hs-identifier hs-type">EpochNo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-241"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#DRepRole"><span class="hs-identifier hs-type">DRepRole</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#Staking"><span class="hs-identifier hs-type">Staking</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-242"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Specification"><span class="hs-identifier hs-type">Specification</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-conway-1.21.0.0/doc/html/cardano-ledger-conway/src/Cardano.Ledger.Conway.State.VState.html#VState"><span class="hs-identifier hs-type">VState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705647"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-243"></span><span id="vStateSpec"><span class="annot"><span class="annottext">vStateSpec :: forall era.
Era era =&gt;
WitUniv era
-&gt; Term EpochNo
-&gt; Map (Credential 'DRepRole) (Set (Credential 'Staking))
-&gt; Specification (VState era)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#vStateSpec"><span class="hs-identifier hs-var hs-var">vStateSpec</span></a></span></span><span> </span><span id="local-6989586621682707044"><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682707044"><span class="hs-identifier hs-var">univ</span></a></span></span><span> </span><span id="local-6989586621682707045"><span class="annot"><span class="annottext">Term EpochNo
</span><a href="#local-6989586621682707045"><span class="hs-identifier hs-var">epoch</span></a></span></span><span> </span><span id="local-6989586621682707046"><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking))
</span><a href="#local-6989586621682707046"><span class="hs-identifier hs-var">whoDelegated</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term (VState era) -&gt; Pred) -&gt; Specification (VState era)
forall a p.
(IsPred p, HasSpec a) =&gt;
(Term a -&gt; p) -&gt; Specification a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#constrained"><span class="hs-identifier hs-var">constrained</span></a></span><span> </span><span class="annot"><span class="annottext">((Term (VState era) -&gt; Pred) -&gt; Specification (VState era))
-&gt; (Term (VState era) -&gt; Pred) -&gt; Specification (VState era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (VState era)
</span><span class="">[var|vstate|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-244"></span><span>  </span><span class="annot"><span class="annottext">Term (VState era)
-&gt; FunTy (MapList Term (ProductAsList (VState era))) [Pred] -&gt; Pred
forall p a.
(IsProductType a, IsPred p, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term a -&gt; FunTy (MapList Term (ProductAsList a)) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#match"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">Term (VState era)
</span><a href="#local-6989586621682707047"><span class="hs-identifier hs-var">vstate</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy (MapList Term (ProductAsList (VState era))) [Pred] -&gt; Pred)
-&gt; FunTy (MapList Term (ProductAsList (VState era))) [Pred] -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'DRepRole) DRepState)
</span><span class="">[var|dreps|]</span></span><span> </span><span class="annot"><span class="annottext">Term (CommitteeState era)
</span><span class="">[var|committeestate|]</span></span><span> </span><span class="annot"><span class="annottext">Term EpochNo
</span><span class="">[var|numdormant|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-245"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">WitUniv era -&gt; Term (Set (Credential 'DRepRole)) -&gt; Pred
forall era t. Witnessed era t =&gt; WitUniv era -&gt; Term t -&gt; Pred
</span><a href="Test.Cardano.Ledger.Constrained.Conway.WitnessUniverse.html#witness"><span class="hs-identifier hs-var">witness</span></a></span><span> </span><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682707044"><span class="hs-identifier hs-var">univ</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term (Map (Credential 'DRepRole) DRepState)
-&gt; Term (Set (Credential 'DRepRole))
forall k v.
(HasSpec (Map k v), HasSpec v, HasSpec k, Ord k, IsNormalType k,
 IsNormalType v) =&gt;
Term (Map k v) -&gt; Term (Set k)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Map.html#dom_"><span class="hs-identifier hs-var">dom_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'DRepRole) DRepState)
</span><a href="#local-6989586621682707048"><span class="hs-identifier hs-var">dreps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-246"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term Bool -&gt; Pred
forall p. IsPred p =&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'DRepRole) DRepState)
-&gt; Term (Set (Credential 'DRepRole))
forall k v.
(HasSpec (Map k v), HasSpec v, HasSpec k, Ord k, IsNormalType k,
 IsNormalType v) =&gt;
Term (Map k v) -&gt; Term (Set k)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Map.html#dom_"><span class="hs-identifier hs-var">dom_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'DRepRole) DRepState)
</span><a href="#local-6989586621682707048"><span class="hs-identifier hs-var">dreps</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Set (Credential 'DRepRole))
-&gt; Term (Set (Credential 'DRepRole)) -&gt; Term Bool
forall a. HasSpec a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">Set (Credential 'DRepRole) -&gt; Term (Set (Credential 'DRepRole))
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking))
-&gt; Set (Credential 'DRepRole)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#delegatesTo"><span class="hs-identifier hs-var">delegatesTo</span></a></span><span> </span><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking))
</span><a href="#local-6989586621682707046"><span class="hs-identifier hs-var">whoDelegated</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-247"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'DRepRole) DRepState)
-&gt; (Term (Credential 'DRepRole, DRepState) -&gt; Pred) -&gt; Pred
forall p t a.
(Forallable t a, HasSpec t, HasSpec a, IsPred p) =&gt;
Term t -&gt; (Term a -&gt; p) -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#forAll"><span class="hs-identifier hs-var">forAll</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'DRepRole) DRepState)
</span><a href="#local-6989586621682707048"><span class="hs-identifier hs-var">dreps</span></a></span><span> </span><span class="annot"><span class="annottext">((Term (Credential 'DRepRole, DRepState) -&gt; Pred) -&gt; Pred)
-&gt; (Term (Credential 'DRepRole, DRepState) -&gt; Pred) -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (Credential 'DRepRole, DRepState)
</span><span class="">[var|pair|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-248"></span><span>        </span><span class="annot"><span class="annottext">Term (Credential 'DRepRole, DRepState)
-&gt; FunTy
     (MapList Term (ProductAsList (Credential 'DRepRole, DRepState)))
     [Pred]
-&gt; Pred
forall p a.
(IsProductType a, IsPred p, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term a -&gt; FunTy (MapList Term (ProductAsList a)) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#match"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Credential 'DRepRole, DRepState)
</span><a href="#local-6989586621682707052"><span class="hs-identifier hs-var">pair</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy
   (MapList Term (ProductAsList (Credential 'DRepRole, DRepState)))
   [Pred]
 -&gt; Pred)
-&gt; FunTy
     (MapList Term (ProductAsList (Credential 'DRepRole, DRepState)))
     [Pred]
-&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (Credential 'DRepRole)
</span><span class="">[var|drep|]</span></span><span> </span><span class="annot"><span class="annottext">Term DRepState
</span><span class="">[var|drepstate|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-249"></span><span>          </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Term (Credential 'DRepRole)
-&gt; Specification (Credential 'DRepRole) -&gt; Pred
forall a. HasSpec a =&gt; Term a -&gt; Specification a -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Conformance.html#satisfies"><span class="hs-identifier hs-var">satisfies</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Credential 'DRepRole)
</span><a href="#local-6989586621682707053"><span class="hs-identifier hs-var">drep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WitUniv era -&gt; Specification (Credential 'DRepRole)
forall era (krole :: KeyRole).
Typeable krole =&gt;
WitUniv era -&gt; Specification (Credential krole)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.WitnessUniverse.html#witCredSpec"><span class="hs-identifier hs-var">witCredSpec</span></a></span><span> </span><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682707044"><span class="hs-identifier hs-var">univ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-250"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term DRepState
-&gt; FunTy (MapList Term (ProductAsList DRepState)) Pred -&gt; Pred
forall p a.
(IsProductType a, IsPred p, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term a -&gt; FunTy (MapList Term (ProductAsList a)) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#match"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">Term DRepState
</span><a href="#local-6989586621682707054"><span class="hs-identifier hs-var">drepstate</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy (MapList Term (ProductAsList DRepState)) Pred -&gt; Pred)
-&gt; FunTy (MapList Term (ProductAsList DRepState)) Pred -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term EpochNo
</span><span class="">[var|expiry|]</span></span><span> </span><span id="local-6989586621682707058"><span class="annot"><span class="annottext">TermD Deps (StrictMaybe Anchor)
</span><a href="#local-6989586621682707058"><span class="hs-identifier hs-var">_anchor</span></a></span></span><span> </span><span class="annot"><span class="annottext">Term (CompactForm Coin)
</span><span class="">[var|drepDeposit'|]</span></span><span> </span><span class="annot"><span class="annottext">Term (Set (Credential 'Staking))
</span><span class="">[var|delegs|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-251"></span><span>              </span><span class="annot"><span class="annottext">Term (Maybe (Set (Credential 'Staking)))
-&gt; (Term (Set (Credential 'Staking)) -&gt; [Pred]) -&gt; Pred
forall a p.
(HasSpec a, IsNormalType a, IsPred p) =&gt;
Term (Maybe a) -&gt; (Term a -&gt; p) -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#onJust"><span class="hs-identifier hs-var">onJust</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term (Credential 'DRepRole)
-&gt; Term (Map (Credential 'DRepRole) (Set (Credential 'Staking)))
-&gt; Term (Maybe (Set (Credential 'Staking)))
forall k v.
(HasSpec k, HasSpec v, Ord k, IsNormalType k, IsNormalType v) =&gt;
Term k -&gt; Term (Map k v) -&gt; Term (Maybe v)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Map.html#lookup_"><span class="hs-identifier hs-var">lookup_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Credential 'DRepRole)
</span><a href="#local-6989586621682707053"><span class="hs-identifier hs-var">drep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking))
-&gt; Term (Map (Credential 'DRepRole) (Set (Credential 'Staking)))
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking))
</span><a href="#local-6989586621682707046"><span class="hs-identifier hs-var">whoDelegated</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Term (Set (Credential 'Staking)) -&gt; [Pred]) -&gt; Pred)
-&gt; (Term (Set (Credential 'Staking)) -&gt; [Pred]) -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (Set (Credential 'Staking))
</span><span class="">[var|delegSet|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-252"></span><span>                </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Term Bool -&gt; Pred
forall p. IsPred p =&gt; [String] -&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assertExplain"><span class="hs-identifier hs-var">assertExplain</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; [String]
forall a. a -&gt; [a]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;all delegatees have delegated&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term (Set (Credential 'Staking))
</span><a href="#local-6989586621682707060"><span class="hs-identifier hs-var">delegs</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Set (Credential 'Staking))
-&gt; Term (Set (Credential 'Staking)) -&gt; Term Bool
forall a. HasSpec a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Set (Credential 'Staking))
</span><a href="#local-6989586621682707063"><span class="hs-identifier hs-var">delegSet</span></a></span><span>
</span><span id="line-253"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">WitUniv era -&gt; Term (Set (Credential 'Staking)) -&gt; Pred
forall era t. Witnessed era t =&gt; WitUniv era -&gt; Term t -&gt; Pred
</span><a href="Test.Cardano.Ledger.Constrained.Conway.WitnessUniverse.html#witness"><span class="hs-identifier hs-var">witness</span></a></span><span> </span><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682707044"><span class="hs-identifier hs-var">univ</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Set (Credential 'Staking))
</span><a href="#local-6989586621682707063"><span class="hs-identifier hs-var">delegSet</span></a></span><span>
</span><span id="line-254"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Term Bool -&gt; Pred
forall p. IsPred p =&gt; [String] -&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assertExplain"><span class="hs-identifier hs-var">assertExplain</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; [String]
forall a. a -&gt; [a]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;epoch of expiration must follow the current epoch&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term EpochNo
</span><a href="#local-6989586621682707045"><span class="hs-identifier hs-var">epoch</span></a></span><span> </span><span class="annot"><span class="annottext">Term EpochNo -&gt; Term EpochNo -&gt; Term Bool
forall a. OrdLike a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.NumOrd.html#%3C%3D."><span class="hs-operator hs-var">&lt;=.</span></a></span><span> </span><span class="annot"><span class="annottext">Term EpochNo
</span><a href="#local-6989586621682707057"><span class="hs-identifier hs-var">expiry</span></a></span><span>
</span><span id="line-255"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Pred -&gt; Pred
forall p. IsPred p =&gt; [String] -&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assertExplain"><span class="hs-identifier hs-var">assertExplain</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; [String]
forall a. a -&gt; [a]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;no deposit is 0&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Pred -&gt; Pred) -&gt; Pred -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term (CompactForm Coin)
-&gt; FunTy
     (MapList Term (ProductAsList (CompactForm Coin))) (Term Bool)
-&gt; Pred
forall p a.
(IsProductType a, IsPred p, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term a -&gt; FunTy (MapList Term (ProductAsList a)) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#match"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">Term (CompactForm Coin)
</span><a href="#local-6989586621682707059"><span class="hs-identifier hs-var">drepDeposit'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Term Word64
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Term Word64 -&gt; Term Word64 -&gt; Term Bool
forall a. OrdLike a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.NumOrd.html#%3C%3D."><span class="hs-operator hs-var">&lt;=.</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-256"></span><span>                </span><span class="hs-special">]</span><span>
</span><span id="line-257"></span><span>          </span><span class="hs-special">]</span><span>
</span><span id="line-258"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; [Term Bool] -&gt; Pred
forall p. IsPred p =&gt; [String] -&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assertExplain"><span class="hs-identifier hs-var">assertExplain</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; [String]
forall a. a -&gt; [a]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;num dormant epochs should not be too large&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Term Bool] -&gt; Pred) -&gt; [Term Bool] -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-259"></span><span>        </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Term EpochNo
</span><a href="#local-6989586621682707045"><span class="hs-identifier hs-var">epoch</span></a></span><span> </span><span class="annot"><span class="annottext">Term EpochNo -&gt; Term EpochNo -&gt; Term Bool
forall a. OrdLike a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.NumOrd.html#%3C%3D."><span class="hs-operator hs-var">&lt;=.</span></a></span><span> </span><span class="annot"><span class="annottext">Term EpochNo
</span><a href="#local-6989586621682707050"><span class="hs-identifier hs-var">numdormant</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term EpochNo
</span><a href="#local-6989586621682707050"><span class="hs-identifier hs-var">numdormant</span></a></span><span> </span><span class="annot"><span class="annottext">Term EpochNo -&gt; Term EpochNo -&gt; Term Bool
forall a. OrdLike a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.NumOrd.html#%3C%3D."><span class="hs-operator hs-var">&lt;=.</span></a></span><span> </span><span class="annot"><span class="annottext">Term EpochNo
</span><a href="#local-6989586621682707045"><span class="hs-identifier hs-var">epoch</span></a></span><span> </span><span class="annot"><span class="annottext">Term EpochNo -&gt; Term EpochNo -&gt; Term EpochNo
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">EpochNo -&gt; Term EpochNo
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; EpochNo
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-slotting-0.2.0.1-cbaa0d455a08b054bafb132b87b34221d87bbbacf98d60661b1ed3cfc20b13c4/share/doc/html/src/Cardano.Slotting.Slot.html#EpochNo"><span class="hs-identifier hs-var">EpochNo</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">10</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-260"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term EpochNo -&gt; Term EpochNo -&gt; Pred
forall a b. (HasSpec a, HasSpec b) =&gt; Term a -&gt; Term b -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#dependsOn"><span class="hs-identifier hs-var">dependsOn</span></a></span><span> </span><span class="annot"><span class="annottext">Term EpochNo
</span><a href="#local-6989586621682707050"><span class="hs-identifier hs-var">numdormant</span></a></span><span> </span><span class="annot"><span class="annottext">Term EpochNo
</span><a href="#local-6989586621682707045"><span class="hs-identifier hs-var">epoch</span></a></span><span> </span><span class="hs-comment">-- Solve epoch first.</span><span>
</span><span id="line-261"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term (CommitteeState era)
-&gt; FunTy (MapList Term (ProductAsList (CommitteeState era))) [Pred]
-&gt; Pred
forall p a.
(IsProductType a, IsPred p, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term a -&gt; FunTy (MapList Term (ProductAsList a)) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#match"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">Term (CommitteeState era)
</span><a href="#local-6989586621682707049"><span class="hs-identifier hs-var">committeestate</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy (MapList Term (ProductAsList (CommitteeState era))) [Pred]
 -&gt; Pred)
-&gt; FunTy (MapList Term (ProductAsList (CommitteeState era))) [Pred]
-&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'ColdCommitteeRole) CommitteeAuthorization)
</span><span class="">[var|committeemap|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-262"></span><span>        </span><span class="hs-special">[</span><span class="annot"><span class="annottext">WitUniv era -&gt; Term (Set (Credential 'ColdCommitteeRole)) -&gt; Pred
forall era t. Witnessed era t =&gt; WitUniv era -&gt; Term t -&gt; Pred
</span><a href="Test.Cardano.Ledger.Constrained.Conway.WitnessUniverse.html#witness"><span class="hs-identifier hs-var">witness</span></a></span><span> </span><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682707044"><span class="hs-identifier hs-var">univ</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term (Map (Credential 'ColdCommitteeRole) CommitteeAuthorization)
-&gt; Term (Set (Credential 'ColdCommitteeRole))
forall k v.
(HasSpec (Map k v), HasSpec v, HasSpec k, Ord k, IsNormalType k,
 IsNormalType v) =&gt;
Term (Map k v) -&gt; Term (Set k)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Map.html#dom_"><span class="hs-identifier hs-var">dom_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'ColdCommitteeRole) CommitteeAuthorization)
</span><a href="#local-6989586621682707065"><span class="hs-identifier hs-var">committeemap</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'ColdCommitteeRole) CommitteeAuthorization)
-&gt; Specification
     (Map (Credential 'ColdCommitteeRole) CommitteeAuthorization)
-&gt; Pred
forall a. HasSpec a =&gt; Term a -&gt; Specification a -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Conformance.html#satisfies"><span class="hs-identifier hs-var">satisfies</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'ColdCommitteeRole) CommitteeAuthorization)
</span><a href="#local-6989586621682707065"><span class="hs-identifier hs-var">committeemap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NumSpec Integer
-&gt; Specification
     (Map (Credential 'ColdCommitteeRole) CommitteeAuthorization)
forall t.
(HasSpec t, Sized t) =&gt;
NumSpec Integer -&gt; Specification t
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.TheKnot.html#hasSize"><span class="hs-identifier hs-var">hasSize</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; NumSpec Integer
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.TheKnot.html#rangeSize"><span class="hs-identifier hs-var">rangeSize</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">4</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-263"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-264"></span><span>
</span><span id="line-265"></span><span class="hs-comment">-- ======= DState ==================</span><span>
</span><span id="line-266"></span><span>
</span><span id="line-267"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#conwayDStateSpec"><span class="hs-identifier hs-type">conwayDStateSpec</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-268"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682705669"><span class="annot"><a href="#local-6989586621682705669"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-269"></span><span>  </span><span class="annot"><a href="#local-6989586621682705669"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#ConwayEra"><span class="hs-identifier hs-type">ConwayEra</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-270"></span><span>  </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.WitnessUniverse.html#WitUniv"><span class="hs-identifier hs-type">WitUniv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705669"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-271"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#DRepRole"><span class="hs-identifier hs-type">DRepRole</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#Staking"><span class="hs-identifier hs-type">Staking</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Address.html#RewardAccount"><span class="hs-identifier hs-type">RewardAccount</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-272"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Hashes.html#KeyHash"><span class="hs-identifier hs-type">KeyHash</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#StakePool"><span class="hs-identifier hs-type">StakePool</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.StakePool.html#StakePoolState"><span class="hs-identifier hs-type">StakePoolState</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-273"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Specification"><span class="hs-identifier hs-type">Specification</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.CertState.html#DState"><span class="hs-identifier hs-type">DState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705669"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-274"></span><span id="conwayDStateSpec"><span class="annot"><span class="annottext">conwayDStateSpec :: forall era.
(era ~ ConwayEra) =&gt;
WitUniv era
-&gt; CertContext
-&gt; Term (Map (KeyHash 'StakePool) StakePoolState)
-&gt; Specification (DState era)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#conwayDStateSpec"><span class="hs-identifier hs-var hs-var">conwayDStateSpec</span></a></span></span><span> </span><span id="local-6989586621682707265"><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682707265"><span class="hs-identifier hs-var">univ</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682707266"><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking))
</span><a href="#local-6989586621682707266"><span class="hs-identifier hs-var">whoDelegates</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682707267"><span class="annot"><span class="annottext">Map RewardAccount Coin
</span><a href="#local-6989586621682707267"><span class="hs-identifier hs-var">wdrl</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682707268"><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState)
</span><a href="#local-6989586621682707268"><span class="hs-identifier hs-var">poolreg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-275"></span><span>  </span><span class="annot"><span class="annottext">(Term (DState era) -&gt; Pred) -&gt; Specification (DState era)
forall a p.
(IsPred p, HasSpec a) =&gt;
(Term a -&gt; p) -&gt; Specification a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#constrained"><span class="hs-identifier hs-var">constrained</span></a></span><span> </span><span class="annot"><span class="annottext">((Term (DState era) -&gt; Pred) -&gt; Specification (DState era))
-&gt; (Term (DState era) -&gt; Pred) -&gt; Specification (DState era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (DState era)
</span><span class="">[var| ds |]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-276"></span><span>    </span><span class="annot"><span class="annottext">Term (DState era)
-&gt; FunTy (MapList Term (ProductAsList (DState era))) [Pred] -&gt; Pred
forall p a.
(IsProductType a, IsPred p, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term a -&gt; FunTy (MapList Term (ProductAsList a)) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#match"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">Term (DState era)
</span><a href="#local-6989586621682707269"><span class="hs-identifier hs-var">ds</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy (MapList Term (ProductAsList (DState era))) [Pred] -&gt; Pred)
-&gt; FunTy (MapList Term (ProductAsList (DState era))) [Pred] -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (ConwayAccounts ConwayEra)
</span><span class="">[var|accounts|]</span></span><span> </span><span class="annot"><span class="annottext">Term (Map FutureGenDeleg GenDelegPair)
</span><span class="">[var|futureGenDelegs|]</span></span><span> </span><span class="annot"><span class="annottext">Term GenDelegs
</span><span class="">[var|genDelegs|]</span></span><span> </span><span class="annot"><span class="annottext">Term InstantaneousRewards
</span><span class="">[var|irewards|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-277"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Term (ConwayAccounts ConwayEra)
-&gt; FunTy
     (MapList Term (ProductAsList (ConwayAccounts ConwayEra))) Pred
-&gt; Pred
forall p a.
(IsProductType a, IsPred p, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term a -&gt; FunTy (MapList Term (ProductAsList a)) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#match"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">Term (ConwayAccounts ConwayEra)
</span><a href="#local-6989586621682707270"><span class="hs-identifier hs-var">accounts</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy
   (MapList Term (ProductAsList (ConwayAccounts ConwayEra))) Pred
 -&gt; Pred)
-&gt; FunTy
     (MapList Term (ProductAsList (ConwayAccounts ConwayEra))) Pred
-&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'Staking) (ConwayAccountState era))
</span><span class="">[var|accountmap|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'Staking) (ConwayAccountState era))
-&gt; Specification
     (Map (Credential 'Staking) (ConwayAccountState era))
-&gt; Pred
forall a. HasSpec a =&gt; Term a -&gt; Specification a -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Conformance.html#satisfies"><span class="hs-identifier hs-var">satisfies</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'Staking) (ConwayAccountState era))
</span><a href="#local-6989586621682707274"><span class="hs-identifier hs-var">accountmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WitUniv era
-&gt; Map (Credential 'DRepRole) (Set (Credential 'Staking))
-&gt; Term (Map (KeyHash 'StakePool) StakePoolState)
-&gt; Map RewardAccount Coin
-&gt; Specification
     (Map (Credential 'Staking) (ConwayAccountState era))
forall era.
Era era =&gt;
WitUniv era
-&gt; Map (Credential 'DRepRole) (Set (Credential 'Staking))
-&gt; Term (Map (KeyHash 'StakePool) StakePoolState)
-&gt; Map RewardAccount Coin
-&gt; Specification
     (Map (Credential 'Staking) (ConwayAccountState era))
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#conwayAccountMapSpec"><span class="hs-identifier hs-var">conwayAccountMapSpec</span></a></span><span> </span><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682707265"><span class="hs-identifier hs-var">univ</span></a></span><span> </span><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking))
</span><a href="#local-6989586621682707266"><span class="hs-identifier hs-var">whoDelegates</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState)
</span><a href="#local-6989586621682707268"><span class="hs-identifier hs-var">poolreg</span></a></span><span> </span><span class="annot"><span class="annottext">Map RewardAccount Coin
</span><a href="#local-6989586621682707267"><span class="hs-identifier hs-var">wdrl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-278"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- futureGenDelegs</span><span>
</span><span id="line-279"></span><span>        </span><span class="annot"><span class="annottext">Term Bool -&gt; Pred
forall p. IsPred p =&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term (Map FutureGenDeleg GenDelegPair) -&gt; Term Integer
forall a. (HasSpec a, Sized a) =&gt; Term a -&gt; Term Integer
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.TheKnot.html#sizeOf_"><span class="hs-identifier hs-var">sizeOf_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map FutureGenDeleg GenDelegPair)
</span><a href="#local-6989586621682707271"><span class="hs-identifier hs-var">futureGenDelegs</span></a></span><span> </span><span class="annot"><span class="annottext">Term Integer -&gt; Term Integer -&gt; Term Bool
forall a. HasSpec a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">Term Integer
</span><span class="hs-number">0</span></span><span>
</span><span id="line-280"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- genDelegs</span><span>
</span><span id="line-281"></span><span>        </span><span class="annot"><span class="annottext">Term GenDelegs
-&gt; FunTy (MapList Term (ProductAsList GenDelegs)) [Pred] -&gt; Pred
forall p a.
(IsProductType a, IsPred p, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term a -&gt; FunTy (MapList Term (ProductAsList a)) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#match"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">Term GenDelegs
</span><a href="#local-6989586621682707272"><span class="hs-identifier hs-var">genDelegs</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy (MapList Term (ProductAsList GenDelegs)) [Pred] -&gt; Pred)
-&gt; FunTy (MapList Term (ProductAsList GenDelegs)) [Pred] -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682707276"><span class="annot"><span class="annottext">Term (Map (KeyHash 'Genesis) GenDelegPair)
</span><a href="#local-6989586621682707276"><span class="hs-identifier hs-var">gd</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Term Bool -&gt; Pred
forall p. IsPred p =&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'Genesis) GenDelegPair) -&gt; Term Integer
forall a. (HasSpec a, Sized a) =&gt; Term a -&gt; Term Integer
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.TheKnot.html#sizeOf_"><span class="hs-identifier hs-var">sizeOf_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'Genesis) GenDelegPair)
</span><a href="#local-6989586621682707276"><span class="hs-identifier hs-var">gd</span></a></span><span> </span><span class="annot"><span class="annottext">Term Integer -&gt; Term Integer -&gt; Term Bool
forall a. HasSpec a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">Term Integer
</span><span class="hs-number">0</span></span><span class="hs-special">]</span><span>
</span><span id="line-282"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- irewards</span><span>
</span><span id="line-283"></span><span>        </span><span class="annot"><span class="annottext">Term InstantaneousRewards
-&gt; FunTy
     (MapList Term (ProductAsList InstantaneousRewards)) [Term Bool]
-&gt; Pred
forall p a.
(IsProductType a, IsPred p, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term a -&gt; FunTy (MapList Term (ProductAsList a)) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#match"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">Term InstantaneousRewards
</span><a href="#local-6989586621682707273"><span class="hs-identifier hs-var">irewards</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy
   (MapList Term (ProductAsList InstantaneousRewards)) [Term Bool]
 -&gt; Pred)
-&gt; FunTy
     (MapList Term (ProductAsList InstantaneousRewards)) [Term Bool]
-&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682707277"><span class="annot"><span class="annottext">Term (Map (Credential 'Staking) Coin)
</span><a href="#local-6989586621682707277"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621682707278"><span class="annot"><span class="annottext">Term (Map (Credential 'Staking) Coin)
</span><a href="#local-6989586621682707278"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682707279"><span class="annot"><span class="annottext">Term DeltaCoin
</span><a href="#local-6989586621682707279"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span id="local-6989586621682707280"><span class="annot"><span class="annottext">Term DeltaCoin
</span><a href="#local-6989586621682707280"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Term (Map (Credential 'Staking) Coin) -&gt; Term Integer
forall a. (HasSpec a, Sized a) =&gt; Term a -&gt; Term Integer
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.TheKnot.html#sizeOf_"><span class="hs-identifier hs-var">sizeOf_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'Staking) Coin)
</span><a href="#local-6989586621682707277"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Term Integer -&gt; Term Integer -&gt; Term Bool
forall a. HasSpec a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">Term Integer
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'Staking) Coin) -&gt; Term Integer
forall a. (HasSpec a, Sized a) =&gt; Term a -&gt; Term Integer
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.TheKnot.html#sizeOf_"><span class="hs-identifier hs-var">sizeOf_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'Staking) Coin)
</span><a href="#local-6989586621682707278"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term Integer -&gt; Term Integer -&gt; Term Bool
forall a. HasSpec a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">Term Integer
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term DeltaCoin
</span><a href="#local-6989586621682707279"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Term DeltaCoin -&gt; Term DeltaCoin -&gt; Term Bool
forall a. HasSpec a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">DeltaCoin -&gt; Term DeltaCoin
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="annot"><span class="annottext">DeltaCoin
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term DeltaCoin
</span><a href="#local-6989586621682707280"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">Term DeltaCoin -&gt; Term DeltaCoin -&gt; Term Bool
forall a. HasSpec a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">DeltaCoin -&gt; Term DeltaCoin
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="annot"><span class="annottext">DeltaCoin
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">]</span><span>
</span><span id="line-284"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-285"></span><span>
</span><span id="line-286"></span><span class="hs-comment">-- | Specify the internal Map of ConwayAccounts ::  Map (Credential Staking) (ConwayAccountState era)</span><span>
</span><span id="line-287"></span><span class="hs-comment">--   Ensure that the Staking Credential is both staked to some Pool, and Delegated to some DRep</span><span>
</span><span id="line-288"></span><span class="hs-comment">-- | Given a set of Withdrawals:: newtype Withdrawals = Withdrawals {unWithdrawals :: Map RewardAccount Coin}</span><span>
</span><span id="line-289"></span><span class="hs-comment">--   where:: data RewardAccount = RewardAccount {raNetwork :: !Network, raCredential :: !(Credential Staking)}</span><span>
</span><span id="line-290"></span><span class="hs-comment">--   That ensures every AccountState has the propeties listed to the left</span><span>
</span><span id="line-291"></span><span class="hs-comment">--   data ConwayAccountState era = ConwayAccountState</span><span>
</span><span id="line-292"></span><span class="hs-comment">--       {casBalance :: (CompactForm Coin)                            -- Sometimes 0, Matches the withdrawl amount if part of a Withdrawal</span><span>
</span><span id="line-293"></span><span class="hs-comment">--       ,casDeposit :: (CompactFormCoin)                             -- witnessed</span><span>
</span><span id="line-294"></span><span class="hs-comment">--       ,casStakePoolDelegation :: (StrictMaybe (KeyHash StakePool)) -- The Pool Staked to exists</span><span>
</span><span id="line-295"></span><span class="hs-comment">--       ,casDRepDelegation :: (StrictMaybe DRep)}                    -- The DRep delegated to exists</span><span>
</span><span id="line-296"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#conwayAccountMapSpec"><span class="hs-identifier hs-type">conwayAccountMapSpec</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-297"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682705680"><span class="annot"><a href="#local-6989586621682705680"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-298"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#Era"><span class="hs-identifier hs-type">Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705680"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-299"></span><span>  </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.WitnessUniverse.html#WitUniv"><span class="hs-identifier hs-type">WitUniv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705680"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-300"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#DRepRole"><span class="hs-identifier hs-type">DRepRole</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#Staking"><span class="hs-identifier hs-type">Staking</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-301"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Hashes.html#KeyHash"><span class="hs-identifier hs-type">KeyHash</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#StakePool"><span class="hs-identifier hs-type">StakePool</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.StakePool.html#StakePoolState"><span class="hs-identifier hs-type">StakePoolState</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-302"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Address.html#RewardAccount"><span class="hs-identifier hs-type">RewardAccount</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-303"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Specification"><span class="hs-identifier hs-type">Specification</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#Staking"><span class="hs-identifier hs-type">Staking</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-conway-1.21.0.0/doc/html/cardano-ledger-conway/src/Cardano.Ledger.Conway.State.Account.html#ConwayAccountState"><span class="hs-identifier hs-type">ConwayAccountState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705680"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-304"></span><span id="conwayAccountMapSpec"><span class="annot"><span class="annottext">conwayAccountMapSpec :: forall era.
Era era =&gt;
WitUniv era
-&gt; Map (Credential 'DRepRole) (Set (Credential 'Staking))
-&gt; Term (Map (KeyHash 'StakePool) StakePoolState)
-&gt; Map RewardAccount Coin
-&gt; Specification
     (Map (Credential 'Staking) (ConwayAccountState era))
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#conwayAccountMapSpec"><span class="hs-identifier hs-var hs-var">conwayAccountMapSpec</span></a></span></span><span> </span><span id="local-6989586621682707580"><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682707580"><span class="hs-identifier hs-var">univ</span></a></span></span><span> </span><span id="local-6989586621682707581"><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking))
</span><a href="#local-6989586621682707581"><span class="hs-identifier hs-var">whoDelegates</span></a></span></span><span> </span><span id="local-6989586621682707582"><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState)
</span><a href="#local-6989586621682707582"><span class="hs-identifier hs-var">poolreg</span></a></span></span><span> </span><span id="local-6989586621682707583"><span class="annot"><span class="annottext">Map RewardAccount Coin
</span><a href="#local-6989586621682707583"><span class="hs-identifier hs-var">wdrl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-305"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682707584"><span class="annot"><span class="annottext">witsize :: Integer
</span><a href="#local-6989586621682707584"><span class="hs-identifier hs-var hs-var">witsize</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WitUniv era -&gt; Int
forall era. WitUniv era -&gt; Int
</span><a href="Test.Cardano.Ledger.Constrained.Conway.WitnessUniverse.html#wvSize"><span class="hs-identifier hs-var">wvSize</span></a></span><span> </span><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682707580"><span class="hs-identifier hs-var">univ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-306"></span><span>      </span><span id="local-6989586621682707586"><span class="annot"><span class="annottext">wdlsize :: Integer
</span><a href="#local-6989586621682707586"><span class="hs-identifier hs-var hs-var">wdlsize</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map RewardAccount Coin -&gt; Int
forall k a. Map k a -&gt; Int
</span><span class="hs-identifier hs-var">Map.size</span></span><span> </span><span class="annot"><span class="annottext">Map RewardAccount Coin
</span><a href="#local-6989586621682707583"><span class="hs-identifier hs-var">wdrl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-307"></span><span>      </span><span id="local-6989586621682707588"><span class="annot"><span class="annottext">minAccountsize :: Integer
</span><a href="#local-6989586621682707588"><span class="hs-identifier hs-var hs-var">minAccountsize</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682707586"><span class="hs-identifier hs-var">wdlsize</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">2</span></span><span>
</span><span id="line-308"></span><span>      </span><span class="annot"><a href="#local-6989586621682707589"><span class="hs-identifier hs-type">withdrawalMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#Staking"><span class="hs-identifier hs-type">Staking</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Compactible.html#CompactForm"><span class="hs-identifier hs-type">CompactForm</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-309"></span><span>      </span><span id="local-6989586621682707589"><span class="annot"><span class="annottext">withdrawalMap :: Map (Credential 'Staking) (CompactForm Coin)
</span><a href="#local-6989586621682707589"><span class="hs-identifier hs-var hs-var">withdrawalMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(RewardAccount -&gt; Credential 'Staking)
-&gt; Map RewardAccount (CompactForm Coin)
-&gt; Map (Credential 'Staking) (CompactForm Coin)
forall k2 k1 a. Ord k2 =&gt; (k1 -&gt; k2) -&gt; Map k1 a -&gt; Map k2 a
</span><span class="hs-identifier hs-var">Map.mapKeys</span></span><span> </span><span class="annot"><span class="annottext">RewardAccount -&gt; Credential 'Staking
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Address.html#raCredential"><span class="hs-identifier hs-var">raCredential</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Coin -&gt; CompactForm Coin)
-&gt; Map RewardAccount Coin -&gt; Map RewardAccount (CompactForm Coin)
forall a b k. (a -&gt; b) -&gt; Map k a -&gt; Map k b
</span><span class="hs-identifier hs-var">Map.map</span></span><span> </span><span class="annot"><span class="annottext">HasCallStack =&gt; Coin -&gt; CompactForm Coin
Coin -&gt; CompactForm Coin
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#compactCoinOrError"><span class="hs-identifier hs-var">compactCoinOrError</span></a></span><span> </span><span class="annot"><span class="annottext">Map RewardAccount Coin
</span><a href="#local-6989586621682707583"><span class="hs-identifier hs-var">wdrl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-310"></span><span>      </span><span class="annot"><a href="#local-6989586621682707593"><span class="hs-identifier hs-type">withdrawalKeys</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#Staking"><span class="hs-identifier hs-type">Staking</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-311"></span><span>      </span><span id="local-6989586621682707593"><span class="annot"><span class="annottext">withdrawalKeys :: Set (Credential 'Staking)
</span><a href="#local-6989586621682707593"><span class="hs-identifier hs-var hs-var">withdrawalKeys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map (Credential 'Staking) Coin -&gt; Set (Credential 'Staking)
forall k a. Map k a -&gt; Set k
</span><span class="hs-identifier hs-var">Map.keysSet</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(RewardAccount -&gt; Credential 'Staking)
-&gt; Map RewardAccount Coin -&gt; Map (Credential 'Staking) Coin
forall k2 k1 a. Ord k2 =&gt; (k1 -&gt; k2) -&gt; Map k1 a -&gt; Map k2 a
</span><span class="hs-identifier hs-var">Map.mapKeys</span></span><span> </span><span class="annot"><span class="annottext">RewardAccount -&gt; Credential 'Staking
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Address.html#raCredential"><span class="hs-identifier hs-var">raCredential</span></a></span><span> </span><span class="annot"><span class="annottext">Map RewardAccount Coin
</span><a href="#local-6989586621682707583"><span class="hs-identifier hs-var">wdrl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-312"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(Term (Map (Credential 'Staking) (ConwayAccountState era))
 -&gt; [Pred])
-&gt; Specification
     (Map (Credential 'Staking) (ConwayAccountState era))
forall a p.
(IsPred p, HasSpec a) =&gt;
(Term a -&gt; p) -&gt; Specification a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#constrained"><span class="hs-identifier hs-var">constrained</span></a></span><span> </span><span class="annot"><span class="annottext">((Term (Map (Credential 'Staking) (ConwayAccountState era))
  -&gt; [Pred])
 -&gt; Specification
      (Map (Credential 'Staking) (ConwayAccountState era)))
-&gt; (Term (Map (Credential 'Staking) (ConwayAccountState era))
    -&gt; [Pred])
-&gt; Specification
     (Map (Credential 'Staking) (ConwayAccountState era))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'Staking) (ConwayAccountState era))
</span><span class="">[var|conwayAccountMap|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-313"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="hs-comment">-- Size of conwayAccounts, can't be bigger than the witness set (n keys + n scripts)</span><span>
</span><span id="line-314"></span><span>          </span><span class="hs-comment">-- but it must be bigger than the withdrawal size</span><span>
</span><span id="line-315"></span><span>          </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682707588"><span class="hs-identifier hs-var">minAccountsize</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682707584"><span class="hs-identifier hs-var">witsize</span></a></span><span>
</span><span id="line-316"></span><span>            </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Term Bool -&gt; Pred
forall p. IsPred p =&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'Staking) (ConwayAccountState era))
-&gt; Term Integer
forall a. (HasSpec a, Sized a) =&gt; Term a -&gt; Term Integer
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.TheKnot.html#sizeOf_"><span class="hs-identifier hs-var">sizeOf_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term (Map (Credential 'Staking) (ConwayAccountState era))
</span><a href="#local-6989586621682707594"><span class="hs-identifier hs-var">conwayAccountMap</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term Integer -&gt; Term Integer -&gt; Term Bool
forall a. OrdLike a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.NumOrd.html#%3E%3D."><span class="hs-operator hs-var">&gt;=.</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Term Integer
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682707588"><span class="hs-identifier hs-var">minAccountsize</span></a></span><span>
</span><span id="line-317"></span><span>            </span><span class="hs-keyword">else</span><span>
</span><span id="line-318"></span><span>              </span><span class="annot"><span class="annottext">[String] -&gt; Bool -&gt; Pred
forall p. IsPred p =&gt; [String] -&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assertExplain"><span class="hs-identifier hs-var">assertExplain</span></a></span><span>
</span><span id="line-319"></span><span>                </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">String -&gt; [String]
forall a. a -&gt; [a]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-320"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The size of the WitUniv (&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682707584"><span class="hs-identifier hs-var">witsize</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;) is too small to accomodate the Accounts map.&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-321"></span><span>                </span><span class="hs-special">)</span><span>
</span><span id="line-322"></span><span>                </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-323"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'Staking) (ConwayAccountState era))
-&gt; Term (Map (KeyHash 'StakePool) StakePoolState) -&gt; Pred
forall a b. (HasSpec a, HasSpec b) =&gt; Term a -&gt; Term b -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#dependsOn"><span class="hs-identifier hs-var">dependsOn</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'Staking) (ConwayAccountState era))
</span><a href="#local-6989586621682707594"><span class="hs-identifier hs-var">conwayAccountMap</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState)
</span><a href="#local-6989586621682707582"><span class="hs-identifier hs-var">poolreg</span></a></span><span>
</span><span id="line-324"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term Bool -&gt; Pred
forall p. IsPred p =&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term (Set (Credential 'Staking))
-&gt; Term (Set (Credential 'Staking)) -&gt; Term Bool
forall a.
(Ord a, HasSpec a) =&gt;
Term (Set a) -&gt; Term (Set a) -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Set.html#subset_"><span class="hs-identifier hs-var">subset_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set (Credential 'Staking) -&gt; Term (Set (Credential 'Staking))
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="annot"><span class="annottext">Set (Credential 'Staking)
</span><a href="#local-6989586621682707593"><span class="hs-identifier hs-var">withdrawalKeys</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term (Map (Credential 'Staking) (ConwayAccountState era))
-&gt; Term (Set (Credential 'Staking))
forall k v.
(HasSpec (Map k v), HasSpec v, HasSpec k, Ord k, IsNormalType k,
 IsNormalType v) =&gt;
Term (Map k v) -&gt; Term (Set k)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Map.html#dom_"><span class="hs-identifier hs-var">dom_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'Staking) (ConwayAccountState era))
</span><a href="#local-6989586621682707594"><span class="hs-identifier hs-var">conwayAccountMap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-325"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'Staking) (ConwayAccountState era))
-&gt; (Term (Credential 'Staking, ConwayAccountState era) -&gt; Pred)
-&gt; Pred
forall p t a.
(Forallable t a, HasSpec t, HasSpec a, IsPred p) =&gt;
Term t -&gt; (Term a -&gt; p) -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#forAll"><span class="hs-identifier hs-var">forAll</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'Staking) (ConwayAccountState era))
</span><a href="#local-6989586621682707594"><span class="hs-identifier hs-var">conwayAccountMap</span></a></span><span> </span><span class="annot"><span class="annottext">((Term (Credential 'Staking, ConwayAccountState era) -&gt; Pred)
 -&gt; Pred)
-&gt; (Term (Credential 'Staking, ConwayAccountState era) -&gt; Pred)
-&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-326"></span><span>            </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (Credential 'Staking, ConwayAccountState era)
</span><span class="">[var|credAcctStatePair|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term (Credential 'Staking, ConwayAccountState era)
-&gt; FunTy
     (MapList
        Term (ProductAsList (Credential 'Staking, ConwayAccountState era)))
     [Pred]
-&gt; Pred
forall p a.
(IsProductType a, IsPred p, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term a -&gt; FunTy (MapList Term (ProductAsList a)) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#match"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Credential 'Staking, ConwayAccountState era)
</span><a href="#local-6989586621682707598"><span class="hs-identifier hs-var">credAcctStatePair</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy
   (MapList
      Term (ProductAsList (Credential 'Staking, ConwayAccountState era)))
   [Pred]
 -&gt; Pred)
-&gt; FunTy
     (MapList
        Term (ProductAsList (Credential 'Staking, ConwayAccountState era)))
     [Pred]
-&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (Credential 'Staking)
</span><span class="">[var|cred|]</span></span><span> </span><span class="annot"><span class="annottext">Term (ConwayAccountState era)
</span><span class="">[var|conwayAcctState|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-327"></span><span>              </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">WitUniv era -&gt; Term (Credential 'Staking) -&gt; Pred
forall era t. Witnessed era t =&gt; WitUniv era -&gt; Term t -&gt; Pred
</span><a href="Test.Cardano.Ledger.Constrained.Conway.WitnessUniverse.html#witness"><span class="hs-identifier hs-var">witness</span></a></span><span> </span><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682707580"><span class="hs-identifier hs-var">univ</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Credential 'Staking)
</span><a href="#local-6989586621682707599"><span class="hs-identifier hs-var">cred</span></a></span><span>
</span><span id="line-328"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">WitUniv era -&gt; Term (ConwayAccountState era) -&gt; Pred
forall era t. Witnessed era t =&gt; WitUniv era -&gt; Term t -&gt; Pred
</span><a href="Test.Cardano.Ledger.Constrained.Conway.WitnessUniverse.html#witness"><span class="hs-identifier hs-var">witness</span></a></span><span> </span><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682707580"><span class="hs-identifier hs-var">univ</span></a></span><span> </span><span class="annot"><span class="annottext">Term (ConwayAccountState era)
</span><a href="#local-6989586621682707600"><span class="hs-identifier hs-var">conwayAcctState</span></a></span><span>
</span><span id="line-329"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term (ConwayAccountState era)
-&gt; FunTy
     (MapList Term (ProductAsList (ConwayAccountState era))) [Pred]
-&gt; Pred
forall p a.
(IsProductType a, IsPred p, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term a -&gt; FunTy (MapList Term (ProductAsList a)) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#match"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">Term (ConwayAccountState era)
</span><a href="#local-6989586621682707600"><span class="hs-identifier hs-var">conwayAcctState</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy
   (MapList Term (ProductAsList (ConwayAccountState era))) [Pred]
 -&gt; Pred)
-&gt; FunTy
     (MapList Term (ProductAsList (ConwayAccountState era))) [Pred]
-&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (CompactForm Coin)
</span><span class="">[var|bal|]</span></span><span> </span><span class="annot"><span class="annottext">Term (CompactForm Coin)
</span><span class="">[var|deposit|]</span></span><span> </span><span class="annot"><span class="annottext">Term (StrictMaybe (KeyHash 'StakePool))
</span><span class="">[var|mpool|]</span></span><span> </span><span class="annot"><span class="annottext">Term (StrictMaybe DRep)
</span><span class="">[var|mdrep|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-330"></span><span>                  </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Term (CompactForm Coin) -&gt; Term (Credential 'Staking) -&gt; Pred
forall a b. (HasSpec a, HasSpec b) =&gt; Term a -&gt; Term b -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#dependsOn"><span class="hs-identifier hs-var">dependsOn</span></a></span><span> </span><span class="annot"><span class="annottext">Term (CompactForm Coin)
</span><a href="#local-6989586621682707602"><span class="hs-identifier hs-var">deposit</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Credential 'Staking)
</span><a href="#local-6989586621682707599"><span class="hs-identifier hs-var">cred</span></a></span><span>
</span><span id="line-331"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term (CompactForm Coin) -&gt; Term (Credential 'Staking) -&gt; Pred
forall a b. (HasSpec a, HasSpec b) =&gt; Term a -&gt; Term b -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#dependsOn"><span class="hs-identifier hs-var">dependsOn</span></a></span><span> </span><span class="annot"><span class="annottext">Term (CompactForm Coin)
</span><a href="#local-6989586621682707601"><span class="hs-identifier hs-var">bal</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Credential 'Staking)
</span><a href="#local-6989586621682707599"><span class="hs-identifier hs-var">cred</span></a></span><span>
</span><span id="line-332"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term (CompactForm Coin) -&gt; Specification (CompactForm Coin) -&gt; Pred
forall a. HasSpec a =&gt; Term a -&gt; Specification a -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Conformance.html#satisfies"><span class="hs-identifier hs-var">satisfies</span></a></span><span> </span><span class="annot"><span class="annottext">Term (CompactForm Coin)
</span><a href="#local-6989586621682707602"><span class="hs-identifier hs-var">deposit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CompactForm Coin -&gt; Specification (CompactForm Coin)
forall a. OrdLike a =&gt; a -&gt; Specification a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.NumOrd.html#geqSpec"><span class="hs-identifier hs-var">geqSpec</span></a></span><span> </span><span class="annot"><span class="annottext">CompactForm Coin
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-333"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall (c :: Symbol) a p.
(IsConstrOf c (ProdOver (ConstrOf c (TheSop a))) (TheSop a),
 GenericRequires a, SumOver (Cases (SOP (TheSop a))) ~ SimpleRep a,
 All HasSpec (Cases (SOP (TheSop a))),
 HasSpec (ProdOver (ConstrOf c (TheSop a))), IsPred p,
 Args (ProdOver (ConstrOf c (TheSop a))) ~ ConstrOf c (TheSop a),
 All HasSpec (ConstrOf c (TheSop a)),
 IsProd (ProdOver (ConstrOf c (TheSop a)))) =&gt;
Term a -&gt; FunTy (MapList Term (ConstrOf c (TheSop a))) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#onCon"><span class="hs-identifier hs-var">onCon</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-string">&quot;SJust&quot;</span></span><span> </span><span class="annot"><span class="annottext">Term (StrictMaybe (KeyHash 'StakePool))
</span><a href="#local-6989586621682707603"><span class="hs-identifier hs-var">mpool</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy
   (MapList
      Term
      (ConstrOf &quot;SJust&quot; (TheSop (StrictMaybe (KeyHash 'StakePool)))))
   (Term Bool)
 -&gt; Pred)
-&gt; FunTy
     (MapList
        Term
        (ConstrOf &quot;SJust&quot; (TheSop (StrictMaybe (KeyHash 'StakePool)))))
     (Term Bool)
-&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (KeyHash 'StakePool)
</span><span class="">[var|khashStakePool|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term (KeyHash 'StakePool)
-&gt; Term (Set (KeyHash 'StakePool)) -&gt; Term Bool
forall a. (Ord a, HasSpec a) =&gt; Term a -&gt; Term (Set a) -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Set.html#member_"><span class="hs-identifier hs-var">member_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (KeyHash 'StakePool)
</span><a href="#local-6989586621682707607"><span class="hs-identifier hs-var">khashStakePool</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState)
-&gt; Term (Set (KeyHash 'StakePool))
forall k v.
(HasSpec (Map k v), HasSpec v, HasSpec k, Ord k, IsNormalType k,
 IsNormalType v) =&gt;
Term (Map k v) -&gt; Term (Set k)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Map.html#dom_"><span class="hs-identifier hs-var">dom_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState)
</span><a href="#local-6989586621682707582"><span class="hs-identifier hs-var">poolreg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-334"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term (Credential 'Staking)
-&gt; (Credential 'Staking -&gt; Bool) -&gt; (Term Bool -&gt; Pred) -&gt; Pred
forall a b p.
(HasSpec a, HasSpec b, IsPred p) =&gt;
Term a -&gt; (a -&gt; b) -&gt; (Term b -&gt; p) -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#reify"><span class="hs-identifier hs-var">reify</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Credential 'Staking)
</span><a href="#local-6989586621682707599"><span class="hs-identifier hs-var">cred</span></a></span><span> </span><span class="annot"><span class="annottext">Credential 'Staking -&gt; Bool
</span><a href="Test.Cardano.Ledger.Constrained.Conway.Deleg.html#isKeyHash"><span class="hs-identifier hs-var">isKeyHash</span></a></span><span> </span><span class="annot"><span class="annottext">((Term Bool -&gt; Pred) -&gt; Pred) -&gt; (Term Bool -&gt; Pred) -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682707609"><span class="annot"><span class="annottext">Term Bool
</span><a href="#local-6989586621682707609"><span class="hs-identifier hs-var">bool</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term Bool -&gt; [Pred] -&gt; Pred
forall p. IsPred p =&gt; Term Bool -&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#whenTrue"><span class="hs-identifier hs-var">whenTrue</span></a></span><span> </span><span class="annot"><span class="annottext">Term Bool
</span><a href="#local-6989586621682707609"><span class="hs-identifier hs-var">bool</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Pred -&gt; Pred
forall p. IsPred p =&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Pred -&gt; Pred) -&gt; Pred -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (c :: Symbol) a p.
(IsConstrOf c (ProdOver (ConstrOf c (TheSop a))) (TheSop a),
 GenericRequires a, SumOver (Cases (SOP (TheSop a))) ~ SimpleRep a,
 All HasSpec (Cases (SOP (TheSop a))),
 HasSpec (ProdOver (ConstrOf c (TheSop a))), IsPred p,
 Args (ProdOver (ConstrOf c (TheSop a))) ~ ConstrOf c (TheSop a),
 All HasSpec (ConstrOf c (TheSop a)),
 IsProd (ProdOver (ConstrOf c (TheSop a)))) =&gt;
Term a -&gt; FunTy (MapList Term (ConstrOf c (TheSop a))) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#onCon"><span class="hs-identifier hs-var">onCon</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-string">&quot;SJust&quot;</span></span><span> </span><span class="annot"><span class="annottext">Term (StrictMaybe DRep)
</span><a href="#local-6989586621682707604"><span class="hs-identifier hs-var">mdrep</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy
   (MapList Term (ConstrOf &quot;SJust&quot; (TheSop (StrictMaybe DRep))))
   (Term Bool)
 -&gt; Pred)
-&gt; FunTy
     (MapList Term (ConstrOf &quot;SJust&quot; (TheSop (StrictMaybe DRep))))
     (Term Bool)
-&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682707611"><span class="annot"><span class="annottext">Term DRep
</span><a href="#local-6989586621682707611"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term DRep -&gt; Term (Set DRep) -&gt; Term Bool
forall a. (Ord a, HasSpec a) =&gt; Term a -&gt; Term (Set a) -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Set.html#member_"><span class="hs-identifier hs-var">member_</span></a></span><span> </span><span class="annot"><span class="annottext">Term DRep
</span><a href="#local-6989586621682707611"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set DRep -&gt; Term (Set DRep)
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking)) -&gt; Set DRep
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#dRepsOf"><span class="hs-identifier hs-var">dRepsOf</span></a></span><span> </span><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking))
</span><a href="#local-6989586621682707581"><span class="hs-identifier hs-var">whoDelegates</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-335"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term (Maybe (CompactForm Coin))
-&gt; FunTy
     (MapList
        (Weighted (BinderD Deps))
        (Cases (SimpleRep (Maybe (CompactForm Coin)))))
     Pred
forall a.
(GenericRequires a, SimpleRep a ~ SumOver (Cases (SimpleRep a)),
 TypeList (Cases (SimpleRep a))) =&gt;
Term a
-&gt; FunTy
     (MapList (Weighted (BinderD Deps)) (Cases (SimpleRep a))) Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#caseOn"><span class="hs-identifier hs-var">caseOn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term (Credential 'Staking)
-&gt; Term (Map (Credential 'Staking) (CompactForm Coin))
-&gt; Term (Maybe (CompactForm Coin))
forall k v.
(HasSpec k, HasSpec v, Ord k, IsNormalType k, IsNormalType v) =&gt;
Term k -&gt; Term (Map k v) -&gt; Term (Maybe v)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Map.html#lookup_"><span class="hs-identifier hs-var">lookup_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Credential 'Staking)
</span><a href="#local-6989586621682707599"><span class="hs-identifier hs-var">cred</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map (Credential 'Staking) (CompactForm Coin)
-&gt; Term (Map (Credential 'Staking) (CompactForm Coin))
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="annot"><span class="annottext">Map (Credential 'Staking) (CompactForm Coin)
</span><a href="#local-6989586621682707589"><span class="hs-identifier hs-var">withdrawalMap</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-336"></span><span>                      </span><span class="hs-comment">-- Nothing</span><span>
</span><span id="line-337"></span><span>                      </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">FunTy (MapList Term (Args ())) Pred -&gt; Weighted (BinderD Deps) ()
forall p a.
(HasSpec a, All HasSpec (Args a), IsPred p, IsProd a) =&gt;
FunTy (MapList Term (Args a)) p -&gt; Weighted (BinderD Deps) a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#branch"><span class="hs-identifier hs-var">branch</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy (MapList Term (Args ())) Pred -&gt; Weighted (BinderD Deps) ())
-&gt; FunTy (MapList Term (Args ())) Pred
-&gt; Weighted (BinderD Deps) ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">TermD Deps ()
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-338"></span><span>                          </span><span class="annot"><span class="annottext">[String] -&gt; Pred -&gt; Pred
forall p. IsPred p =&gt; [String] -&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assertExplain"><span class="hs-identifier hs-var">assertExplain</span></a></span><span>
</span><span id="line-339"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; [String]
forall a. a -&gt; [a]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;some reward balances in the ConwayAccountState are zero&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-340"></span><span>                            </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term (CompactForm Coin) -&gt; Specification (CompactForm Coin) -&gt; Pred
forall a. HasSpec a =&gt; Term a -&gt; Specification a -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Conformance.html#satisfies"><span class="hs-identifier hs-var">satisfies</span></a></span><span>
</span><span id="line-341"></span><span>                                </span><span class="annot"><span class="annottext">Term (CompactForm Coin)
</span><a href="#local-6989586621682707601"><span class="hs-identifier hs-var">bal</span></a></span><span>
</span><span id="line-342"></span><span>                                </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">(Int, Specification (CompactForm Coin))
-&gt; (Int, Specification (CompactForm Coin))
-&gt; Specification (CompactForm Coin)
forall a.
HasSpec a =&gt;
(Int, Specification a) -&gt; (Int, Specification a) -&gt; Specification a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#chooseSpec"><span class="hs-identifier hs-var">chooseSpec</span></a></span><span>
</span><span id="line-343"></span><span>                                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(Term (CompactForm Coin) -&gt; Pred)
-&gt; Specification (CompactForm Coin)
forall a p.
(IsPred p, HasSpec a) =&gt;
(Term a -&gt; p) -&gt; Specification a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#constrained"><span class="hs-identifier hs-var">constrained</span></a></span><span> </span><span class="annot"><span class="annottext">((Term (CompactForm Coin) -&gt; Pred)
 -&gt; Specification (CompactForm Coin))
-&gt; (Term (CompactForm Coin) -&gt; Pred)
-&gt; Specification (CompactForm Coin)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (CompactForm Coin)
</span><span class="">[var| x |]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term Bool -&gt; Pred
forall p. IsPred p =&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term (CompactForm Coin)
</span><a href="#local-6989586621682707615"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term (CompactForm Coin) -&gt; Term (CompactForm Coin) -&gt; Term Bool
forall a. HasSpec a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">CompactForm Coin -&gt; Term (CompactForm Coin)
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="annot"><span class="annottext">CompactForm Coin
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-344"></span><span>                                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CompactForm Coin -&gt; Specification (CompactForm Coin)
forall a. OrdLike a =&gt; a -&gt; Specification a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.NumOrd.html#gtSpec"><span class="hs-identifier hs-var">gtSpec</span></a></span><span> </span><span class="annot"><span class="annottext">CompactForm Coin
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-345"></span><span>                                </span><span class="hs-special">)</span><span>
</span><span id="line-346"></span><span>                            </span><span class="hs-special">)</span><span>
</span><span id="line-347"></span><span>                      </span><span class="hs-special">)</span><span>
</span><span id="line-348"></span><span>                      </span><span class="hs-comment">-- Just</span><span>
</span><span id="line-349"></span><span>                      </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">FunTy (MapList Term (Args (CompactForm Coin))) Pred
-&gt; Weighted (BinderD Deps) (CompactForm Coin)
forall p a.
(HasSpec a, All HasSpec (Args a), IsPred p, IsProd a) =&gt;
FunTy (MapList Term (Args a)) p -&gt; Weighted (BinderD Deps) a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#branch"><span class="hs-identifier hs-var">branch</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy (MapList Term (Args (CompactForm Coin))) Pred
 -&gt; Weighted (BinderD Deps) (CompactForm Coin))
-&gt; FunTy (MapList Term (Args (CompactForm Coin))) Pred
-&gt; Weighted (BinderD Deps) (CompactForm Coin)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (CompactForm Coin)
</span><span class="">[var|withCoin|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Term Bool -&gt; Pred
forall p. IsPred p =&gt; [String] -&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assertExplain"><span class="hs-identifier hs-var">assertExplain</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; [String]
forall a. a -&gt; [a]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Reward balance must match Withdrawal amount&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term (CompactForm Coin)
</span><a href="#local-6989586621682707601"><span class="hs-identifier hs-var">bal</span></a></span><span> </span><span class="annot"><span class="annottext">Term (CompactForm Coin) -&gt; Term (CompactForm Coin) -&gt; Term Bool
forall a. HasSpec a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">Term (CompactForm Coin)
</span><a href="#local-6989586621682707617"><span class="hs-identifier hs-var">withCoin</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-350"></span><span>                      </span><span class="hs-special">)</span><span>
</span><span id="line-351"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term Bool -&gt; Pred -&gt; Pred -&gt; Pred
forall p q. (IsPred p, IsPred q) =&gt; Term Bool -&gt; p -&gt; q -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.TheKnot.html#ifElse"><span class="hs-identifier hs-var">ifElse</span></a></span><span>
</span><span id="line-352"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term (Credential 'Staking)
-&gt; Term (Set (Credential 'Staking)) -&gt; Term Bool
forall a. (Ord a, HasSpec a) =&gt; Term a -&gt; Term (Set a) -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Set.html#member_"><span class="hs-identifier hs-var">member_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Credential 'Staking)
</span><a href="#local-6989586621682707599"><span class="hs-identifier hs-var">cred</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set (Credential 'Staking) -&gt; Term (Set (Credential 'Staking))
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="annot"><span class="annottext">Set (Credential 'Staking)
</span><a href="#local-6989586621682707593"><span class="hs-identifier hs-var">withdrawalKeys</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-353"></span><span>                      </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term (StrictMaybe DRep) -&gt; Specification (StrictMaybe DRep) -&gt; Pred
forall a. HasSpec a =&gt; Term a -&gt; Specification a -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Conformance.html#satisfies"><span class="hs-identifier hs-var">satisfies</span></a></span><span>
</span><span id="line-354"></span><span>                          </span><span class="annot"><span class="annottext">Term (StrictMaybe DRep)
</span><a href="#local-6989586621682707604"><span class="hs-identifier hs-var">mdrep</span></a></span><span>
</span><span id="line-355"></span><span>                          </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">(Term (StrictMaybe DRep) -&gt; Pred)
-&gt; Specification (StrictMaybe DRep)
forall a p.
(IsPred p, HasSpec a) =&gt;
(Term a -&gt; p) -&gt; Specification a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#constrained"><span class="hs-identifier hs-var">constrained</span></a></span><span> </span><span class="annot"><span class="annottext">((Term (StrictMaybe DRep) -&gt; Pred)
 -&gt; Specification (StrictMaybe DRep))
-&gt; (Term (StrictMaybe DRep) -&gt; Pred)
-&gt; Specification (StrictMaybe DRep)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621682707618"><span class="annot"><span class="annottext">Term (StrictMaybe DRep)
</span><a href="#local-6989586621682707618"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-strict-containers-0.1.5.0-d2741b9ef9564f4a1a3151d17a0f69b9663f5795dd47dab0bbd6117738fcce96/share/doc/html/src/Data.Maybe.Strict.html#StrictMaybe"><span class="hs-identifier hs-type">StrictMaybe</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.DRep.html#DRep"><span class="hs-identifier hs-type">DRep</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-356"></span><span>                              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term (StrictMaybe DRep)
-&gt; FunTy
     (MapList
        (Weighted (BinderD Deps)) (Cases (SimpleRep (StrictMaybe DRep))))
     Pred
forall a.
(GenericRequires a, SimpleRep a ~ SumOver (Cases (SimpleRep a)),
 TypeList (Cases (SimpleRep a))) =&gt;
Term a
-&gt; FunTy
     (MapList (Weighted (BinderD Deps)) (Cases (SimpleRep a))) Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#caseOn"><span class="hs-identifier hs-var">caseOn</span></a></span><span> </span><span class="annot"><span class="annottext">Term (StrictMaybe DRep)
</span><a href="#local-6989586621682707618"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-357"></span><span>                                </span><span class="hs-comment">-- SNothing</span><span>
</span><span id="line-358"></span><span>                                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FunTy (MapList Term (Args ())) Bool -&gt; Weighted (BinderD Deps) ()
forall p a.
(HasSpec a, All HasSpec (Args a), IsPred p, IsProd a) =&gt;
FunTy (MapList Term (Args a)) p -&gt; Weighted (BinderD Deps) a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#branch"><span class="hs-identifier hs-var">branch</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy (MapList Term (Args ())) Bool -&gt; Weighted (BinderD Deps) ())
-&gt; FunTy (MapList Term (Args ())) Bool
-&gt; Weighted (BinderD Deps) ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">TermD Deps ()
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span>
</span><span id="line-359"></span><span>                                </span><span class="hs-comment">-- SJust</span><span>
</span><span id="line-360"></span><span>                                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FunTy (MapList Term (Args DRep)) (Term Bool)
-&gt; Weighted (BinderD Deps) DRep
forall p a.
(HasSpec a, All HasSpec (Args a), IsPred p, IsProd a) =&gt;
FunTy (MapList Term (Args a)) p -&gt; Weighted (BinderD Deps) a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#branch"><span class="hs-identifier hs-var">branch</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy (MapList Term (Args DRep)) (Term Bool)
 -&gt; Weighted (BinderD Deps) DRep)
-&gt; FunTy (MapList Term (Args DRep)) (Term Bool)
-&gt; Weighted (BinderD Deps) DRep
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682707619"><span class="annot"><span class="annottext">Term DRep
</span><a href="#local-6989586621682707619"><span class="hs-identifier hs-var">drep</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term DRep -&gt; Term (Set DRep) -&gt; Term Bool
forall a. (Ord a, HasSpec a) =&gt; Term a -&gt; Term (Set a) -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Set.html#member_"><span class="hs-identifier hs-var">member_</span></a></span><span> </span><span class="annot"><span class="annottext">Term DRep
</span><a href="#local-6989586621682707619"><span class="hs-identifier hs-var">drep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set DRep -&gt; Term (Set DRep)
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking)) -&gt; Set DRep
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#dRepsOf"><span class="hs-identifier hs-var">dRepsOf</span></a></span><span> </span><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking))
</span><a href="#local-6989586621682707581"><span class="hs-identifier hs-var">whoDelegates</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-361"></span><span>                          </span><span class="hs-special">)</span><span>
</span><span id="line-362"></span><span>                      </span><span class="hs-special">)</span><span>
</span><span id="line-363"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (c :: Symbol) a p.
(IsConstrOf c (ProdOver (ConstrOf c (TheSop a))) (TheSop a),
 GenericRequires a, SumOver (Cases (SOP (TheSop a))) ~ SimpleRep a,
 All HasSpec (Cases (SOP (TheSop a))),
 HasSpec (ProdOver (ConstrOf c (TheSop a))), IsPred p,
 Args (ProdOver (ConstrOf c (TheSop a))) ~ ConstrOf c (TheSop a),
 All HasSpec (ConstrOf c (TheSop a)),
 IsProd (ProdOver (ConstrOf c (TheSop a)))) =&gt;
Term a -&gt; FunTy (MapList Term (ConstrOf c (TheSop a))) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#onCon"><span class="hs-identifier hs-var">onCon</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-string">&quot;SJust&quot;</span></span><span> </span><span class="annot"><span class="annottext">Term (StrictMaybe DRep)
</span><a href="#local-6989586621682707604"><span class="hs-identifier hs-var">mdrep</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy
   (MapList Term (ConstrOf &quot;SJust&quot; (TheSop (StrictMaybe DRep))))
   (Term Bool)
 -&gt; Pred)
-&gt; FunTy
     (MapList Term (ConstrOf &quot;SJust&quot; (TheSop (StrictMaybe DRep))))
     (Term Bool)
-&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term DRep
</span><span class="">[var|drep|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term DRep -&gt; Term (Set DRep) -&gt; Term Bool
forall a. (Ord a, HasSpec a) =&gt; Term a -&gt; Term (Set a) -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Set.html#member_"><span class="hs-identifier hs-var">member_</span></a></span><span> </span><span class="annot"><span class="annottext">Term DRep
</span><a href="#local-6989586621682707620"><span class="hs-identifier hs-var">drep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set DRep -&gt; Term (Set DRep)
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking)) -&gt; Set DRep
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#dRepsOf"><span class="hs-identifier hs-var">dRepsOf</span></a></span><span> </span><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking))
</span><a href="#local-6989586621682707581"><span class="hs-identifier hs-var">whoDelegates</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-364"></span><span>                  </span><span class="hs-special">]</span><span>
</span><span id="line-365"></span><span>              </span><span class="hs-special">]</span><span>
</span><span id="line-366"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-367"></span><span>
</span><span id="line-368"></span><span id="local-6989586621682705739"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#pStateSpec"><span class="hs-identifier hs-type">pStateSpec</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-369"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#Era"><span class="hs-identifier hs-type">Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705739"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-370"></span><span>  </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.WitnessUniverse.html#WitUniv"><span class="hs-identifier hs-type">WitUniv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705739"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-371"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-slotting-0.2.0.1-cbaa0d455a08b054bafb132b87b34221d87bbbacf98d60661b1ed3cfc20b13c4/share/doc/html/src/Cardano.Slotting.Slot.html#EpochNo"><span class="hs-identifier hs-type">EpochNo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-372"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Specification"><span class="hs-identifier hs-type">Specification</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.CertState.html#PState"><span class="hs-identifier hs-type">PState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705739"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-373"></span><span id="pStateSpec"><span class="annot"><span class="annottext">pStateSpec :: forall era.
Era era =&gt;
WitUniv era -&gt; Term EpochNo -&gt; Specification (PState era)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#pStateSpec"><span class="hs-identifier hs-var hs-var">pStateSpec</span></a></span></span><span> </span><span id="local-6989586621682707872"><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682707872"><span class="hs-identifier hs-var">univ</span></a></span></span><span> </span><span id="local-6989586621682707873"><span class="annot"><span class="annottext">Term EpochNo
</span><a href="#local-6989586621682707873"><span class="hs-identifier hs-var">currepoch</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term (PState era) -&gt; Pred) -&gt; Specification (PState era)
forall a p.
(IsPred p, HasSpec a) =&gt;
(Term a -&gt; p) -&gt; Specification a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#constrained"><span class="hs-identifier hs-var">constrained</span></a></span><span> </span><span class="annot"><span class="annottext">((Term (PState era) -&gt; Pred) -&gt; Specification (PState era))
-&gt; (Term (PState era) -&gt; Pred) -&gt; Specification (PState era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (PState era)
</span><span class="">[var|pState|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-374"></span><span>  </span><span class="annot"><span class="annottext">Term (PState era)
-&gt; FunTy (MapList Term (ProductAsList (PState era))) [Pred] -&gt; Pred
forall p a.
(IsProductType a, IsPred p, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term a -&gt; FunTy (MapList Term (ProductAsList a)) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#match"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">Term (PState era)
</span><a href="#local-6989586621682707874"><span class="hs-identifier hs-var">pState</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy (MapList Term (ProductAsList (PState era))) [Pred] -&gt; Pred)
-&gt; FunTy (MapList Term (ProductAsList (PState era))) [Pred] -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">TermD Deps (Map (VRFVerKeyHash 'StakePoolVRF) (NonZero Word64))
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState)
</span><span class="">[var|stakePoolParams|]</span></span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState)
</span><span class="">[var|futureStakePoolParams|]</span></span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) EpochNo)
</span><span class="">[var|retiring|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-375"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">WitUniv era -&gt; Term (Set (KeyHash 'StakePool)) -&gt; Pred
forall era t. Witnessed era t =&gt; WitUniv era -&gt; Term t -&gt; Pred
</span><a href="Test.Cardano.Ledger.Constrained.Conway.WitnessUniverse.html#witness"><span class="hs-identifier hs-var">witness</span></a></span><span> </span><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682707872"><span class="hs-identifier hs-var">univ</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState)
-&gt; Term (Set (KeyHash 'StakePool))
forall k v.
(HasSpec (Map k v), HasSpec v, HasSpec k, Ord k, IsNormalType k,
 IsNormalType v) =&gt;
Term (Map k v) -&gt; Term (Set k)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Map.html#dom_"><span class="hs-identifier hs-var">dom_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState)
</span><a href="#local-6989586621682707875"><span class="hs-identifier hs-var">stakePoolParams</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-376"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">WitUniv era -&gt; Term [StakePoolState] -&gt; Pred
forall era t. Witnessed era t =&gt; WitUniv era -&gt; Term t -&gt; Pred
</span><a href="Test.Cardano.Ledger.Constrained.Conway.WitnessUniverse.html#witness"><span class="hs-identifier hs-var">witness</span></a></span><span> </span><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682707872"><span class="hs-identifier hs-var">univ</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState)
-&gt; Term [StakePoolState]
forall k v.
(HasSpec k, HasSpec v, Ord k, IsNormalType k, IsNormalType v) =&gt;
Term (Map k v) -&gt; Term [v]
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Map.html#rng_"><span class="hs-identifier hs-var">rng_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState)
</span><a href="#local-6989586621682707875"><span class="hs-identifier hs-var">stakePoolParams</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-377"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">WitUniv era -&gt; Term (Set (KeyHash 'StakePool)) -&gt; Pred
forall era t. Witnessed era t =&gt; WitUniv era -&gt; Term t -&gt; Pred
</span><a href="Test.Cardano.Ledger.Constrained.Conway.WitnessUniverse.html#witness"><span class="hs-identifier hs-var">witness</span></a></span><span> </span><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682707872"><span class="hs-identifier hs-var">univ</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState)
-&gt; Term (Set (KeyHash 'StakePool))
forall k v.
(HasSpec (Map k v), HasSpec v, HasSpec k, Ord k, IsNormalType k,
 IsNormalType v) =&gt;
Term (Map k v) -&gt; Term (Set k)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Map.html#dom_"><span class="hs-identifier hs-var">dom_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState)
</span><a href="#local-6989586621682707876"><span class="hs-identifier hs-var">futureStakePoolParams</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-378"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">WitUniv era -&gt; Term [StakePoolState] -&gt; Pred
forall era t. Witnessed era t =&gt; WitUniv era -&gt; Term t -&gt; Pred
</span><a href="Test.Cardano.Ledger.Constrained.Conway.WitnessUniverse.html#witness"><span class="hs-identifier hs-var">witness</span></a></span><span> </span><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682707872"><span class="hs-identifier hs-var">univ</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState)
-&gt; Term [StakePoolState]
forall k v.
(HasSpec k, HasSpec v, Ord k, IsNormalType k, IsNormalType v) =&gt;
Term (Map k v) -&gt; Term [v]
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Map.html#rng_"><span class="hs-identifier hs-var">rng_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState)
</span><a href="#local-6989586621682707876"><span class="hs-identifier hs-var">futureStakePoolParams</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-379"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">WitUniv era -&gt; Term (Set (KeyHash 'StakePool)) -&gt; Pred
forall era t. Witnessed era t =&gt; WitUniv era -&gt; Term t -&gt; Pred
</span><a href="Test.Cardano.Ledger.Constrained.Conway.WitnessUniverse.html#witness"><span class="hs-identifier hs-var">witness</span></a></span><span> </span><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682707872"><span class="hs-identifier hs-var">univ</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) EpochNo)
-&gt; Term (Set (KeyHash 'StakePool))
forall k v.
(HasSpec (Map k v), HasSpec v, HasSpec k, Ord k, IsNormalType k,
 IsNormalType v) =&gt;
Term (Map k v) -&gt; Term (Set k)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Map.html#dom_"><span class="hs-identifier hs-var">dom_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) EpochNo)
</span><a href="#local-6989586621682707877"><span class="hs-identifier hs-var">retiring</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-380"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Term Bool -&gt; Pred
forall p. IsPred p =&gt; [String] -&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assertExplain"><span class="hs-identifier hs-var">assertExplain</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; [String]
forall a. a -&gt; [a]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;dom of retiring is a subset of dom of stakePoolParams&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-381"></span><span>        </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) EpochNo)
-&gt; Term (Set (KeyHash 'StakePool))
forall k v.
(HasSpec (Map k v), HasSpec v, HasSpec k, Ord k, IsNormalType k,
 IsNormalType v) =&gt;
Term (Map k v) -&gt; Term (Set k)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Map.html#dom_"><span class="hs-identifier hs-var">dom_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) EpochNo)
</span><a href="#local-6989586621682707877"><span class="hs-identifier hs-var">retiring</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Set (KeyHash 'StakePool))
-&gt; Term (Set (KeyHash 'StakePool)) -&gt; Term Bool
forall a.
(Ord a, HasSpec a) =&gt;
Term (Set a) -&gt; Term (Set a) -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Set.html#subset_"><span class="hs-operator hs-var">`subset_`</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState)
-&gt; Term (Set (KeyHash 'StakePool))
forall k v.
(HasSpec (Map k v), HasSpec v, HasSpec k, Ord k, IsNormalType k,
 IsNormalType v) =&gt;
Term (Map k v) -&gt; Term (Set k)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Map.html#dom_"><span class="hs-identifier hs-var">dom_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState)
</span><a href="#local-6989586621682707875"><span class="hs-identifier hs-var">stakePoolParams</span></a></span><span>
</span><span id="line-382"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term [StakePoolState]
-&gt; FunTy (MapList Term (Args (SimpleRep StakePoolState))) Pred
-&gt; Pred
forall t a p.
(Forallable t a, Cases (SimpleRep a) ~ '[SimpleRep a],
 TypeSpec a ~ TypeSpec (SimpleRep a), HasSpec t,
 HasSpec (SimpleRep a), HasSimpleRep a,
 All HasSpec (Args (SimpleRep a)), IsPred p, IsProd (SimpleRep a),
 IsProductType a, HasSpec a, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term t -&gt; FunTy (MapList Term (Args (SimpleRep a))) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#forAll%27"><span class="hs-identifier hs-var">forAll'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState)
-&gt; Term [StakePoolState]
forall k v.
(HasSpec k, HasSpec v, Ord k, IsNormalType k, IsNormalType v) =&gt;
Term (Map k v) -&gt; Term [v]
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Map.html#rng_"><span class="hs-identifier hs-var">rng_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState)
</span><a href="#local-6989586621682707875"><span class="hs-identifier hs-var">stakePoolParams</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(FunTy (MapList Term (Args (SimpleRep StakePoolState))) Pred
 -&gt; Pred)
-&gt; FunTy (MapList Term (Args (SimpleRep StakePoolState))) Pred
-&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">TermD Deps (VRFVerKeyHash 'StakePoolVRF)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">TermD Deps Coin
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">TermD Deps Coin
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">TermD Deps UnitInterval
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Term RewardAccount
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">TermD Deps (Set (KeyHash 'Staking))
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">TermD Deps (StrictSeq StakePoolRelay)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">TermD Deps (StrictMaybe PoolMetadata)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Term (CompactForm Coin)
</span><span class="">[var|d|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-383"></span><span>        </span><span class="annot"><span class="annottext">[String] -&gt; Term Bool -&gt; Pred
forall p. IsPred p =&gt; [String] -&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assertExplain"><span class="hs-identifier hs-var">assertExplain</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; [String]
forall a. a -&gt; [a]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;all deposits are greater then (Coin 0)&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term (CompactForm Coin)
</span><a href="#local-6989586621682707878"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">Term (CompactForm Coin) -&gt; Term (CompactForm Coin) -&gt; Term Bool
forall a. OrdLike a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.NumOrd.html#%3E%3D."><span class="hs-operator hs-var">&gt;=.</span></a></span><span> </span><span class="annot"><span class="annottext">CompactForm Coin -&gt; Term (CompactForm Coin)
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="annot"><span class="annottext">CompactForm Coin
</span><span class="hs-number">0</span></span><span>
</span><span id="line-384"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Term Bool -&gt; Pred
forall p. IsPred p =&gt; [String] -&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assertExplain"><span class="hs-identifier hs-var">assertExplain</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; [String]
forall a. a -&gt; [a]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;dom of stakePoolParams is disjoint from futureStakePoolParams&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-385"></span><span>        </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState)
-&gt; Term (Set (KeyHash 'StakePool))
forall k v.
(HasSpec (Map k v), HasSpec v, HasSpec k, Ord k, IsNormalType k,
 IsNormalType v) =&gt;
Term (Map k v) -&gt; Term (Set k)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Map.html#dom_"><span class="hs-identifier hs-var">dom_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState)
</span><a href="#local-6989586621682707875"><span class="hs-identifier hs-var">stakePoolParams</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Set (KeyHash 'StakePool))
-&gt; Term (Set (KeyHash 'StakePool)) -&gt; Term Bool
forall a.
(Ord a, HasSpec a) =&gt;
Term (Set a) -&gt; Term (Set a) -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Set.html#disjoint_"><span class="hs-operator hs-var">`disjoint_`</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState)
-&gt; Term (Set (KeyHash 'StakePool))
forall k v.
(HasSpec (Map k v), HasSpec v, HasSpec k, Ord k, IsNormalType k,
 IsNormalType v) =&gt;
Term (Map k v) -&gt; Term (Set k)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Map.html#dom_"><span class="hs-identifier hs-var">dom_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState)
</span><a href="#local-6989586621682707876"><span class="hs-identifier hs-var">futureStakePoolParams</span></a></span><span>
</span><span id="line-386"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Pred -&gt; Pred
forall p. IsPred p =&gt; [String] -&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assertExplain"><span class="hs-identifier hs-var">assertExplain</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; [String]
forall a. a -&gt; [a]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;retiring after current epoch&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Pred -&gt; Pred) -&gt; Pred -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-387"></span><span>        </span><span class="annot"><span class="annottext">Term [EpochNo] -&gt; (Term EpochNo -&gt; Term Bool) -&gt; Pred
forall p t a.
(Forallable t a, HasSpec t, HasSpec a, IsPred p) =&gt;
Term t -&gt; (Term a -&gt; p) -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#forAll"><span class="hs-identifier hs-var">forAll</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) EpochNo) -&gt; Term [EpochNo]
forall k v.
(HasSpec k, HasSpec v, Ord k, IsNormalType k, IsNormalType v) =&gt;
Term (Map k v) -&gt; Term [v]
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Map.html#rng_"><span class="hs-identifier hs-var">rng_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) EpochNo)
</span><a href="#local-6989586621682707877"><span class="hs-identifier hs-var">retiring</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term EpochNo
</span><span class="">[var|epoch|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term EpochNo
</span><a href="#local-6989586621682707873"><span class="hs-identifier hs-var">currepoch</span></a></span><span> </span><span class="annot"><span class="annottext">Term EpochNo -&gt; Term EpochNo -&gt; Term Bool
forall a. OrdLike a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.NumOrd.html#%3C%3D."><span class="hs-operator hs-var">&lt;=.</span></a></span><span> </span><span class="annot"><span class="annottext">Term EpochNo
</span><a href="#local-6989586621682707880"><span class="hs-identifier hs-var">epoch</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-388"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term Bool -&gt; Pred
forall p. IsPred p =&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState) -&gt; Term Integer
forall a. (HasSpec a, Sized a) =&gt; Term a -&gt; Term Integer
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.TheKnot.html#sizeOf_"><span class="hs-identifier hs-var">sizeOf_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState)
</span><a href="#local-6989586621682707876"><span class="hs-identifier hs-var">futureStakePoolParams</span></a></span><span> </span><span class="annot"><span class="annottext">Term Integer -&gt; Term Integer -&gt; Term Bool
forall a. OrdLike a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.NumOrd.html#%3C%3D."><span class="hs-operator hs-var">&lt;=.</span></a></span><span> </span><span class="annot"><span class="annottext">Term Integer
</span><span class="hs-number">4</span></span><span>
</span><span id="line-389"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term Bool -&gt; Pred
forall p. IsPred p =&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term Integer
</span><span class="hs-number">3</span></span><span> </span><span class="annot"><span class="annottext">Term Integer -&gt; Term Integer -&gt; Term Bool
forall a. OrdLike a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.NumOrd.html#%3C%3D."><span class="hs-operator hs-var">&lt;=.</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState) -&gt; Term Integer
forall a. (HasSpec a, Sized a) =&gt; Term a -&gt; Term Integer
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.TheKnot.html#sizeOf_"><span class="hs-identifier hs-var">sizeOf_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState)
</span><a href="#local-6989586621682707875"><span class="hs-identifier hs-var">stakePoolParams</span></a></span><span>
</span><span id="line-390"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term Bool -&gt; Pred
forall p. IsPred p =&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState) -&gt; Term Integer
forall a. (HasSpec a, Sized a) =&gt; Term a -&gt; Term Integer
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.TheKnot.html#sizeOf_"><span class="hs-identifier hs-var">sizeOf_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState)
</span><a href="#local-6989586621682707875"><span class="hs-identifier hs-var">stakePoolParams</span></a></span><span> </span><span class="annot"><span class="annottext">Term Integer -&gt; Term Integer -&gt; Term Bool
forall a. OrdLike a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.NumOrd.html#%3C%3D."><span class="hs-operator hs-var">&lt;=.</span></a></span><span> </span><span class="annot"><span class="annottext">Term Integer
</span><span class="hs-number">8</span></span><span>
</span><span id="line-391"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-392"></span><span>
</span><span id="line-393"></span><span class="hs-comment">-- ===================== Put PState, DState, and VState together to form a CertState =================</span><span>
</span><span id="line-394"></span><span>
</span><span id="line-395"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#conwayCertStateSpec"><span class="hs-identifier hs-type">conwayCertStateSpec</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-396"></span><span>  </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.WitnessUniverse.html#WitUniv"><span class="hs-identifier hs-type">WitUniv</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#ConwayEra"><span class="hs-identifier hs-type">ConwayEra</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-397"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#DRepRole"><span class="hs-identifier hs-type">DRepRole</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#Staking"><span class="hs-identifier hs-type">Staking</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Address.html#RewardAccount"><span class="hs-identifier hs-type">RewardAccount</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-398"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-slotting-0.2.0.1-cbaa0d455a08b054bafb132b87b34221d87bbbacf98d60661b1ed3cfc20b13c4/share/doc/html/src/Cardano.Slotting.Slot.html#EpochNo"><span class="hs-identifier hs-type">EpochNo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-399"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Specification"><span class="hs-identifier hs-type">Specification</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-conway-1.21.0.0/doc/html/cardano-ledger-conway/src/Cardano.Ledger.Conway.State.CertState.html#ConwayCertState"><span class="hs-identifier hs-type">ConwayCertState</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#ConwayEra"><span class="hs-identifier hs-type">ConwayEra</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-400"></span><span id="conwayCertStateSpec"><span class="annot"><span class="annottext">conwayCertStateSpec :: WitUniv ConwayEra
-&gt; CertContext
-&gt; Term EpochNo
-&gt; Specification (ConwayCertState ConwayEra)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#conwayCertStateSpec"><span class="hs-identifier hs-var hs-var">conwayCertStateSpec</span></a></span></span><span> </span><span id="local-6989586621682707882"><span class="annot"><span class="annottext">WitUniv ConwayEra
</span><a href="#local-6989586621682707882"><span class="hs-identifier hs-var">univ</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682707883"><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking))
</span><a href="#local-6989586621682707883"><span class="hs-identifier hs-var">whodelegates</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682707884"><span class="annot"><span class="annottext">Map RewardAccount Coin
</span><a href="#local-6989586621682707884"><span class="hs-identifier hs-var">wdrl</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682707885"><span class="annot"><span class="annottext">Term EpochNo
</span><a href="#local-6989586621682707885"><span class="hs-identifier hs-var">epoch</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TermD Deps (ConwayCertState ConwayEra) -&gt; Pred)
-&gt; Specification (ConwayCertState ConwayEra)
forall a p.
(IsPred p, HasSpec a) =&gt;
(Term a -&gt; p) -&gt; Specification a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#constrained"><span class="hs-identifier hs-var">constrained</span></a></span><span> </span><span class="annot"><span class="annottext">((TermD Deps (ConwayCertState ConwayEra) -&gt; Pred)
 -&gt; Specification (ConwayCertState ConwayEra))
-&gt; (TermD Deps (ConwayCertState ConwayEra) -&gt; Pred)
-&gt; Specification (ConwayCertState ConwayEra)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">TermD Deps (ConwayCertState ConwayEra)
</span><span class="">[var|convCertState|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-401"></span><span>  </span><span class="annot"><span class="annottext">TermD Deps (ConwayCertState ConwayEra)
-&gt; FunTy
     (MapList Term (ProductAsList (ConwayCertState ConwayEra))) [Pred]
-&gt; Pred
forall p a.
(IsProductType a, IsPred p, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term a -&gt; FunTy (MapList Term (ProductAsList a)) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#match"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">TermD Deps (ConwayCertState ConwayEra)
</span><a href="#local-6989586621682707886"><span class="hs-identifier hs-var">convCertState</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy
   (MapList Term (ProductAsList (ConwayCertState ConwayEra))) [Pred]
 -&gt; Pred)
-&gt; FunTy
     (MapList Term (ProductAsList (ConwayCertState ConwayEra))) [Pred]
-&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (VState ConwayEra)
</span><span class="">[var|vState|]</span></span><span> </span><span class="annot"><span class="annottext">Term (PState ConwayEra)
</span><span class="">[var|pState|]</span></span><span> </span><span class="annot"><span class="annottext">Term (DState ConwayEra)
</span><span class="">[var|dState|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-402"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Term (PState ConwayEra) -&gt; Specification (PState ConwayEra) -&gt; Pred
forall a. HasSpec a =&gt; Term a -&gt; Specification a -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Conformance.html#satisfies"><span class="hs-identifier hs-var">satisfies</span></a></span><span> </span><span class="annot"><span class="annottext">Term (PState ConwayEra)
</span><a href="#local-6989586621682707888"><span class="hs-identifier hs-var">pState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WitUniv ConwayEra
-&gt; Term EpochNo -&gt; Specification (PState ConwayEra)
forall era.
Era era =&gt;
WitUniv era -&gt; Term EpochNo -&gt; Specification (PState era)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#pStateSpec"><span class="hs-identifier hs-var">pStateSpec</span></a></span><span> </span><span class="annot"><span class="annottext">WitUniv ConwayEra
</span><a href="#local-6989586621682707882"><span class="hs-identifier hs-var">univ</span></a></span><span> </span><span class="annot"><span class="annottext">Term EpochNo
</span><a href="#local-6989586621682707885"><span class="hs-identifier hs-var">epoch</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-403"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term (PState ConwayEra)
-&gt; (PState ConwayEra -&gt; Map (KeyHash 'StakePool) StakePoolState)
-&gt; (Term (Map (KeyHash 'StakePool) StakePoolState) -&gt; [Pred])
-&gt; Pred
forall a b p.
(HasSpec a, HasSpec b, IsPred p) =&gt;
Term a -&gt; (a -&gt; b) -&gt; (Term b -&gt; p) -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#reify"><span class="hs-identifier hs-var">reify</span></a></span><span> </span><span class="annot"><span class="annottext">Term (PState ConwayEra)
</span><a href="#local-6989586621682707888"><span class="hs-identifier hs-var">pState</span></a></span><span> </span><span class="annot"><span class="annottext">PState ConwayEra -&gt; Map (KeyHash 'StakePool) StakePoolState
forall era. PState era -&gt; Map (KeyHash 'StakePool) StakePoolState
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.CertState.html#psStakePools"><span class="hs-identifier hs-var">psStakePools</span></a></span><span> </span><span class="annot"><span class="annottext">((Term (Map (KeyHash 'StakePool) StakePoolState) -&gt; [Pred])
 -&gt; Pred)
-&gt; (Term (Map (KeyHash 'StakePool) StakePoolState) -&gt; [Pred])
-&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState)
</span><span class="">[var|poolreg|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-404"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Term (DState ConwayEra)
-&gt; Term (Map (KeyHash 'StakePool) StakePoolState) -&gt; Pred
forall a b. (HasSpec a, HasSpec b) =&gt; Term a -&gt; Term b -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#dependsOn"><span class="hs-identifier hs-var">dependsOn</span></a></span><span> </span><span class="annot"><span class="annottext">Term (DState ConwayEra)
</span><a href="#local-6989586621682707889"><span class="hs-identifier hs-var">dState</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState)
</span><a href="#local-6989586621682707891"><span class="hs-identifier hs-var">poolreg</span></a></span><span>
</span><span id="line-405"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term (DState ConwayEra) -&gt; Specification (DState ConwayEra) -&gt; Pred
forall a. HasSpec a =&gt; Term a -&gt; Specification a -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Conformance.html#satisfies"><span class="hs-identifier hs-var">satisfies</span></a></span><span> </span><span class="annot"><span class="annottext">Term (DState ConwayEra)
</span><a href="#local-6989586621682707889"><span class="hs-identifier hs-var">dState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WitUniv ConwayEra
-&gt; CertContext
-&gt; Term (Map (KeyHash 'StakePool) StakePoolState)
-&gt; Specification (DState ConwayEra)
forall era.
(era ~ ConwayEra) =&gt;
WitUniv era
-&gt; CertContext
-&gt; Term (Map (KeyHash 'StakePool) StakePoolState)
-&gt; Specification (DState era)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#conwayDStateSpec"><span class="hs-identifier hs-var">conwayDStateSpec</span></a></span><span> </span><span class="annot"><span class="annottext">WitUniv ConwayEra
</span><a href="#local-6989586621682707882"><span class="hs-identifier hs-var">univ</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking))
</span><a href="#local-6989586621682707883"><span class="hs-identifier hs-var">whodelegates</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Map RewardAccount Coin
</span><a href="#local-6989586621682707884"><span class="hs-identifier hs-var">wdrl</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) StakePoolState)
</span><a href="#local-6989586621682707891"><span class="hs-identifier hs-var">poolreg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-406"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-407"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term (VState ConwayEra) -&gt; Specification (VState ConwayEra) -&gt; Pred
forall a. HasSpec a =&gt; Term a -&gt; Specification a -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Conformance.html#satisfies"><span class="hs-identifier hs-var">satisfies</span></a></span><span> </span><span class="annot"><span class="annottext">Term (VState ConwayEra)
</span><a href="#local-6989586621682707887"><span class="hs-identifier hs-var">vState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WitUniv ConwayEra
-&gt; Term EpochNo
-&gt; Map (Credential 'DRepRole) (Set (Credential 'Staking))
-&gt; Specification (VState ConwayEra)
forall era.
Era era =&gt;
WitUniv era
-&gt; Term EpochNo
-&gt; Map (Credential 'DRepRole) (Set (Credential 'Staking))
-&gt; Specification (VState era)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#vStateSpec"><span class="hs-identifier hs-var">vStateSpec</span></a></span><span> </span><span class="annot"><span class="annottext">WitUniv ConwayEra
</span><a href="#local-6989586621682707882"><span class="hs-identifier hs-var">univ</span></a></span><span> </span><span class="annot"><span class="annottext">Term EpochNo
</span><a href="#local-6989586621682707885"><span class="hs-identifier hs-var">epoch</span></a></span><span> </span><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (Set (Credential 'Staking))
</span><a href="#local-6989586621682707883"><span class="hs-identifier hs-var">whodelegates</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-408"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-409"></span><span>
</span><span id="line-410"></span><span class="hs-comment">-- ==============================================================</span><span>
</span><span id="line-411"></span><span class="hs-comment">-- Specs for UTxO and UTxOState</span><span>
</span><span id="line-412"></span><span class="hs-comment">-- ==============================================================</span><span>
</span><span id="line-413"></span><span>
</span><span id="line-414"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#utxoSpecWit"><span class="hs-identifier hs-type">utxoSpecWit</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-415"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682705758"><span class="annot"><a href="#local-6989586621682705758"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-416"></span><span>  </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.ParametricSpec.html#EraSpecTxOut"><span class="hs-identifier hs-type">EraSpecTxOut</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705758"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-417"></span><span>  </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.WitnessUniverse.html#WitUniv"><span class="hs-identifier hs-type">WitUniv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705758"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-418"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#Staking"><span class="hs-identifier hs-type">Staking</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Hashes.html#KeyHash"><span class="hs-identifier hs-type">KeyHash</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#StakePool"><span class="hs-identifier hs-type">StakePool</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-419"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Specification"><span class="hs-identifier hs-type">Specification</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.UTxO.html#UTxO"><span class="hs-identifier hs-type">UTxO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705758"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-420"></span><span id="utxoSpecWit"><span class="annot"><span class="annottext">utxoSpecWit :: forall era.
EraSpecTxOut era =&gt;
WitUniv era
-&gt; Term (Map (Credential 'Staking) (KeyHash 'StakePool))
-&gt; Specification (UTxO era)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#utxoSpecWit"><span class="hs-identifier hs-var hs-var">utxoSpecWit</span></a></span></span><span> </span><span id="local-6989586621682707959"><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682707959"><span class="hs-identifier hs-var">univ</span></a></span></span><span> </span><span id="local-6989586621682707960"><span class="annot"><span class="annottext">Term (Map (Credential 'Staking) (KeyHash 'StakePool))
</span><a href="#local-6989586621682707960"><span class="hs-identifier hs-var">delegs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term (UTxO era) -&gt; Pred) -&gt; Specification (UTxO era)
forall a p.
(IsPred p, HasSpec a) =&gt;
(Term a -&gt; p) -&gt; Specification a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#constrained"><span class="hs-identifier hs-var">constrained</span></a></span><span> </span><span class="annot"><span class="annottext">((Term (UTxO era) -&gt; Pred) -&gt; Specification (UTxO era))
-&gt; (Term (UTxO era) -&gt; Pred) -&gt; Specification (UTxO era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (UTxO era)
</span><span class="">[var|utxo|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-421"></span><span>  </span><span class="annot"><span class="annottext">Term (UTxO era)
-&gt; FunTy (MapList Term (ProductAsList (UTxO era))) [Pred] -&gt; Pred
forall p a.
(IsProductType a, IsPred p, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term a -&gt; FunTy (MapList Term (ProductAsList a)) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#match"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">Term (UTxO era)
</span><a href="#local-6989586621682707961"><span class="hs-identifier hs-var">utxo</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy (MapList Term (ProductAsList (UTxO era))) [Pred] -&gt; Pred)
-&gt; FunTy (MapList Term (ProductAsList (UTxO era))) [Pred] -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (Map TxIn (TxOut era))
</span><span class="">[var|utxomap|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-422"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Term [TxOut era] -&gt; (Term (TxOut era) -&gt; Pred) -&gt; Pred
forall p t a.
(Forallable t a, HasSpec t, HasSpec a, IsPred p) =&gt;
Term t -&gt; (Term a -&gt; p) -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#forAll"><span class="hs-identifier hs-var">forAll</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term (Map TxIn (TxOut era)) -&gt; Term [TxOut era]
forall k v.
(HasSpec k, HasSpec v, Ord k, IsNormalType k, IsNormalType v) =&gt;
Term (Map k v) -&gt; Term [v]
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.Map.html#rng_"><span class="hs-identifier hs-var">rng_</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map TxIn (TxOut era))
</span><a href="#local-6989586621682707962"><span class="hs-identifier hs-var">utxomap</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (TxOut era)
</span><span class="">[var|out|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WitUniv era
-&gt; Term (Map (Credential 'Staking) (KeyHash 'StakePool))
-&gt; Term (TxOut era)
-&gt; Pred
forall era.
EraSpecTxOut era =&gt;
WitUniv era
-&gt; Term (Map (Credential 'Staking) (KeyHash 'StakePool))
-&gt; Term (TxOut era)
-&gt; Pred
</span><a href="Test.Cardano.Ledger.Constrained.Conway.ParametricSpec.html#txOutSpec"><span class="hs-identifier hs-var">txOutSpec</span></a></span><span> </span><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682707959"><span class="hs-identifier hs-var">univ</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'Staking) (KeyHash 'StakePool))
</span><a href="#local-6989586621682707960"><span class="hs-identifier hs-var">delegs</span></a></span><span> </span><span class="annot"><span class="annottext">Term (TxOut era)
</span><a href="#local-6989586621682707963"><span class="hs-identifier hs-var">out</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-423"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-424"></span><span>
</span><span id="line-425"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#utxoStateSpec"><span class="hs-identifier hs-type">utxoStateSpec</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-426"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682705771"><span class="annot"><a href="#local-6989586621682705771"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-427"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#HasSpec"><span class="hs-identifier hs-type">HasSpec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Stake.html#InstantStake"><span class="hs-identifier hs-type">InstantStake</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705771"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682705771"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#ConwayEra"><span class="hs-identifier hs-type">ConwayEra</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-428"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.PParams.html#PParams"><span class="hs-identifier hs-type">PParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705771"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-429"></span><span>  </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.WitnessUniverse.html#WitUniv"><span class="hs-identifier hs-type">WitUniv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705771"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-430"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.CertState.html#CertState"><span class="hs-identifier hs-type">CertState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705771"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-431"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Specification"><span class="hs-identifier hs-type">Specification</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#UTxOState"><span class="hs-identifier hs-type">UTxOState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705771"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-432"></span><span id="utxoStateSpec"><span class="annot"><span class="annottext">utxoStateSpec :: forall era.
(HasSpec (InstantStake era), era ~ ConwayEra) =&gt;
PParams era
-&gt; WitUniv era
-&gt; Term (CertState era)
-&gt; Specification (UTxOState era)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#utxoStateSpec"><span class="hs-identifier hs-var hs-var">utxoStateSpec</span></a></span></span><span> </span><span id="local-6989586621682708082"><span class="annot"><span class="annottext">PParams era
</span><a href="#local-6989586621682708082"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span id="local-6989586621682708083"><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682708083"><span class="hs-identifier hs-var">univ</span></a></span></span><span> </span><span id="local-6989586621682708084"><span class="annot"><span class="annottext">Term (CertState era)
</span><a href="#local-6989586621682708084"><span class="hs-identifier hs-var">certstate</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-433"></span><span>  </span><span class="annot"><span class="annottext">(Term (UTxOState era) -&gt; Pred) -&gt; Specification (UTxOState era)
forall a p.
(IsPred p, HasSpec a) =&gt;
(Term a -&gt; p) -&gt; Specification a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#constrained"><span class="hs-identifier hs-var">constrained</span></a></span><span> </span><span class="annot"><span class="annottext">((Term (UTxOState era) -&gt; Pred) -&gt; Specification (UTxOState era))
-&gt; (Term (UTxOState era) -&gt; Pred) -&gt; Specification (UTxOState era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (UTxOState era)
</span><span class="">[var|utxoState|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-434"></span><span>    </span><span class="annot"><span class="annottext">Term (UTxOState era)
-&gt; FunTy (MapList Term (ProductAsList (UTxOState era))) [Pred]
-&gt; Pred
forall p a.
(IsProductType a, IsPred p, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term a -&gt; FunTy (MapList Term (ProductAsList a)) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#match"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">Term (UTxOState era)
</span><a href="#local-6989586621682708085"><span class="hs-identifier hs-var">utxoState</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy (MapList Term (ProductAsList (UTxOState era))) [Pred]
 -&gt; Pred)
-&gt; FunTy (MapList Term (ProductAsList (UTxOState era))) [Pred]
-&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (UTxO era)
</span><span class="">[var|utxo|]</span></span><span> </span><span class="annot"><span class="annottext">TermD Deps Coin
</span><span class="">[var|deposits|]</span></span><span> </span><span class="annot"><span class="annottext">TermD Deps Coin
</span><span class="">[var|fees|]</span></span><span> </span><span class="annot"><span class="annottext">Term (ConwayGovState ConwayEra)
</span><span class="">[var|gov|]</span></span><span> </span><span class="annot"><span class="annottext">Term (ConwayInstantStake ConwayEra)
</span><span class="">[var|distr|]</span></span><span> </span><span class="annot"><span class="annottext">TermD Deps Coin
</span><span class="">[var|donation|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-435"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Term Bool -&gt; Pred
forall p. IsPred p =&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TermD Deps Coin
</span><a href="#local-6989586621682708091"><span class="hs-identifier hs-var">donation</span></a></span><span> </span><span class="annot"><span class="annottext">TermD Deps Coin -&gt; TermD Deps Coin -&gt; Term Bool
forall a. HasSpec a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">Coin -&gt; TermD Deps Coin
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Coin
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-var">Coin</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-436"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TermD Deps (ConwayCertState ConwayEra)
-&gt; (ConwayCertState ConwayEra -&gt; Coin)
-&gt; (TermD Deps Coin -&gt; Pred)
-&gt; Pred
forall a b p.
(HasSpec a, HasSpec b, IsPred p) =&gt;
Term a -&gt; (a -&gt; b) -&gt; (Term b -&gt; p) -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#reify"><span class="hs-identifier hs-var">reify</span></a></span><span>
</span><span id="line-437"></span><span>          </span><span class="annot"><span class="annottext">Term (CertState era)
TermD Deps (ConwayCertState ConwayEra)
</span><a href="#local-6989586621682708084"><span class="hs-identifier hs-var">certstate</span></a></span><span>
</span><span id="line-438"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Obligations -&gt; Coin
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.CertState.html#sumObligation"><span class="hs-identifier hs-var">sumObligation</span></a></span><span> </span><span class="annot"><span class="annottext">(Obligations -&gt; Coin)
-&gt; (ConwayCertState ConwayEra -&gt; Obligations)
-&gt; ConwayCertState ConwayEra
-&gt; Coin
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">CertState ConwayEra -&gt; Obligations
ConwayCertState ConwayEra -&gt; Obligations
forall era. EraCertState era =&gt; CertState era -&gt; Obligations
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.CertState.html#obligationCertState"><span class="hs-identifier hs-var">obligationCertState</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-439"></span><span>          </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">TermD Deps Coin
</span><span class="">[var|depositsum|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term Bool -&gt; Pred
forall p. IsPred p =&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TermD Deps Coin
</span><a href="#local-6989586621682708087"><span class="hs-identifier hs-var">deposits</span></a></span><span> </span><span class="annot"><span class="annottext">TermD Deps Coin -&gt; TermD Deps Coin -&gt; Term Bool
forall a. HasSpec a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">TermD Deps Coin
</span><a href="#local-6989586621682708095"><span class="hs-identifier hs-var">depositsum</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-440"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term Bool -&gt; Pred
forall p. IsPred p =&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Coin -&gt; TermD Deps Coin
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Coin
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-var">Coin</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TermD Deps Coin -&gt; TermD Deps Coin -&gt; Term Bool
forall a. OrdLike a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.NumOrd.html#%3C%3D."><span class="hs-operator hs-var">&lt;=.</span></a></span><span> </span><span class="annot"><span class="annottext">TermD Deps Coin
</span><a href="#local-6989586621682708088"><span class="hs-identifier hs-var">fees</span></a></span><span>
</span><span id="line-441"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TermD Deps (ConwayCertState ConwayEra)
-&gt; (ConwayCertState ConwayEra
    -&gt; Map (Credential 'Staking) (KeyHash 'StakePool))
-&gt; (Term (Map (Credential 'Staking) (KeyHash 'StakePool)) -&gt; Pred)
-&gt; Pred
forall a b p.
(HasSpec a, HasSpec b, IsPred p) =&gt;
Term a -&gt; (a -&gt; b) -&gt; (Term b -&gt; p) -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#reify"><span class="hs-identifier hs-var">reify</span></a></span><span> </span><span class="annot"><span class="annottext">Term (CertState era)
TermD Deps (ConwayCertState ConwayEra)
</span><a href="#local-6989586621682708084"><span class="hs-identifier hs-var">certstate</span></a></span><span> </span><span class="annot"><span class="annottext">CertState ConwayEra
-&gt; Map (Credential 'Staking) (KeyHash 'StakePool)
ConwayCertState ConwayEra
-&gt; Map (Credential 'Staking) (KeyHash 'StakePool)
forall era.
EraCertState era =&gt;
CertState era -&gt; Map (Credential 'Staking) (KeyHash 'StakePool)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#getDelegs"><span class="hs-identifier hs-var">getDelegs</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'Staking) (KeyHash 'StakePool))
</span><span class="">[var|delegs|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term (UTxO era) -&gt; Specification (UTxO era) -&gt; Pred
forall a. HasSpec a =&gt; Term a -&gt; Specification a -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Conformance.html#satisfies"><span class="hs-identifier hs-var">satisfies</span></a></span><span> </span><span class="annot"><span class="annottext">Term (UTxO era)
</span><a href="#local-6989586621682708086"><span class="hs-identifier hs-var">utxo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WitUniv era
-&gt; Term (Map (Credential 'Staking) (KeyHash 'StakePool))
-&gt; Specification (UTxO era)
forall era.
EraSpecTxOut era =&gt;
WitUniv era
-&gt; Term (Map (Credential 'Staking) (KeyHash 'StakePool))
-&gt; Specification (UTxO era)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#utxoSpecWit"><span class="hs-identifier hs-var">utxoSpecWit</span></a></span><span> </span><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682708083"><span class="hs-identifier hs-var">univ</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Map (Credential 'Staking) (KeyHash 'StakePool))
</span><a href="#local-6989586621682708097"><span class="hs-identifier hs-var">delegs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-442"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term (ConwayGovState ConwayEra)
-&gt; Specification (ConwayGovState ConwayEra) -&gt; Pred
forall a. HasSpec a =&gt; Term a -&gt; Specification a -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Conformance.html#satisfies"><span class="hs-identifier hs-var">satisfies</span></a></span><span> </span><span class="annot"><span class="annottext">Term (ConwayGovState ConwayEra)
</span><a href="#local-6989586621682708089"><span class="hs-identifier hs-var">gov</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; GovEnv ConwayEra -&gt; Specification (ConwayGovState ConwayEra)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#conwayGovStateSpec"><span class="hs-identifier hs-var">conwayGovStateSpec</span></a></span><span> </span><span class="annot"><span class="annottext">PParams era
PParams ConwayEra
</span><a href="#local-6989586621682708082"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PParams ConwayEra -&gt; GovEnv ConwayEra
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#testGovEnv"><span class="hs-identifier hs-var">testGovEnv</span></a></span><span> </span><span class="annot"><span class="annottext">PParams era
PParams ConwayEra
</span><a href="#local-6989586621682708082"><span class="hs-identifier hs-var">pp</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-443"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term (UTxO era)
-&gt; (UTxO era -&gt; ConwayInstantStake ConwayEra)
-&gt; (Term (ConwayInstantStake ConwayEra) -&gt; Term Bool)
-&gt; Pred
forall a b p.
(HasSpec a, HasSpec b, IsPred p) =&gt;
Term a -&gt; (a -&gt; b) -&gt; (Term b -&gt; p) -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#reify"><span class="hs-identifier hs-var">reify</span></a></span><span> </span><span class="annot"><span class="annottext">Term (UTxO era)
</span><a href="#local-6989586621682708086"><span class="hs-identifier hs-var">utxo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UTxO era -&gt; InstantStake era -&gt; InstantStake era
forall era.
EraStake era =&gt;
UTxO era -&gt; InstantStake era -&gt; InstantStake era
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Stake.html#addInstantStake"><span class="hs-operator hs-var">`addInstantStake`</span></a></span><span> </span><span class="annot"><span class="annottext">InstantStake era
ConwayInstantStake ConwayEra
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (ConwayInstantStake ConwayEra)
</span><span class="">[var|i|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term (ConwayInstantStake ConwayEra)
</span><a href="#local-6989586621682708090"><span class="hs-identifier hs-var">distr</span></a></span><span> </span><span class="annot"><span class="annottext">Term (ConwayInstantStake ConwayEra)
-&gt; Term (ConwayInstantStake ConwayEra) -&gt; Term Bool
forall a. HasSpec a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">Term (ConwayInstantStake ConwayEra)
</span><a href="#local-6989586621682708100"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-444"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-445"></span><span>
</span><span id="line-446"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#getDelegs"><span class="hs-identifier hs-type">getDelegs</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-447"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682705799"><span class="annot"><a href="#local-6989586621682705799"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-448"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.CertState.html#EraCertState"><span class="hs-identifier hs-type">EraCertState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705799"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-449"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.CertState.html#CertState"><span class="hs-identifier hs-type">CertState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705799"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-450"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#Staking"><span class="hs-identifier hs-type">Staking</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Hashes.html#KeyHash"><span class="hs-identifier hs-type">KeyHash</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#StakePool"><span class="hs-identifier hs-type">StakePool</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-451"></span><span id="getDelegs"><span class="annot"><span class="annottext">getDelegs :: forall era.
EraCertState era =&gt;
CertState era -&gt; Map (Credential 'Staking) (KeyHash 'StakePool)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#getDelegs"><span class="hs-identifier hs-var hs-var">getDelegs</span></a></span></span><span> </span><span id="local-6989586621682708114"><span class="annot"><span class="annottext">CertState era
</span><a href="#local-6989586621682708114"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-452"></span><span>  </span><span class="annot"><span class="annottext">(AccountState era -&gt; Maybe (KeyHash 'StakePool))
-&gt; Map (Credential 'Staking) (AccountState era)
-&gt; Map (Credential 'Staking) (KeyHash 'StakePool)
forall a b k. (a -&gt; Maybe b) -&gt; Map k a -&gt; Map k b
</span><span class="hs-identifier hs-var">Map.mapMaybe</span></span><span>
</span><span id="line-453"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AccountState era
-&gt; Getting
     (Maybe (KeyHash 'StakePool))
     (AccountState era)
     (Maybe (KeyHash 'StakePool))
-&gt; Maybe (KeyHash 'StakePool)
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting
  (Maybe (KeyHash 'StakePool))
  (AccountState era)
  (Maybe (KeyHash 'StakePool))
forall era.
EraAccounts era =&gt;
Lens' (AccountState era) (Maybe (KeyHash 'StakePool))
Lens' (AccountState era) (Maybe (KeyHash 'StakePool))
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Account.html#stakePoolDelegationAccountStateL"><span class="hs-identifier hs-var">stakePoolDelegationAccountStateL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-454"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CertState era
</span><a href="#local-6989586621682708114"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="annot"><span class="annottext">CertState era
-&gt; Getting
     (Map (Credential 'Staking) (AccountState era))
     (CertState era)
     (Map (Credential 'Staking) (AccountState era))
-&gt; Map (Credential 'Staking) (AccountState era)
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">(DState era
 -&gt; Const
      (Map (Credential 'Staking) (AccountState era)) (DState era))
-&gt; CertState era
-&gt; Const
     (Map (Credential 'Staking) (AccountState era)) (CertState era)
forall era. EraCertState era =&gt; Lens' (CertState era) (DState era)
Lens' (CertState era) (DState era)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.CertState.html#certDStateL"><span class="hs-identifier hs-var">certDStateL</span></a></span><span> </span><span class="annot"><span class="annottext">((DState era
  -&gt; Const
       (Map (Credential 'Staking) (AccountState era)) (DState era))
 -&gt; CertState era
 -&gt; Const
      (Map (Credential 'Staking) (AccountState era)) (CertState era))
-&gt; ((Map (Credential 'Staking) (AccountState era)
     -&gt; Const
          (Map (Credential 'Staking) (AccountState era))
          (Map (Credential 'Staking) (AccountState era)))
    -&gt; DState era
    -&gt; Const
         (Map (Credential 'Staking) (AccountState era)) (DState era))
-&gt; Getting
     (Map (Credential 'Staking) (AccountState era))
     (CertState era)
     (Map (Credential 'Staking) (AccountState era))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Accounts era
 -&gt; Const
      (Map (Credential 'Staking) (AccountState era)) (Accounts era))
-&gt; DState era
-&gt; Const
     (Map (Credential 'Staking) (AccountState era)) (DState era)
forall era. Lens' (DState era) (Accounts era)
forall (t :: * -&gt; *) era.
CanSetAccounts t =&gt;
Lens' (t era) (Accounts era)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Account.html#accountsL"><span class="hs-identifier hs-var">accountsL</span></a></span><span> </span><span class="annot"><span class="annottext">((Accounts era
  -&gt; Const
       (Map (Credential 'Staking) (AccountState era)) (Accounts era))
 -&gt; DState era
 -&gt; Const
      (Map (Credential 'Staking) (AccountState era)) (DState era))
-&gt; ((Map (Credential 'Staking) (AccountState era)
     -&gt; Const
          (Map (Credential 'Staking) (AccountState era))
          (Map (Credential 'Staking) (AccountState era)))
    -&gt; Accounts era
    -&gt; Const
         (Map (Credential 'Staking) (AccountState era)) (Accounts era))
-&gt; (Map (Credential 'Staking) (AccountState era)
    -&gt; Const
         (Map (Credential 'Staking) (AccountState era))
         (Map (Credential 'Staking) (AccountState era)))
-&gt; DState era
-&gt; Const
     (Map (Credential 'Staking) (AccountState era)) (DState era)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Map (Credential 'Staking) (AccountState era)
 -&gt; Const
      (Map (Credential 'Staking) (AccountState era))
      (Map (Credential 'Staking) (AccountState era)))
-&gt; Accounts era
-&gt; Const
     (Map (Credential 'Staking) (AccountState era)) (Accounts era)
forall era.
EraAccounts era =&gt;
Lens' (Accounts era) (Map (Credential 'Staking) (AccountState era))
Lens' (Accounts era) (Map (Credential 'Staking) (AccountState era))
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Account.html#accountsMapL"><span class="hs-identifier hs-var">accountsMapL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-455"></span><span>
</span><span id="line-456"></span><span class="hs-comment">-- ====================================================================</span><span>
</span><span id="line-457"></span><span class="hs-comment">-- Specs for GovState</span><span>
</span><span id="line-458"></span><span class="hs-comment">-- ====================================================================</span><span>
</span><span id="line-459"></span><span>
</span><span id="line-460"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#conwayGovStateSpec"><span class="hs-identifier hs-type">conwayGovStateSpec</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-461"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.PParams.html#PParams"><span class="hs-identifier hs-type">PParams</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#ConwayEra"><span class="hs-identifier hs-type">ConwayEra</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-462"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-conway-1.21.0.0/doc/html/cardano-ledger-conway/src/Cardano.Ledger.Conway.Rules.Gov.html#GovEnv"><span class="hs-identifier hs-type">GovEnv</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#ConwayEra"><span class="hs-identifier hs-type">ConwayEra</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-463"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Specification"><span class="hs-identifier hs-type">Specification</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-conway-1.21.0.0/doc/html/cardano-ledger-conway/src/Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#ConwayEra"><span class="hs-identifier hs-type">ConwayEra</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-464"></span><span id="conwayGovStateSpec"><span class="annot"><span class="annottext">conwayGovStateSpec :: PParams ConwayEra
-&gt; GovEnv ConwayEra -&gt; Specification (ConwayGovState ConwayEra)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#conwayGovStateSpec"><span class="hs-identifier hs-var hs-var">conwayGovStateSpec</span></a></span></span><span> </span><span id="local-6989586621682708120"><span class="annot"><span class="annottext">PParams ConwayEra
</span><a href="#local-6989586621682708120"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span id="local-6989586621682708121"><span class="annot"><span class="annottext">GovEnv ConwayEra
</span><a href="#local-6989586621682708121"><span class="hs-identifier hs-var">govenv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-465"></span><span>  </span><span class="annot"><span class="annottext">(Term (ConwayGovState ConwayEra) -&gt; Pred)
-&gt; Specification (ConwayGovState ConwayEra)
forall a p.
(IsPred p, HasSpec a) =&gt;
(Term a -&gt; p) -&gt; Specification a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#constrained"><span class="hs-identifier hs-var">constrained</span></a></span><span> </span><span class="annot"><span class="annottext">((Term (ConwayGovState ConwayEra) -&gt; Pred)
 -&gt; Specification (ConwayGovState ConwayEra))
-&gt; (Term (ConwayGovState ConwayEra) -&gt; Pred)
-&gt; Specification (ConwayGovState ConwayEra)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (ConwayGovState ConwayEra)
</span><span class="">[var|conwaygovstate|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-466"></span><span>    </span><span class="annot"><span class="annottext">Term (ConwayGovState ConwayEra)
-&gt; FunTy
     (MapList Term (ProductAsList (ConwayGovState ConwayEra))) [Pred]
-&gt; Pred
forall p a.
(IsProductType a, IsPred p, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term a -&gt; FunTy (MapList Term (ProductAsList a)) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#match"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">Term (ConwayGovState ConwayEra)
</span><a href="#local-6989586621682708122"><span class="hs-identifier hs-var">conwaygovstate</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy
   (MapList Term (ProductAsList (ConwayGovState ConwayEra))) [Pred]
 -&gt; Pred)
-&gt; FunTy
     (MapList Term (ProductAsList (ConwayGovState ConwayEra))) [Pred]
-&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (Proposals ConwayEra)
</span><span class="">[var|proposals|]</span></span><span> </span><span id="local-6989586621682708124"><span class="annot"><span class="annottext">TermD Deps (StrictMaybe (Committee ConwayEra))
</span><a href="#local-6989586621682708124"><span class="hs-identifier hs-var">_mcommittee</span></a></span></span><span> </span><span id="local-6989586621682708125"><span class="annot"><span class="annottext">TermD Deps (Constitution ConwayEra)
</span><a href="#local-6989586621682708125"><span class="hs-identifier hs-var">_consti</span></a></span></span><span> </span><span class="annot"><span class="annottext">Term (PParams ConwayEra)
</span><span class="">[var|curpp|]</span></span><span> </span><span id="local-6989586621682708127"><span class="annot"><span class="annottext">Term (PParams ConwayEra)
</span><a href="#local-6989586621682708127"><span class="hs-identifier hs-var">_prevpp</span></a></span></span><span> </span><span id="local-6989586621682708128"><span class="annot"><span class="annottext">TermD Deps (FuturePParams ConwayEra)
</span><a href="#local-6989586621682708128"><span class="hs-identifier hs-var">_futurepp</span></a></span></span><span> </span><span id="local-6989586621682708129"><span class="annot"><span class="annottext">TermD Deps (DRepPulsingState ConwayEra)
</span><a href="#local-6989586621682708129"><span class="hs-identifier hs-var">_derepPulstate</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-467"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Term (PParams ConwayEra) -&gt; Term (Proposals ConwayEra) -&gt; Pred
forall a b. (HasSpec a, HasSpec b) =&gt; Term a -&gt; Term b -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#dependsOn"><span class="hs-identifier hs-var">dependsOn</span></a></span><span> </span><span class="annot"><span class="annottext">Term (PParams ConwayEra)
</span><a href="#local-6989586621682708126"><span class="hs-identifier hs-var">curpp</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Proposals ConwayEra)
</span><a href="#local-6989586621682708123"><span class="hs-identifier hs-var">proposals</span></a></span><span>
</span><span id="line-468"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term (ConwayGovState ConwayEra)
-&gt; Term (Proposals ConwayEra) -&gt; Pred
forall a b. (HasSpec a, HasSpec b) =&gt; Term a -&gt; Term b -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#dependsOn"><span class="hs-identifier hs-var">dependsOn</span></a></span><span> </span><span class="annot"><span class="annottext">Term (ConwayGovState ConwayEra)
</span><a href="#local-6989586621682708122"><span class="hs-identifier hs-var">conwaygovstate</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Proposals ConwayEra)
</span><a href="#local-6989586621682708123"><span class="hs-identifier hs-var">proposals</span></a></span><span>
</span><span id="line-469"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term Bool -&gt; Pred
forall p. IsPred p =&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term (PParams ConwayEra)
</span><a href="#local-6989586621682708126"><span class="hs-identifier hs-var">curpp</span></a></span><span> </span><span class="annot"><span class="annottext">Term (PParams ConwayEra) -&gt; Term (PParams ConwayEra) -&gt; Term Bool
forall a. HasSpec a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">PParams ConwayEra -&gt; Term (PParams ConwayEra)
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="annot"><span class="annottext">PParams ConwayEra
</span><a href="#local-6989586621682708120"><span class="hs-identifier hs-var">pp</span></a></span><span>
</span><span id="line-470"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term (Proposals ConwayEra)
-&gt; Specification (Proposals ConwayEra) -&gt; Pred
forall a. HasSpec a =&gt; Term a -&gt; Specification a -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Conformance.html#satisfies"><span class="hs-identifier hs-var">satisfies</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Proposals ConwayEra)
</span><a href="#local-6989586621682708123"><span class="hs-identifier hs-var">proposals</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GovEnv ConwayEra -&gt; Specification (Proposals ConwayEra)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.Gov.html#govProposalsSpec"><span class="hs-identifier hs-var">govProposalsSpec</span></a></span><span> </span><span class="annot"><span class="annottext">GovEnv ConwayEra
</span><a href="#local-6989586621682708121"><span class="hs-identifier hs-var">govenv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-471"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-472"></span><span>
</span><span id="line-473"></span><span class="hs-comment">-- ====================================================================</span><span>
</span><span id="line-474"></span><span class="hs-comment">-- Specs for LedgerState</span><span>
</span><span id="line-475"></span><span class="hs-comment">-- ====================================================================</span><span>
</span><span id="line-476"></span><span>
</span><span id="line-477"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#ledgerStateSpec"><span class="hs-identifier hs-type">ledgerStateSpec</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-478"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682705817"><span class="annot"><a href="#local-6989586621682705817"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-479"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#HasSpec"><span class="hs-identifier hs-type">HasSpec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Stake.html#InstantStake"><span class="hs-identifier hs-type">InstantStake</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705817"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682705817"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#ConwayEra"><span class="hs-identifier hs-type">ConwayEra</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-480"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.PParams.html#PParams"><span class="hs-identifier hs-type">PParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705817"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-481"></span><span>  </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.WitnessUniverse.html#WitUniv"><span class="hs-identifier hs-type">WitUniv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705817"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-482"></span><span>  </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#CertContext"><span class="hs-identifier hs-type">CertContext</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-483"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-slotting-0.2.0.1-cbaa0d455a08b054bafb132b87b34221d87bbbacf98d60661b1ed3cfc20b13c4/share/doc/html/src/Cardano.Slotting.Slot.html#EpochNo"><span class="hs-identifier hs-type">EpochNo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-484"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Specification"><span class="hs-identifier hs-type">Specification</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#LedgerState"><span class="hs-identifier hs-type">LedgerState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705817"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-485"></span><span id="ledgerStateSpec"><span class="annot"><span class="annottext">ledgerStateSpec :: forall era.
(HasSpec (InstantStake era), era ~ ConwayEra) =&gt;
PParams era
-&gt; WitUniv era
-&gt; CertContext
-&gt; Term EpochNo
-&gt; Specification (LedgerState era)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#ledgerStateSpec"><span class="hs-identifier hs-var hs-var">ledgerStateSpec</span></a></span></span><span> </span><span id="local-6989586621682708212"><span class="annot"><span class="annottext">PParams era
</span><a href="#local-6989586621682708212"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span id="local-6989586621682708213"><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682708213"><span class="hs-identifier hs-var">univ</span></a></span></span><span> </span><span id="local-6989586621682708214"><span class="annot"><span class="annottext">CertContext
</span><a href="#local-6989586621682708214"><span class="hs-identifier hs-var">ctx</span></a></span></span><span> </span><span id="local-6989586621682708215"><span class="annot"><span class="annottext">Term EpochNo
</span><a href="#local-6989586621682708215"><span class="hs-identifier hs-var">epoch</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-486"></span><span>  </span><span class="annot"><span class="annottext">(Term (LedgerState era) -&gt; Pred) -&gt; Specification (LedgerState era)
forall a p.
(IsPred p, HasSpec a) =&gt;
(Term a -&gt; p) -&gt; Specification a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#constrained"><span class="hs-identifier hs-var">constrained</span></a></span><span> </span><span class="annot"><span class="annottext">((Term (LedgerState era) -&gt; Pred)
 -&gt; Specification (LedgerState era))
-&gt; (Term (LedgerState era) -&gt; Pred)
-&gt; Specification (LedgerState era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (LedgerState era)
</span><span class="">[var|ledgerState|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-487"></span><span>    </span><span class="annot"><span class="annottext">Term (LedgerState era)
-&gt; FunTy (MapList Term (ProductAsList (LedgerState era))) [Pred]
-&gt; Pred
forall p a.
(IsProductType a, IsPred p, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term a -&gt; FunTy (MapList Term (ProductAsList a)) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#match"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">Term (LedgerState era)
</span><a href="#local-6989586621682708216"><span class="hs-identifier hs-var">ledgerState</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy (MapList Term (ProductAsList (LedgerState era))) [Pred]
 -&gt; Pred)
-&gt; FunTy (MapList Term (ProductAsList (LedgerState era))) [Pred]
-&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (UTxOState era)
</span><span class="">[var|utxoS|]</span></span><span> </span><span class="annot"><span class="annottext">TermD Deps (ConwayCertState ConwayEra)
</span><span class="">[var|csg|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-488"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">TermD Deps (ConwayCertState ConwayEra)
-&gt; Specification (ConwayCertState ConwayEra) -&gt; Pred
forall a. HasSpec a =&gt; Term a -&gt; Specification a -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Conformance.html#satisfies"><span class="hs-identifier hs-var">satisfies</span></a></span><span> </span><span class="annot"><span class="annottext">TermD Deps (ConwayCertState ConwayEra)
</span><a href="#local-6989586621682708218"><span class="hs-identifier hs-var">csg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WitUniv ConwayEra
-&gt; CertContext
-&gt; Term EpochNo
-&gt; Specification (ConwayCertState ConwayEra)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#conwayCertStateSpec"><span class="hs-identifier hs-var">conwayCertStateSpec</span></a></span><span> </span><span class="annot"><span class="annottext">WitUniv era
WitUniv ConwayEra
</span><a href="#local-6989586621682708213"><span class="hs-identifier hs-var">univ</span></a></span><span> </span><span class="annot"><span class="annottext">CertContext
</span><a href="#local-6989586621682708214"><span class="hs-identifier hs-var">ctx</span></a></span><span> </span><span class="annot"><span class="annottext">Term EpochNo
</span><a href="#local-6989586621682708215"><span class="hs-identifier hs-var">epoch</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-489"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TermD Deps (ConwayCertState ConwayEra)
-&gt; (ConwayCertState ConwayEra -&gt; ConwayCertState ConwayEra)
-&gt; (TermD Deps (ConwayCertState ConwayEra) -&gt; Pred)
-&gt; Pred
forall a b p.
(HasSpec a, HasSpec b, IsPred p) =&gt;
Term a -&gt; (a -&gt; b) -&gt; (Term b -&gt; p) -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#reify"><span class="hs-identifier hs-var">reify</span></a></span><span> </span><span class="annot"><span class="annottext">TermD Deps (ConwayCertState ConwayEra)
</span><a href="#local-6989586621682708218"><span class="hs-identifier hs-var">csg</span></a></span><span> </span><span class="annot"><span class="annottext">ConwayCertState ConwayEra -&gt; ConwayCertState ConwayEra
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">TermD Deps (ConwayCertState ConwayEra)
</span><span class="">[var|certstate|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term (UTxOState era) -&gt; Specification (UTxOState era) -&gt; Pred
forall a. HasSpec a =&gt; Term a -&gt; Specification a -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Conformance.html#satisfies"><span class="hs-identifier hs-var">satisfies</span></a></span><span> </span><span class="annot"><span class="annottext">Term (UTxOState era)
</span><a href="#local-6989586621682708217"><span class="hs-identifier hs-var">utxoS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era.
(HasSpec (InstantStake era), era ~ ConwayEra) =&gt;
PParams era
-&gt; WitUniv era
-&gt; Term (CertState era)
-&gt; Specification (UTxOState era)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#utxoStateSpec"><span class="hs-identifier hs-var">utxoStateSpec</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621682705817"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><span class="annottext">PParams era
</span><a href="#local-6989586621682708212"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682708213"><span class="hs-identifier hs-var">univ</span></a></span><span> </span><span class="annot"><span class="annottext">Term (CertState era)
TermD Deps (ConwayCertState ConwayEra)
</span><a href="#local-6989586621682708220"><span class="hs-identifier hs-var">certstate</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-490"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-491"></span><span>
</span><span id="line-492"></span><span class="hs-comment">-- ===========================================================</span><span>
</span><span id="line-493"></span><span>
</span><span id="line-494"></span><span class="hs-comment">-- TODO make this more realistic</span><span>
</span><span id="line-495"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#snapShotSpec"><span class="hs-identifier hs-type">snapShotSpec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Specification"><span class="hs-identifier hs-type">Specification</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.SnapShots.html#SnapShot"><span class="hs-identifier hs-type">SnapShot</span></a></span><span>
</span><span id="line-496"></span><span id="snapShotSpec"><span class="annot"><span class="annottext">snapShotSpec :: Specification SnapShot
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#snapShotSpec"><span class="hs-identifier hs-var hs-var">snapShotSpec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-497"></span><span>  </span><span class="annot"><span class="annottext">(Term SnapShot -&gt; Pred) -&gt; Specification SnapShot
forall a p.
(IsPred p, HasSpec a) =&gt;
(Term a -&gt; p) -&gt; Specification a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#constrained"><span class="hs-identifier hs-var">constrained</span></a></span><span> </span><span class="annot"><span class="annottext">((Term SnapShot -&gt; Pred) -&gt; Specification SnapShot)
-&gt; (Term SnapShot -&gt; Pred) -&gt; Specification SnapShot
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term SnapShot
</span><span class="">[var|snap|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-498"></span><span>    </span><span class="annot"><span class="annottext">Term SnapShot
-&gt; FunTy (MapList Term (ProductAsList SnapShot)) Pred -&gt; Pred
forall p a.
(IsProductType a, IsPred p, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term a -&gt; FunTy (MapList Term (ProductAsList a)) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#match"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">Term SnapShot
</span><a href="#local-6989586621682708222"><span class="hs-identifier hs-var">snap</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy (MapList Term (ProductAsList SnapShot)) Pred -&gt; Pred)
-&gt; FunTy (MapList Term (ProductAsList SnapShot)) Pred -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term Stake
</span><span class="">[var|stake|]</span></span><span> </span><span class="annot"><span class="annottext">Term (VMap VB VB (Credential 'Staking) (KeyHash 'StakePool))
</span><span class="">[var|delegs|]</span></span><span> </span><span class="annot"><span class="annottext">Term (VMap VB VB (KeyHash 'StakePool) PoolParams)
</span><span class="">[var|poolparams|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-499"></span><span>      </span><span class="annot"><span class="annottext">Term Stake
-&gt; FunTy (MapList Term (ProductAsList Stake)) [Pred] -&gt; Pred
forall p a.
(IsProductType a, IsPred p, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term a -&gt; FunTy (MapList Term (ProductAsList a)) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#match"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">Term Stake
</span><a href="#local-6989586621682708223"><span class="hs-identifier hs-var">stake</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy (MapList Term (ProductAsList Stake)) [Pred] -&gt; Pred)
-&gt; FunTy (MapList Term (ProductAsList Stake)) [Pred] -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (VMap VB VP (Credential 'Staking) (CompactForm Coin))
</span><span class="">[var|stakemap|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-500"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Term Bool -&gt; Pred
forall p. IsPred p =&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term (VMap VB VP (Credential 'Staking) (CompactForm Coin))
</span><a href="#local-6989586621682708226"><span class="hs-identifier hs-var">stakemap</span></a></span><span> </span><span class="annot"><span class="annottext">Term (VMap VB VP (Credential 'Staking) (CompactForm Coin))
-&gt; Term (VMap VB VP (Credential 'Staking) (CompactForm Coin))
-&gt; Term Bool
forall a. HasSpec a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">VMap VB VP (Credential 'Staking) (CompactForm Coin)
-&gt; Term (VMap VB VP (Credential 'Staking) (CompactForm Coin))
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="annot"><span class="annottext">VMap VB VP (Credential 'Staking) (CompactForm Coin)
forall (kv :: * -&gt; *) k (vv :: * -&gt; *) v.
(Vector kv k, Vector vv v) =&gt;
VMap kv vv k v
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/vector-map-1.1.0.1/doc/html/vector-map/src/Data.VMap.html#empty"><span class="hs-identifier hs-var">VMap.empty</span></a></span><span>
</span><span id="line-501"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term Bool -&gt; Pred
forall p. IsPred p =&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term (VMap VB VB (Credential 'Staking) (KeyHash 'StakePool))
</span><a href="#local-6989586621682708224"><span class="hs-identifier hs-var">delegs</span></a></span><span> </span><span class="annot"><span class="annottext">Term (VMap VB VB (Credential 'Staking) (KeyHash 'StakePool))
-&gt; Term (VMap VB VB (Credential 'Staking) (KeyHash 'StakePool))
-&gt; Term Bool
forall a. HasSpec a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">VMap VB VB (Credential 'Staking) (KeyHash 'StakePool)
-&gt; Term (VMap VB VB (Credential 'Staking) (KeyHash 'StakePool))
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="annot"><span class="annottext">VMap VB VB (Credential 'Staking) (KeyHash 'StakePool)
forall (kv :: * -&gt; *) k (vv :: * -&gt; *) v.
(Vector kv k, Vector vv v) =&gt;
VMap kv vv k v
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/vector-map-1.1.0.1/doc/html/vector-map/src/Data.VMap.html#empty"><span class="hs-identifier hs-var">VMap.empty</span></a></span><span>
</span><span id="line-502"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term Bool -&gt; Pred
forall p. IsPred p =&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term (VMap VB VB (KeyHash 'StakePool) PoolParams)
</span><a href="#local-6989586621682708225"><span class="hs-identifier hs-var">poolparams</span></a></span><span> </span><span class="annot"><span class="annottext">Term (VMap VB VB (KeyHash 'StakePool) PoolParams)
-&gt; Term (VMap VB VB (KeyHash 'StakePool) PoolParams) -&gt; Term Bool
forall a. HasSpec a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">VMap VB VB (KeyHash 'StakePool) PoolParams
-&gt; Term (VMap VB VB (KeyHash 'StakePool) PoolParams)
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="annot"><span class="annottext">VMap VB VB (KeyHash 'StakePool) PoolParams
forall (kv :: * -&gt; *) k (vv :: * -&gt; *) v.
(Vector kv k, Vector vv v) =&gt;
VMap kv vv k v
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/vector-map-1.1.0.1/doc/html/vector-map/src/Data.VMap.html#empty"><span class="hs-identifier hs-var">VMap.empty</span></a></span><span>
</span><span id="line-503"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-504"></span><span>
</span><span id="line-505"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#snapShotsSpec"><span class="hs-identifier hs-type">snapShotsSpec</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-506"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.SnapShots.html#SnapShot"><span class="hs-identifier hs-type">SnapShot</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Specification"><span class="hs-identifier hs-type">Specification</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.SnapShots.html#SnapShots"><span class="hs-identifier hs-type">SnapShots</span></a></span><span>
</span><span id="line-507"></span><span id="snapShotsSpec"><span class="annot"><span class="annottext">snapShotsSpec :: Term SnapShot -&gt; Specification SnapShots
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#snapShotsSpec"><span class="hs-identifier hs-var hs-var">snapShotsSpec</span></a></span></span><span> </span><span id="local-6989586621682708229"><span class="annot"><span class="annottext">Term SnapShot
</span><a href="#local-6989586621682708229"><span class="hs-identifier hs-var">marksnap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-508"></span><span>  </span><span class="annot"><span class="annottext">(Term SnapShots -&gt; Pred) -&gt; Specification SnapShots
forall a p.
(IsPred p, HasSpec a) =&gt;
(Term a -&gt; p) -&gt; Specification a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#constrained"><span class="hs-identifier hs-var">constrained</span></a></span><span> </span><span class="annot"><span class="annottext">((Term SnapShots -&gt; Pred) -&gt; Specification SnapShots)
-&gt; (Term SnapShots -&gt; Pred) -&gt; Specification SnapShots
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term SnapShots
</span><span class="">[var|snap|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-509"></span><span>    </span><span class="annot"><span class="annottext">Term SnapShots
-&gt; FunTy (MapList Term (ProductAsList SnapShots)) [Pred] -&gt; Pred
forall p a.
(IsProductType a, IsPred p, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term a -&gt; FunTy (MapList Term (ProductAsList a)) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#match"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">Term SnapShots
</span><a href="#local-6989586621682708230"><span class="hs-identifier hs-var">snap</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy (MapList Term (ProductAsList SnapShots)) [Pred] -&gt; Pred)
-&gt; FunTy (MapList Term (ProductAsList SnapShots)) [Pred] -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term SnapShot
</span><span class="">[var|mark|]</span></span><span> </span><span class="annot"><span class="annottext">Term PoolDistr
</span><span class="">[var|pooldistr|]</span></span><span> </span><span class="annot"><span class="annottext">Term SnapShot
</span><span class="">[var|set|]</span></span><span> </span><span class="annot"><span class="annottext">Term SnapShot
</span><span class="">[var|_go|]</span></span><span> </span><span id="local-6989586621682708235"><span class="annot"><span class="annottext">TermD Deps Coin
</span><a href="#local-6989586621682708235"><span class="hs-identifier hs-var">_fee</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-510"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Term Bool -&gt; Pred
forall p. IsPred p =&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term SnapShot
</span><a href="#local-6989586621682708231"><span class="hs-identifier hs-var">mark</span></a></span><span> </span><span class="annot"><span class="annottext">Term SnapShot -&gt; Term SnapShot -&gt; Term Bool
forall a. HasSpec a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">Term SnapShot
</span><a href="#local-6989586621682708229"><span class="hs-identifier hs-var">marksnap</span></a></span><span>
</span><span id="line-511"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term SnapShot -&gt; Specification SnapShot -&gt; Pred
forall a. HasSpec a =&gt; Term a -&gt; Specification a -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Conformance.html#satisfies"><span class="hs-identifier hs-var">satisfies</span></a></span><span> </span><span class="annot"><span class="annottext">Term SnapShot
</span><a href="#local-6989586621682708233"><span class="hs-identifier hs-var">set</span></a></span><span> </span><span class="annot"><span class="annottext">Specification SnapShot
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#snapShotSpec"><span class="hs-identifier hs-var">snapShotSpec</span></a></span><span>
</span><span id="line-512"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term SnapShot -&gt; Specification SnapShot -&gt; Pred
forall a. HasSpec a =&gt; Term a -&gt; Specification a -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Conformance.html#satisfies"><span class="hs-identifier hs-var">satisfies</span></a></span><span> </span><span class="annot"><span class="annottext">Term SnapShot
</span><a href="#local-6989586621682708234"><span class="hs-identifier hs-var">_go</span></a></span><span> </span><span class="annot"><span class="annottext">Specification SnapShot
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#snapShotSpec"><span class="hs-identifier hs-var">snapShotSpec</span></a></span><span>
</span><span id="line-513"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term SnapShot
-&gt; (SnapShot -&gt; PoolDistr) -&gt; (Term PoolDistr -&gt; Term Bool) -&gt; Pred
forall a b p.
(HasSpec a, HasSpec b, IsPred p) =&gt;
Term a -&gt; (a -&gt; b) -&gt; (Term b -&gt; p) -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#reify"><span class="hs-identifier hs-var">reify</span></a></span><span> </span><span class="annot"><span class="annottext">Term SnapShot
</span><a href="#local-6989586621682708229"><span class="hs-identifier hs-var">marksnap</span></a></span><span> </span><span class="annot"><span class="annottext">SnapShot -&gt; PoolDistr
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.SnapShots.html#calculatePoolDistr"><span class="hs-identifier hs-var">calculatePoolDistr</span></a></span><span> </span><span class="annot"><span class="annottext">((Term PoolDistr -&gt; Term Bool) -&gt; Pred)
-&gt; (Term PoolDistr -&gt; Term Bool) -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term PoolDistr
</span><span class="">[var|pd|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term PoolDistr
</span><a href="#local-6989586621682708232"><span class="hs-identifier hs-var">pooldistr</span></a></span><span> </span><span class="annot"><span class="annottext">Term PoolDistr -&gt; Term PoolDistr -&gt; Term Bool
forall a. HasSpec a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">Term PoolDistr
</span><a href="#local-6989586621682708237"><span class="hs-identifier hs-var">pd</span></a></span><span>
</span><span id="line-514"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-515"></span><span>
</span><span id="line-516"></span><span class="annot"><span class="hs-comment">-- | The Mark SnapShot (at the epochboundary) is a pure function of the LedgerState</span></span><span>
</span><span id="line-517"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#getMarkSnapShot"><span class="hs-identifier hs-type">getMarkSnapShot</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682705827"><span class="annot"><a href="#local-6989586621682705827"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.CertState.html#EraCertState"><span class="hs-identifier hs-type">EraCertState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705827"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Stake.html#EraStake"><span class="hs-identifier hs-type">EraStake</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705827"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#LedgerState"><span class="hs-identifier hs-type">LedgerState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705827"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.SnapShots.html#SnapShot"><span class="hs-identifier hs-type">SnapShot</span></a></span><span>
</span><span id="line-518"></span><span id="getMarkSnapShot"><span class="annot"><span class="annottext">getMarkSnapShot :: forall era.
(EraCertState era, EraStake era) =&gt;
LedgerState era -&gt; SnapShot
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#getMarkSnapShot"><span class="hs-identifier hs-var hs-var">getMarkSnapShot</span></a></span></span><span> </span><span id="local-6989586621682708257"><span class="annot"><span class="annottext">LedgerState era
</span><a href="#local-6989586621682708257"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stake
-&gt; VMap VB VB (Credential 'Staking) (KeyHash 'StakePool)
-&gt; VMap VB VB (KeyHash 'StakePool) PoolParams
-&gt; SnapShot
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.SnapShots.html#SnapShot"><span class="hs-identifier hs-var">SnapShot</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">VMap VB VP (Credential 'Staking) (CompactForm Coin) -&gt; Stake
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.SnapShots.html#Stake"><span class="hs-identifier hs-var">Stake</span></a></span><span> </span><span class="annot"><span class="annottext">VMap VB VP (Credential 'Staking) (CompactForm Coin)
</span><a href="#local-6989586621682708260"><span class="hs-identifier hs-var">markStake</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">VMap VB VB (Credential 'Staking) (KeyHash 'StakePool)
</span><a href="#local-6989586621682708261"><span class="hs-identifier hs-var">markDelegations</span></a></span><span> </span><span class="annot"><span class="annottext">VMap VB VB (KeyHash 'StakePool) PoolParams
</span><a href="#local-6989586621682708262"><span class="hs-identifier hs-var">markPoolParams</span></a></span><span>
</span><span id="line-519"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-520"></span><span>    </span><span class="annot"><a href="#local-6989586621682708260"><span class="hs-identifier hs-type">markStake</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/vector-map-1.1.0.1/doc/html/vector-map/src/Data.VMap.html#VMap"><span class="hs-identifier hs-type">VMap</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/vector-map-1.1.0.1/doc/html/vector-map/src/Data.VMap.html#VB"><span class="hs-identifier hs-type">VB</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/vector-map-1.1.0.1/doc/html/vector-map/src/Data.VMap.html#VP"><span class="hs-identifier hs-type">VP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#Staking"><span class="hs-identifier hs-type">Staking</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Compactible.html#CompactForm"><span class="hs-identifier hs-type">CompactForm</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-521"></span><span>    </span><span id="local-6989586621682708260"><span class="annot"><span class="annottext">markStake :: VMap VB VP (Credential 'Staking) (CompactForm Coin)
</span><a href="#local-6989586621682708260"><span class="hs-identifier hs-var hs-var">markStake</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map (Credential 'Staking) (CompactForm Coin)
-&gt; VMap VB VP (Credential 'Staking) (CompactForm Coin)
forall (kv :: * -&gt; *) k (vv :: * -&gt; *) v.
(Vector kv k, Vector vv v) =&gt;
Map k v -&gt; VMap kv vv k v
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/vector-map-1.1.0.1/doc/html/vector-map/src/Data.VMap.html#fromMap"><span class="hs-identifier hs-var">VMap.fromMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LedgerState era
</span><a href="#local-6989586621682708257"><span class="hs-identifier hs-var">ls</span></a></span><span> </span><span class="annot"><span class="annottext">LedgerState era
-&gt; Getting
     (Map (Credential 'Staking) (CompactForm Coin))
     (LedgerState era)
     (Map (Credential 'Staking) (CompactForm Coin))
-&gt; Map (Credential 'Staking) (CompactForm Coin)
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">(InstantStake era
 -&gt; Const
      (Map (Credential 'Staking) (CompactForm Coin)) (InstantStake era))
-&gt; LedgerState era
-&gt; Const
     (Map (Credential 'Staking) (CompactForm Coin)) (LedgerState era)
forall era. Lens' (LedgerState era) (InstantStake era)
forall (t :: * -&gt; *) era.
CanSetInstantStake t =&gt;
Lens' (t era) (InstantStake era)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Stake.html#instantStakeL"><span class="hs-identifier hs-var">instantStakeL</span></a></span><span> </span><span class="annot"><span class="annottext">((InstantStake era
  -&gt; Const
       (Map (Credential 'Staking) (CompactForm Coin)) (InstantStake era))
 -&gt; LedgerState era
 -&gt; Const
      (Map (Credential 'Staking) (CompactForm Coin)) (LedgerState era))
-&gt; ((Map (Credential 'Staking) (CompactForm Coin)
     -&gt; Const
          (Map (Credential 'Staking) (CompactForm Coin))
          (Map (Credential 'Staking) (CompactForm Coin)))
    -&gt; InstantStake era
    -&gt; Const
         (Map (Credential 'Staking) (CompactForm Coin)) (InstantStake era))
-&gt; Getting
     (Map (Credential 'Staking) (CompactForm Coin))
     (LedgerState era)
     (Map (Credential 'Staking) (CompactForm Coin))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Map (Credential 'Staking) (CompactForm Coin)
 -&gt; Const
      (Map (Credential 'Staking) (CompactForm Coin))
      (Map (Credential 'Staking) (CompactForm Coin)))
-&gt; InstantStake era
-&gt; Const
     (Map (Credential 'Staking) (CompactForm Coin)) (InstantStake era)
forall era.
EraStake era =&gt;
Lens'
  (InstantStake era) (Map (Credential 'Staking) (CompactForm Coin))
Lens'
  (InstantStake era) (Map (Credential 'Staking) (CompactForm Coin))
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Stake.html#instantStakeCredentialsL"><span class="hs-identifier hs-var">instantStakeCredentialsL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-522"></span><span>    </span><span class="annot"><a href="#local-6989586621682708261"><span class="hs-identifier hs-type">markDelegations</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/vector-map-1.1.0.1/doc/html/vector-map/src/Data.VMap.html#VMap"><span class="hs-identifier hs-type">VMap</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/vector-map-1.1.0.1/doc/html/vector-map/src/Data.VMap.html#VB"><span class="hs-identifier hs-type">VB</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/vector-map-1.1.0.1/doc/html/vector-map/src/Data.VMap.html#VB"><span class="hs-identifier hs-type">VB</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#Staking"><span class="hs-identifier hs-type">Staking</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Hashes.html#KeyHash"><span class="hs-identifier hs-type">KeyHash</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#StakePool"><span class="hs-identifier hs-type">StakePool</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-523"></span><span>    </span><span id="local-6989586621682708261"><span class="annot"><span class="annottext">markDelegations :: VMap VB VB (Credential 'Staking) (KeyHash 'StakePool)
</span><a href="#local-6989586621682708261"><span class="hs-identifier hs-var hs-var">markDelegations</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map (Credential 'Staking) (KeyHash 'StakePool)
-&gt; VMap VB VB (Credential 'Staking) (KeyHash 'StakePool)
forall (kv :: * -&gt; *) k (vv :: * -&gt; *) v.
(Vector kv k, Vector vv v) =&gt;
Map k v -&gt; VMap kv vv k v
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/vector-map-1.1.0.1/doc/html/vector-map/src/Data.VMap.html#fromMap"><span class="hs-identifier hs-var">VMap.fromMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Map (Credential 'Staking) (KeyHash 'StakePool)
 -&gt; VMap VB VB (Credential 'Staking) (KeyHash 'StakePool))
-&gt; Map (Credential 'Staking) (KeyHash 'StakePool)
-&gt; VMap VB VB (Credential 'Staking) (KeyHash 'StakePool)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CertState era -&gt; Map (Credential 'Staking) (KeyHash 'StakePool)
forall era.
EraCertState era =&gt;
CertState era -&gt; Map (Credential 'Staking) (KeyHash 'StakePool)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#getDelegs"><span class="hs-identifier hs-var">getDelegs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LedgerState era
</span><a href="#local-6989586621682708257"><span class="hs-identifier hs-var">ls</span></a></span><span> </span><span class="annot"><span class="annottext">LedgerState era
-&gt; Getting (CertState era) (LedgerState era) (CertState era)
-&gt; CertState era
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (CertState era) (LedgerState era) (CertState era)
forall era (f :: * -&gt; *).
Functor f =&gt;
(CertState era -&gt; f (CertState era))
-&gt; LedgerState era -&gt; f (LedgerState era)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#lsCertStateL"><span class="hs-identifier hs-var">lsCertStateL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-524"></span><span>    </span><span class="annot"><a href="#local-6989586621682708262"><span class="hs-identifier hs-type">markPoolParams</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/vector-map-1.1.0.1/doc/html/vector-map/src/Data.VMap.html#VMap"><span class="hs-identifier hs-type">VMap</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/vector-map-1.1.0.1/doc/html/vector-map/src/Data.VMap.html#VB"><span class="hs-identifier hs-type">VB</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/vector-map-1.1.0.1/doc/html/vector-map/src/Data.VMap.html#VB"><span class="hs-identifier hs-type">VB</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Hashes.html#KeyHash"><span class="hs-identifier hs-type">KeyHash</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#StakePool"><span class="hs-identifier hs-type">StakePool</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.StakePool.html#PoolParams"><span class="hs-identifier hs-type">PoolParams</span></a></span><span>
</span><span id="line-525"></span><span>    </span><span id="local-6989586621682708262"><span class="annot"><span class="annottext">markPoolParams :: VMap VB VB (KeyHash 'StakePool) PoolParams
</span><a href="#local-6989586621682708262"><span class="hs-identifier hs-var hs-var">markPoolParams</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-526"></span><span>      </span><span class="annot"><span class="annottext">Map (KeyHash 'StakePool) PoolParams
-&gt; VMap VB VB (KeyHash 'StakePool) PoolParams
forall (kv :: * -&gt; *) k (vv :: * -&gt; *) v.
(Vector kv k, Vector vv v) =&gt;
Map k v -&gt; VMap kv vv k v
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/vector-map-1.1.0.1/doc/html/vector-map/src/Data.VMap.html#fromMap"><span class="hs-identifier hs-var">VMap.fromMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Map (KeyHash 'StakePool) PoolParams
 -&gt; VMap VB VB (KeyHash 'StakePool) PoolParams)
-&gt; Map (KeyHash 'StakePool) PoolParams
-&gt; VMap VB VB (KeyHash 'StakePool) PoolParams
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-527"></span><span>        </span><span class="annot"><span class="annottext">(KeyHash 'StakePool -&gt; StakePoolState -&gt; PoolParams)
-&gt; Map (KeyHash 'StakePool) StakePoolState
-&gt; Map (KeyHash 'StakePool) PoolParams
forall k a b. (k -&gt; a -&gt; b) -&gt; Map k a -&gt; Map k b
</span><span class="hs-identifier hs-var">Map.mapWithKey</span></span><span> </span><span class="annot"><span class="annottext">KeyHash 'StakePool -&gt; StakePoolState -&gt; PoolParams
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.StakePool.html#stakePoolStateToPoolParams"><span class="hs-identifier hs-var">stakePoolStateToPoolParams</span></a></span><span> </span><span class="annot"><span class="annottext">(Map (KeyHash 'StakePool) StakePoolState
 -&gt; Map (KeyHash 'StakePool) PoolParams)
-&gt; Map (KeyHash 'StakePool) StakePoolState
-&gt; Map (KeyHash 'StakePool) PoolParams
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-528"></span><span>          </span><span class="annot"><span class="annottext">PState era -&gt; Map (KeyHash 'StakePool) StakePoolState
forall era. PState era -&gt; Map (KeyHash 'StakePool) StakePoolState
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.CertState.html#psStakePools"><span class="hs-identifier hs-var">psStakePools</span></a></span><span> </span><span class="annot"><span class="annottext">(PState era -&gt; Map (KeyHash 'StakePool) StakePoolState)
-&gt; PState era -&gt; Map (KeyHash 'StakePool) StakePoolState
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-529"></span><span>            </span><span class="annot"><span class="annottext">LedgerState era
</span><a href="#local-6989586621682708257"><span class="hs-identifier hs-var">ls</span></a></span><span> </span><span class="annot"><span class="annottext">LedgerState era
-&gt; Getting (PState era) (LedgerState era) (PState era)
-&gt; PState era
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">(CertState era -&gt; Const (PState era) (CertState era))
-&gt; LedgerState era -&gt; Const (PState era) (LedgerState era)
forall era (f :: * -&gt; *).
Functor f =&gt;
(CertState era -&gt; f (CertState era))
-&gt; LedgerState era -&gt; f (LedgerState era)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#lsCertStateL"><span class="hs-identifier hs-var">lsCertStateL</span></a></span><span> </span><span class="annot"><span class="annottext">((CertState era -&gt; Const (PState era) (CertState era))
 -&gt; LedgerState era -&gt; Const (PState era) (LedgerState era))
-&gt; ((PState era -&gt; Const (PState era) (PState era))
    -&gt; CertState era -&gt; Const (PState era) (CertState era))
-&gt; Getting (PState era) (LedgerState era) (PState era)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(PState era -&gt; Const (PState era) (PState era))
-&gt; CertState era -&gt; Const (PState era) (CertState era)
forall era. EraCertState era =&gt; Lens' (CertState era) (PState era)
Lens' (CertState era) (PState era)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.CertState.html#certPStateL"><span class="hs-identifier hs-var">certPStateL</span></a></span><span>
</span><span id="line-530"></span><span>
</span><span id="line-531"></span><span class="hs-comment">-- ====================================================================</span><span>
</span><span id="line-532"></span><span class="hs-comment">-- Specs for EpochState and NewEpochState</span><span>
</span><span id="line-533"></span><span class="hs-comment">-- ====================================================================</span><span>
</span><span id="line-534"></span><span>
</span><span id="line-535"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#epochStateSpec"><span class="hs-identifier hs-type">epochStateSpec</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-536"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682705841"><span class="annot"><a href="#local-6989586621682705841"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-537"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#HasSpec"><span class="hs-identifier hs-type">HasSpec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Stake.html#InstantStake"><span class="hs-identifier hs-type">InstantStake</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705841"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682705841"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#ConwayEra"><span class="hs-identifier hs-type">ConwayEra</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-538"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.PParams.html#PParams"><span class="hs-identifier hs-type">PParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705841"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-539"></span><span>  </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.WitnessUniverse.html#WitUniv"><span class="hs-identifier hs-type">WitUniv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705841"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-540"></span><span>  </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#CertContext"><span class="hs-identifier hs-type">CertContext</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-541"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-slotting-0.2.0.1-cbaa0d455a08b054bafb132b87b34221d87bbbacf98d60661b1ed3cfc20b13c4/share/doc/html/src/Cardano.Slotting.Slot.html#EpochNo"><span class="hs-identifier hs-type">EpochNo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-542"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Specification"><span class="hs-identifier hs-type">Specification</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#EpochState"><span class="hs-identifier hs-type">EpochState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705841"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-543"></span><span id="epochStateSpec"><span class="annot"><span class="annottext">epochStateSpec :: forall era.
(HasSpec (InstantStake era), era ~ ConwayEra) =&gt;
PParams era
-&gt; WitUniv era
-&gt; CertContext
-&gt; Term EpochNo
-&gt; Specification (EpochState era)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#epochStateSpec"><span class="hs-identifier hs-var hs-var">epochStateSpec</span></a></span></span><span> </span><span id="local-6989586621682708406"><span class="annot"><span class="annottext">PParams era
</span><a href="#local-6989586621682708406"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span id="local-6989586621682708407"><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682708407"><span class="hs-identifier hs-var">univ</span></a></span></span><span> </span><span id="local-6989586621682708408"><span class="annot"><span class="annottext">CertContext
</span><a href="#local-6989586621682708408"><span class="hs-identifier hs-var">certctx</span></a></span></span><span> </span><span id="local-6989586621682708409"><span class="annot"><span class="annottext">Term EpochNo
</span><a href="#local-6989586621682708409"><span class="hs-identifier hs-var">epoch</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-544"></span><span>  </span><span class="annot"><span class="annottext">(Term (EpochState era) -&gt; Pred) -&gt; Specification (EpochState era)
forall a p.
(IsPred p, HasSpec a) =&gt;
(Term a -&gt; p) -&gt; Specification a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#constrained"><span class="hs-identifier hs-var">constrained</span></a></span><span> </span><span class="annot"><span class="annottext">((Term (EpochState era) -&gt; Pred) -&gt; Specification (EpochState era))
-&gt; (Term (EpochState era) -&gt; Pred)
-&gt; Specification (EpochState era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (EpochState era)
</span><span class="">[var|epochState|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-545"></span><span>    </span><span class="annot"><span class="annottext">Term (EpochState era)
-&gt; FunTy (MapList Term (ProductAsList (EpochState era))) [Pred]
-&gt; Pred
forall p a.
(IsProductType a, IsPred p, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term a -&gt; FunTy (MapList Term (ProductAsList a)) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#match"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">Term (EpochState era)
</span><a href="#local-6989586621682708410"><span class="hs-identifier hs-var">epochState</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy (MapList Term (ProductAsList (EpochState era))) [Pred]
 -&gt; Pred)
-&gt; FunTy (MapList Term (ProductAsList (EpochState era))) [Pred]
-&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term ChainAccountState
</span><span class="">[var|acctst|]</span></span><span> </span><span class="annot"><span class="annottext">Term (LedgerState era)
</span><span class="">[var|eLedgerState|]</span></span><span> </span><span class="annot"><span class="annottext">Term SnapShots
</span><span class="">[var|snaps|]</span></span><span> </span><span class="annot"><span class="annottext">Term NonMyopic
</span><span class="">[var|nonmyopic|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-546"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Term (LedgerState era) -&gt; Term ChainAccountState -&gt; Pred
forall a b. (HasSpec a, HasSpec b) =&gt; Term a -&gt; Term b -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#dependsOn"><span class="hs-identifier hs-var">dependsOn</span></a></span><span> </span><span class="annot"><span class="annottext">Term (LedgerState era)
</span><a href="#local-6989586621682708412"><span class="hs-identifier hs-var">eLedgerState</span></a></span><span> </span><span class="annot"><span class="annottext">Term ChainAccountState
</span><a href="#local-6989586621682708411"><span class="hs-identifier hs-var">acctst</span></a></span><span>
</span><span id="line-547"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term (LedgerState era) -&gt; Specification (LedgerState era) -&gt; Pred
forall a. HasSpec a =&gt; Term a -&gt; Specification a -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Conformance.html#satisfies"><span class="hs-identifier hs-var">satisfies</span></a></span><span> </span><span class="annot"><span class="annottext">Term (LedgerState era)
</span><a href="#local-6989586621682708412"><span class="hs-identifier hs-var">eLedgerState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PParams era
-&gt; WitUniv era
-&gt; CertContext
-&gt; Term EpochNo
-&gt; Specification (LedgerState era)
forall era.
(HasSpec (InstantStake era), era ~ ConwayEra) =&gt;
PParams era
-&gt; WitUniv era
-&gt; CertContext
-&gt; Term EpochNo
-&gt; Specification (LedgerState era)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#ledgerStateSpec"><span class="hs-identifier hs-var">ledgerStateSpec</span></a></span><span> </span><span class="annot"><span class="annottext">PParams era
</span><a href="#local-6989586621682708406"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682708407"><span class="hs-identifier hs-var">univ</span></a></span><span> </span><span class="annot"><span class="annottext">CertContext
</span><a href="#local-6989586621682708408"><span class="hs-identifier hs-var">certctx</span></a></span><span> </span><span class="annot"><span class="annottext">Term EpochNo
</span><a href="#local-6989586621682708409"><span class="hs-identifier hs-var">epoch</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-548"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term (LedgerState era)
-&gt; (LedgerState era -&gt; SnapShot) -&gt; (Term SnapShot -&gt; Pred) -&gt; Pred
forall a b p.
(HasSpec a, HasSpec b, IsPred p) =&gt;
Term a -&gt; (a -&gt; b) -&gt; (Term b -&gt; p) -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#reify"><span class="hs-identifier hs-var">reify</span></a></span><span> </span><span class="annot"><span class="annottext">Term (LedgerState era)
</span><a href="#local-6989586621682708412"><span class="hs-identifier hs-var">eLedgerState</span></a></span><span> </span><span class="annot"><span class="annottext">LedgerState era -&gt; SnapShot
forall era.
(EraCertState era, EraStake era) =&gt;
LedgerState era -&gt; SnapShot
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#getMarkSnapShot"><span class="hs-identifier hs-var">getMarkSnapShot</span></a></span><span> </span><span class="annot"><span class="annottext">((Term SnapShot -&gt; Pred) -&gt; Pred)
-&gt; (Term SnapShot -&gt; Pred) -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term SnapShot
</span><span class="">[var|marksnap|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term SnapShots -&gt; Specification SnapShots -&gt; Pred
forall a. HasSpec a =&gt; Term a -&gt; Specification a -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Conformance.html#satisfies"><span class="hs-identifier hs-var">satisfies</span></a></span><span> </span><span class="annot"><span class="annottext">Term SnapShots
</span><a href="#local-6989586621682708413"><span class="hs-identifier hs-var">snaps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term SnapShot -&gt; Specification SnapShots
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#snapShotsSpec"><span class="hs-identifier hs-var">snapShotsSpec</span></a></span><span> </span><span class="annot"><span class="annottext">Term SnapShot
</span><a href="#local-6989586621682708415"><span class="hs-identifier hs-var">marksnap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-549"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term NonMyopic
-&gt; FunTy (MapList Term (ProductAsList NonMyopic)) [Pred] -&gt; Pred
forall p a.
(IsProductType a, IsPred p, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term a -&gt; FunTy (MapList Term (ProductAsList a)) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#match"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">Term NonMyopic
</span><a href="#local-6989586621682708414"><span class="hs-identifier hs-var">nonmyopic</span></a></span><span> </span><span class="annot"><span class="annottext">(FunTy (MapList Term (ProductAsList NonMyopic)) [Pred] -&gt; Pred)
-&gt; FunTy (MapList Term (ProductAsList NonMyopic)) [Pred] -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) Likelihood)
</span><span class="">[var|x|]</span></span><span> </span><span class="annot"><span class="annottext">TermD Deps Coin
</span><span class="">[var|c|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Hint (Map (KeyHash 'StakePool) Likelihood)
-&gt; Term (Map (KeyHash 'StakePool) Likelihood) -&gt; Pred
forall t. HasGenHint t =&gt; Hint t -&gt; Term t -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#genHint"><span class="hs-identifier hs-var">genHint</span></a></span><span> </span><span class="annot"><span class="annottext">Hint (Map (KeyHash 'StakePool) Likelihood)
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Term (Map (KeyHash 'StakePool) Likelihood)
</span><a href="#local-6989586621682708416"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term Bool -&gt; Pred
forall p. IsPred p =&gt; p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Term Bool -&gt; Pred) -&gt; Term Bool -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TermD Deps Coin
</span><a href="#local-6989586621682708417"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">TermD Deps Coin -&gt; TermD Deps Coin -&gt; Term Bool
forall a. HasSpec a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">Coin -&gt; TermD Deps Coin
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Coin
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-var">Coin</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-550"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-551"></span><span>
</span><span id="line-552"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#getPoolDistr"><span class="hs-identifier hs-type">getPoolDistr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682705853"><span class="annot"><a href="#local-6989586621682705853"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#EpochState"><span class="hs-identifier hs-type">EpochState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705853"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.PoolDistr.html#PoolDistr"><span class="hs-identifier hs-type">PoolDistr</span></a></span><span>
</span><span id="line-553"></span><span id="getPoolDistr"><span class="annot"><span class="annottext">getPoolDistr :: forall era. EpochState era -&gt; PoolDistr
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#getPoolDistr"><span class="hs-identifier hs-var hs-var">getPoolDistr</span></a></span></span><span> </span><span id="local-6989586621682708420"><span class="annot"><span class="annottext">EpochState era
</span><a href="#local-6989586621682708420"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SnapShots -&gt; PoolDistr
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.SnapShots.html#%24sel%3AssStakeMarkPoolDistr%3ASnapShots"><span class="hs-identifier hs-var">ssStakeMarkPoolDistr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpochState era -&gt; SnapShots
forall era. EpochState era -&gt; SnapShots
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#esSnapshots"><span class="hs-identifier hs-var">esSnapshots</span></a></span><span> </span><span class="annot"><span class="annottext">EpochState era
</span><a href="#local-6989586621682708420"><span class="hs-identifier hs-var">es</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-554"></span><span>
</span><span id="line-555"></span><span class="hs-comment">-- | Used for Eras where StashedAVVMAddresses era ~ () (Allegra,Mary,Alonzo,Babbage,Conway)</span><span>
</span><span id="line-556"></span><span class="hs-comment">-- The 'newEpochStateSpec' method (of (EraSpecLedger era) class) in the instances for (Allegra,Mary,Alonzo,Babbage,Conway)</span><span>
</span><span id="line-557"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#newEpochStateSpec"><span class="hs-identifier hs-type">newEpochStateSpec</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-558"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682705856"><span class="annot"><a href="#local-6989586621682705856"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-559"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#HasSpec"><span class="hs-identifier hs-type">HasSpec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Stake.html#InstantStake"><span class="hs-identifier hs-type">InstantStake</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705856"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-560"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682705856"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#ConwayEra"><span class="hs-identifier hs-type">ConwayEra</span></a></span><span>
</span><span id="line-561"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-562"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.PParams.html#PParams"><span class="hs-identifier hs-type">PParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705856"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-563"></span><span>  </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.WitnessUniverse.html#WitUniv"><span class="hs-identifier hs-type">WitUniv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705856"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-564"></span><span>  </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#CertContext"><span class="hs-identifier hs-type">CertContext</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-565"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Specification"><span class="hs-identifier hs-type">Specification</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#NewEpochState"><span class="hs-identifier hs-type">NewEpochState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705856"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-566"></span><span id="newEpochStateSpec"><span class="annot"><span class="annottext">newEpochStateSpec :: forall era.
(HasSpec (InstantStake era), era ~ ConwayEra) =&gt;
PParams era
-&gt; WitUniv era -&gt; CertContext -&gt; Specification (NewEpochState era)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#newEpochStateSpec"><span class="hs-identifier hs-var hs-var">newEpochStateSpec</span></a></span></span><span> </span><span id="local-6989586621682708582"><span class="annot"><span class="annottext">PParams era
</span><a href="#local-6989586621682708582"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span id="local-6989586621682708583"><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682708583"><span class="hs-identifier hs-var">univ</span></a></span></span><span> </span><span id="local-6989586621682708584"><span class="annot"><span class="annottext">CertContext
</span><a href="#local-6989586621682708584"><span class="hs-identifier hs-var">certctx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-567"></span><span>  </span><span class="annot"><span class="annottext">(Term (NewEpochState era) -&gt; Pred)
-&gt; Specification (NewEpochState era)
forall a p.
(IsPred p, HasSpec a) =&gt;
(Term a -&gt; p) -&gt; Specification a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#constrained"><span class="hs-identifier hs-var">constrained</span></a></span><span>
</span><span id="line-568"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term (NewEpochState era)
</span><span class="">[var|newEpochState|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-569"></span><span>        </span><span class="annot"><span class="annottext">Term (NewEpochState era)
-&gt; FunTy (MapList Term (ProductAsList (NewEpochState era))) [Pred]
-&gt; Pred
forall p a.
(IsProductType a, IsPred p, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term a -&gt; FunTy (MapList Term (ProductAsList a)) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#match"><span class="hs-identifier hs-var">match</span></a></span><span>
</span><span id="line-570"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term (NewEpochState era)
</span><a href="#local-6989586621682708585"><span class="hs-identifier hs-var">newEpochState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#NewEpochState"><span class="hs-identifier hs-type">NewEpochState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682705856"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-571"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term EpochNo
</span><span class="">[var|eno|]</span></span><span> </span><span class="annot"><span class="annottext">Term BlocksMade
</span><span class="">[var|blocksPrev|]</span></span><span> </span><span class="annot"><span class="annottext">Term BlocksMade
</span><span class="">[var|blocksCurr|]</span></span><span> </span><span class="annot"><span class="annottext">Term (EpochState era)
</span><span class="">[var|epochstate|]</span></span><span> </span><span id="local-6989586621682708590"><span class="annot"><span class="annottext">TermD Deps (StrictMaybe PulsingRewUpdate)
</span><a href="#local-6989586621682708590"><span class="hs-identifier hs-var">_mpulser</span></a></span></span><span> </span><span class="annot"><span class="annottext">Term PoolDistr
</span><span class="">[var|pooldistr|]</span></span><span> </span><span class="annot"><span class="annottext">TermD Deps ()
</span><span class="">[var|stashAvvm|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-572"></span><span>              </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Term (EpochState era) -&gt; Specification (EpochState era) -&gt; Pred
forall a. HasSpec a =&gt; Term a -&gt; Specification a -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Conformance.html#satisfies"><span class="hs-identifier hs-var">satisfies</span></a></span><span> </span><span class="annot"><span class="annottext">Term (EpochState era)
</span><a href="#local-6989586621682708589"><span class="hs-identifier hs-var">epochstate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era.
(HasSpec (InstantStake era), era ~ ConwayEra) =&gt;
PParams era
-&gt; WitUniv era
-&gt; CertContext
-&gt; Term EpochNo
-&gt; Specification (EpochState era)
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#epochStateSpec"><span class="hs-identifier hs-var">epochStateSpec</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621682705856"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><span class="annottext">PParams era
</span><a href="#local-6989586621682708582"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="annot"><span class="annottext">WitUniv era
</span><a href="#local-6989586621682708583"><span class="hs-identifier hs-var">univ</span></a></span><span> </span><span class="annot"><span class="annottext">CertContext
</span><a href="#local-6989586621682708584"><span class="hs-identifier hs-var">certctx</span></a></span><span> </span><span class="annot"><span class="annottext">Term EpochNo
</span><a href="#local-6989586621682708586"><span class="hs-identifier hs-var">eno</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-573"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TermD Deps () -&gt; Specification () -&gt; Pred
forall a. HasSpec a =&gt; Term a -&gt; Specification a -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Conformance.html#satisfies"><span class="hs-identifier hs-var">satisfies</span></a></span><span> </span><span class="annot"><span class="annottext">TermD Deps ()
</span><a href="#local-6989586621682708592"><span class="hs-identifier hs-var">stashAvvm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TermD Deps () -&gt; Term Bool) -&gt; Specification ()
forall a p.
(IsPred p, HasSpec a) =&gt;
(Term a -&gt; p) -&gt; Specification a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Base.html#constrained"><span class="hs-identifier hs-var">constrained</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">TermD Deps ()
</span><span class="">[var|x|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermD Deps ()
</span><a href="#local-6989586621682708593"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">TermD Deps () -&gt; TermD Deps () -&gt; Term Bool
forall a. HasSpec a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">() -&gt; TermD Deps ()
forall a. HasSpec a =&gt; a -&gt; Term a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#lit"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-574"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term (EpochState era)
-&gt; (EpochState era -&gt; PoolDistr)
-&gt; (Term PoolDistr -&gt; Term Bool)
-&gt; Pred
forall a b p.
(HasSpec a, HasSpec b, IsPred p) =&gt;
Term a -&gt; (a -&gt; b) -&gt; (Term b -&gt; p) -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#reify"><span class="hs-identifier hs-var">reify</span></a></span><span> </span><span class="annot"><span class="annottext">Term (EpochState era)
</span><a href="#local-6989586621682708589"><span class="hs-identifier hs-var">epochstate</span></a></span><span> </span><span class="annot"><span class="annottext">EpochState era -&gt; PoolDistr
forall era. EpochState era -&gt; PoolDistr
</span><a href="Test.Cardano.Ledger.Constrained.Conway.LedgerTypes.Specs.html#getPoolDistr"><span class="hs-identifier hs-var">getPoolDistr</span></a></span><span> </span><span class="annot"><span class="annottext">((Term PoolDistr -&gt; Term Bool) -&gt; Pred)
-&gt; (Term PoolDistr -&gt; Term Bool) -&gt; Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Term PoolDistr
</span><span class="">[var|pd|]</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term PoolDistr
</span><a href="#local-6989586621682708591"><span class="hs-identifier hs-var">pooldistr</span></a></span><span> </span><span class="annot"><span class="annottext">Term PoolDistr -&gt; Term PoolDistr -&gt; Term Bool
forall a. HasSpec a =&gt; Term a -&gt; Term a -&gt; Term Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Generation.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">Term PoolDistr
</span><a href="#local-6989586621682708594"><span class="hs-identifier hs-var">pd</span></a></span><span>
</span><span id="line-575"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term BlocksMade
-&gt; FunTy (MapList Term (ProductAsList BlocksMade)) Pred -&gt; Pred
forall p a.
(IsProductType a, IsPred p, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term a -&gt; FunTy (MapList Term (ProductAsList a)) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#match"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">Term BlocksMade
</span><a href="#local-6989586621682708587"><span class="hs-identifier hs-var">blocksPrev</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hint (Map (KeyHash 'StakePool) Natural)
-&gt; Term (Map (KeyHash 'StakePool) Natural) -&gt; Pred
forall t. HasGenHint t =&gt; Hint t -&gt; Term t -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#genHint"><span class="hs-identifier hs-var">genHint</span></a></span><span> </span><span class="annot"><span class="annottext">Hint (Map (KeyHash 'StakePool) Natural)
</span><span class="hs-number">3</span></span><span class="hs-special">)</span><span>
</span><span id="line-576"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term BlocksMade
-&gt; FunTy (MapList Term (ProductAsList BlocksMade)) Pred -&gt; Pred
forall p a.
(IsProductType a, IsPred p, GenericRequires a,
 ProdAsListComputes a) =&gt;
Term a -&gt; FunTy (MapList Term (ProductAsList a)) p -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Spec.SumProd.html#match"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">Term BlocksMade
</span><a href="#local-6989586621682708588"><span class="hs-identifier hs-var">blocksCurr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hint (Map (KeyHash 'StakePool) Natural)
-&gt; Term (Map (KeyHash 'StakePool) Natural) -&gt; Pred
forall t. HasGenHint t =&gt; Hint t -&gt; Term t -&gt; Pred
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/constrained-generators-0.2.0.0-a0c7d75978627f49258699daf8c17a7f49f5b60eeaa417a898754ac71d176649/share/doc/html/src/Constrained.Syntax.html#genHint"><span class="hs-identifier hs-var">genHint</span></a></span><span> </span><span class="annot"><span class="annottext">Hint (Map (KeyHash 'StakePool) Natural)
</span><span class="hs-number">3</span></span><span class="hs-special">)</span><span>
</span><span id="line-577"></span><span>              </span><span class="hs-special">]</span><span>
</span><span id="line-578"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-579"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-580"></span></pre></body></html>