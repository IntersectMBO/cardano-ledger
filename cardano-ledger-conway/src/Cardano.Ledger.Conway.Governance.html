<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE BangPatterns #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE DerivingVia #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE RecordWildCards #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE StandaloneDeriving #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-14"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators #-}</span><span>
</span><span id="line-15"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-16"></span><span class="hs-pragma">{-# LANGUAGE UndecidableSuperClasses #-}</span><span>
</span><span id="line-17"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-orphans #-}</span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Cardano.Ledger.Conway.Governance</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-20"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Governance.html#EraGov"><span class="hs-identifier">EraGov</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#EnactState"><span class="hs-identifier">EnactState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#RatifyState"><span class="hs-identifier">RatifyState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#RatifyEnv"><span class="hs-identifier">RatifyEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#RatifySignal"><span class="hs-identifier">RatifySignal</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier">ConwayGovState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#predictFuturePParams"><span class="hs-identifier">predictFuturePParams</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#Committee"><span class="hs-identifier">Committee</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#committeeMembersL"><span class="hs-identifier">committeeMembersL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#committeeThresholdL"><span class="hs-identifier">committeeThresholdL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#authorizedElectedHotCommitteeCredentials"><span class="hs-identifier">authorizedElectedHotCommitteeCredentials</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#GovAction"><span class="hs-identifier">GovAction</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#GovActionState"><span class="hs-identifier">GovActionState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#GovActionIx"><span class="hs-identifier">GovActionIx</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#GovActionId"><span class="hs-identifier">GovActionId</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#GovActionPurpose"><span class="hs-identifier">GovActionPurpose</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#ToGovActionPurpose"><span class="hs-identifier">ToGovActionPurpose</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#isGovActionWithPurpose"><span class="hs-identifier">isGovActionWithPurpose</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#DRepPulsingState"><span class="hs-identifier">DRepPulsingState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#DRepPulser"><span class="hs-identifier">DRepPulser</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#govActionIdToText"><span class="hs-identifier">govActionIdToText</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#Voter"><span class="hs-identifier">Voter</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#Vote"><span class="hs-identifier">Vote</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#VotingProcedure"><span class="hs-identifier">VotingProcedure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#VotingProcedures"><span class="hs-identifier">VotingProcedures</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#foldlVotingProcedures"><span class="hs-identifier">foldlVotingProcedures</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-46"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#foldrVotingProcedures"><span class="hs-identifier">foldrVotingProcedures</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#ProposalProcedure"><span class="hs-identifier">ProposalProcedure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.BaseTypes.html#Anchor"><span class="hs-identifier">Anchor</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.BaseTypes.html#AnchorData"><span class="hs-identifier">AnchorData</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#indexedGovProps"><span class="hs-identifier">indexedGovProps</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#Constitution"><span class="hs-identifier">Constitution</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayEraGov"><span class="hs-identifier">ConwayEraGov</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-53"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#votingStakePoolThreshold"><span class="hs-identifier">votingStakePoolThreshold</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-54"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#votingDRepThreshold"><span class="hs-identifier">votingDRepThreshold</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-55"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#votingCommitteeThreshold"><span class="hs-identifier">votingCommitteeThreshold</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#isStakePoolVotingAllowed"><span class="hs-identifier">isStakePoolVotingAllowed</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#isDRepVotingAllowed"><span class="hs-identifier">isDRepVotingAllowed</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-58"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#isCommitteeVotingAllowed"><span class="hs-identifier">isCommitteeVotingAllowed</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-59"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#reorderActions"><span class="hs-identifier">reorderActions</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-60"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#actionPriority"><span class="hs-identifier">actionPriority</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-61"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#Proposals"><span class="hs-identifier">Proposals</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-62"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#mkProposals"><span class="hs-identifier">mkProposals</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-63"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#unsafeMkProposals"><span class="hs-identifier">unsafeMkProposals</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-64"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#GovPurposeId"><span class="hs-identifier">GovPurposeId</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-65"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#PRoot"><span class="hs-identifier">PRoot</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-66"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#PEdges"><span class="hs-identifier">PEdges</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-67"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#PGraph"><span class="hs-identifier">PGraph</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-68"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#pRootsL"><span class="hs-identifier">pRootsL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-69"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#pPropsL"><span class="hs-identifier">pPropsL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-70"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#prRootL"><span class="hs-identifier">prRootL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-71"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#prChildrenL"><span class="hs-identifier">prChildrenL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-72"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#peChildrenL"><span class="hs-identifier">peChildrenL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-73"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#pGraphL"><span class="hs-identifier">pGraphL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-74"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#pGraphNodesL"><span class="hs-identifier">pGraphNodesL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-75"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#GovRelation"><span class="hs-identifier">GovRelation</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-76"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#hoistGovRelation"><span class="hs-identifier">hoistGovRelation</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-77"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#withGovActionParent"><span class="hs-identifier">withGovActionParent</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-78"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#toPrevGovActionIds"><span class="hs-identifier">toPrevGovActionIds</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-79"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#fromPrevGovActionIds"><span class="hs-identifier">fromPrevGovActionIds</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-80"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#grPParamUpdateL"><span class="hs-identifier">grPParamUpdateL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-81"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#grHardForkL"><span class="hs-identifier">grHardForkL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-82"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#grCommitteeL"><span class="hs-identifier">grCommitteeL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-83"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#grConstitutionL"><span class="hs-identifier">grConstitutionL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-84"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#proposalsActions"><span class="hs-identifier">proposalsActions</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-85"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#proposalsDeposits"><span class="hs-identifier">proposalsDeposits</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-86"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#proposalsAddAction"><span class="hs-identifier">proposalsAddAction</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-87"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#proposalsRemoveWithDescendants"><span class="hs-identifier">proposalsRemoveWithDescendants</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-88"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#proposalsAddVote"><span class="hs-identifier">proposalsAddVote</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-89"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#proposalsIds"><span class="hs-identifier">proposalsIds</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-90"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#proposalsApplyEnactment"><span class="hs-identifier">proposalsApplyEnactment</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-91"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#proposalsSize"><span class="hs-identifier">proposalsSize</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-92"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#proposalsLookupId"><span class="hs-identifier">proposalsLookupId</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-93"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#proposalsActionsMap"><span class="hs-identifier">proposalsActionsMap</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-94"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#proposalsWithPurpose"><span class="hs-identifier">proposalsWithPurpose</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-95"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#cgsProposalsL"><span class="hs-identifier">cgsProposalsL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-96"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#cgsDRepPulsingStateL"><span class="hs-identifier">cgsDRepPulsingStateL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-97"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#cgsCurPParamsL"><span class="hs-identifier">cgsCurPParamsL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-98"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#cgsPrevPParamsL"><span class="hs-identifier">cgsPrevPParamsL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-99"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#cgsFuturePParamsL"><span class="hs-identifier">cgsFuturePParamsL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-100"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#cgsCommitteeL"><span class="hs-identifier">cgsCommitteeL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-101"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#cgsConstitutionL"><span class="hs-identifier">cgsConstitutionL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-102"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#ensCommitteeL"><span class="hs-identifier">ensCommitteeL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-103"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#ensConstitutionL"><span class="hs-identifier">ensConstitutionL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-104"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#ensCurPParamsL"><span class="hs-identifier">ensCurPParamsL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-105"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#ensPrevPParamsL"><span class="hs-identifier">ensPrevPParamsL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-106"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#ensWithdrawalsL"><span class="hs-identifier">ensWithdrawalsL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-107"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#ensTreasuryL"><span class="hs-identifier">ensTreasuryL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-108"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#ensPrevGovActionIdsL"><span class="hs-identifier">ensPrevGovActionIdsL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-109"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#ensPrevPParamUpdateL"><span class="hs-identifier">ensPrevPParamUpdateL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-110"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#ensPrevHardForkL"><span class="hs-identifier">ensPrevHardForkL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-111"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#ensPrevCommitteeL"><span class="hs-identifier">ensPrevCommitteeL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-112"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#ensPrevConstitutionL"><span class="hs-identifier">ensPrevConstitutionL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-113"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#ensProtVerL"><span class="hs-identifier">ensProtVerL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-114"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#rsEnactStateL"><span class="hs-identifier">rsEnactStateL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-115"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#rsExpiredL"><span class="hs-identifier">rsExpiredL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-116"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#rsEnactedL"><span class="hs-identifier">rsEnactedL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-117"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#rsDelayedL"><span class="hs-identifier">rsDelayedL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-118"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#constitutionScriptL"><span class="hs-identifier">constitutionScriptL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-119"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#constitutionAnchorL"><span class="hs-identifier">constitutionAnchorL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-120"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#gasIdL"><span class="hs-identifier">gasIdL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-121"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#gasDepositL"><span class="hs-identifier">gasDepositL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-122"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#gasCommitteeVotesL"><span class="hs-identifier">gasCommitteeVotesL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-123"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#gasDRepVotesL"><span class="hs-identifier">gasDRepVotesL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-124"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#gasStakePoolVotesL"><span class="hs-identifier">gasStakePoolVotesL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-125"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#gasExpiresAfterL"><span class="hs-identifier">gasExpiresAfterL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-126"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#gasActionL"><span class="hs-identifier">gasActionL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-127"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#gasReturnAddrL"><span class="hs-identifier">gasReturnAddrL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-128"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#gasProposedInL"><span class="hs-identifier">gasProposedInL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-129"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#gasProposalProcedureL"><span class="hs-identifier">gasProposalProcedureL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-130"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#gasDeposit"><span class="hs-identifier">gasDeposit</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-131"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#gasAction"><span class="hs-identifier">gasAction</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-132"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#gasReturnAddr"><span class="hs-identifier">gasReturnAddr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-133"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#pProcDepositL"><span class="hs-identifier">pProcDepositL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-134"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#pProcGovActionL"><span class="hs-identifier">pProcGovActionL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-135"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#pProcReturnAddrL"><span class="hs-identifier">pProcReturnAddrL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-136"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#pProcAnchorL"><span class="hs-identifier">pProcAnchorL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-137"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#newEpochStateDRepPulsingStateL"><span class="hs-identifier">newEpochStateDRepPulsingStateL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-138"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#epochStateDRepPulsingStateL"><span class="hs-identifier">epochStateDRepPulsingStateL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-139"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#epochStateStakeDistrL"><span class="hs-identifier">epochStateStakeDistrL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-140"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.State.CertState.html#epochStateRegDrepL"><span class="hs-identifier">epochStateRegDrepL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-141"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#pulseDRepPulsingState"><span class="hs-identifier">pulseDRepPulsingState</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-142"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#completeDRepPulsingState"><span class="hs-identifier">completeDRepPulsingState</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-143"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#extractDRepPulsingState"><span class="hs-identifier">extractDRepPulsingState</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-144"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#forceDRepPulsingState"><span class="hs-identifier">forceDRepPulsingState</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-145"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#finishDRepPulser"><span class="hs-identifier">finishDRepPulser</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-146"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#computeDRepDistr"><span class="hs-identifier">computeDRepDistr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-147"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#getRatifyState"><span class="hs-identifier">getRatifyState</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-148"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#conwayGovStateDRepDistrG"><span class="hs-identifier">conwayGovStateDRepDistrG</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-149"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#psDRepDistrG"><span class="hs-identifier">psDRepDistrG</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-150"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#PulsingSnapshot"><span class="hs-identifier">PulsingSnapshot</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-151"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#setCompleteDRepPulsingState"><span class="hs-identifier">setCompleteDRepPulsingState</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-152"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#setFreshDRepPulsingState"><span class="hs-identifier">setFreshDRepPulsingState</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-153"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#psProposalsL"><span class="hs-identifier">psProposalsL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-154"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#psDRepDistrL"><span class="hs-identifier">psDRepDistrL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-155"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#psDRepStateL"><span class="hs-identifier">psDRepStateL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-156"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#psPoolDistrL"><span class="hs-identifier">psPoolDistrL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-157"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#RunConwayRatify"><span class="hs-identifier">RunConwayRatify</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-158"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#govStatePrevGovActionIds"><span class="hs-identifier">govStatePrevGovActionIds</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-159"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#mkEnactState"><span class="hs-identifier">mkEnactState</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-160"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#ratifySignalL"><span class="hs-identifier">ratifySignalL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-161"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#reDRepDistrL"><span class="hs-identifier">reDRepDistrL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-162"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#reDRepStateL"><span class="hs-identifier">reDRepStateL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-163"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#reCurrentEpochL"><span class="hs-identifier">reCurrentEpochL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-164"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#reCommitteeStateL"><span class="hs-identifier">reCommitteeStateL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-165"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#DefaultVote"><span class="hs-identifier">DefaultVote</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-166"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#defaultStakePoolVote"><span class="hs-identifier">defaultStakePoolVote</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-167"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#translateProposals"><span class="hs-identifier">translateProposals</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-168"></span><span>
</span><span id="line-169"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Exported for testing</span></span><span>
</span><span id="line-170"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#pparamsUpdateThreshold"><span class="hs-identifier">pparamsUpdateThreshold</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-171"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#TreeMaybe"><span class="hs-identifier">TreeMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-172"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#toGovRelationTree"><span class="hs-identifier">toGovRelationTree</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-173"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#toGovRelationTreeEither"><span class="hs-identifier">toGovRelationTreeEither</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-174"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#showGovActionType"><span class="hs-identifier">showGovActionType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-175"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-176"></span><span>
</span><span id="line-177"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Address.html"><span class="hs-identifier">Cardano.Ledger.Address</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Address.html#RewardAccount"><span class="hs-identifier">RewardAccount</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Address.html#raCredential"><span class="hs-identifier">raCredential</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-178"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.BaseTypes.html"><span class="hs-identifier">Cardano.Ledger.BaseTypes</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-179"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-slotting-0.2.0.1-cbaa0d455a08b054bafb132b87b34221d87bbbacf98d60661b1ed3cfc20b13c4/share/doc/html/src/Cardano.Slotting.Slot.html#EpochNo"><span class="hs-identifier">EpochNo</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-180"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.BaseTypes.html#Globals"><span class="hs-identifier">Globals</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-181"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.BaseTypes.html#KeyValuePairs"><span class="hs-identifier">KeyValuePairs</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-182"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-strict-containers-0.1.5.0-d2741b9ef9564f4a1a3151d17a0f69b9663f5795dd47dab0bbd6117738fcce96/share/doc/html/src/Data.Maybe.Strict.html#StrictMaybe"><span class="hs-identifier">StrictMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-183"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.BaseTypes.html#ToKeyValuePairs"><span class="hs-identifier">ToKeyValuePairs</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-184"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.BaseTypes.NonZero.html#knownNonZero"><span class="hs-identifier">knownNonZero</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-185"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.BaseTypes.NonZero.html#mulNonZero"><span class="hs-identifier">mulNonZero</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-186"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.BaseTypes.NonZero.html#toIntegerNonZero"><span class="hs-identifier">toIntegerNonZero</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-187"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.BaseTypes.NonZero.html#%25."><span class="hs-operator">(%.)</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-188"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.html"><span class="hs-identifier">Cardano.Ledger.Binary</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-190"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#DecCBOR"><span class="hs-identifier">DecCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-191"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#DecShareCBOR"><span class="hs-identifier">DecShareCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-192"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#EncCBOR"><span class="hs-identifier">EncCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-193"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-binary-1.7.2.0-a8823886ffd0b2d51904ce75fd27e0a08a953fdc80b3ee2bc40708ca6dbab289/share/doc/html/src/Cardano.Binary.FromCBOR.html#FromCBOR"><span class="hs-identifier">FromCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-194"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#Interns"><span class="hs-identifier">Interns</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-195"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-binary-1.7.2.0-a8823886ffd0b2d51904ce75fd27e0a08a953fdc80b3ee2bc40708ca6dbab289/share/doc/html/src/Cardano.Binary.ToCBOR.html#ToCBOR"><span class="hs-identifier">ToCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-196"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#decNoShareCBOR"><span class="hs-identifier">decNoShareCBOR</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-197"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Decoder.html#decodeRecordNamedT"><span class="hs-identifier">decodeRecordNamedT</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-198"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-199"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Coders.html"><span class="hs-identifier">Cardano.Ledger.Binary.Coders</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-200"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Coders.html#Encode"><span class="hs-identifier">Encode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-201"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Coders.html#encode"><span class="hs-identifier">encode</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-202"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Coders.html#%21%3E"><span class="hs-operator">(!&gt;)</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-203"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-204"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Plain.html"><span class="hs-identifier">Cardano.Ledger.Binary.Plain</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-205"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cborg-0.2.10.0-3e31f6cf34ff469fb38d9399ae33f1b7220bc22b21ee079efc2a64b820f9d556/share/doc/html/src/Codec.CBOR.Decoding.html#decodeWord8"><span class="hs-identifier">decodeWord8</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-206"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cborg-0.2.10.0-3e31f6cf34ff469fb38d9399ae33f1b7220bc22b21ee079efc2a64b820f9d556/share/doc/html/src/Codec.CBOR.Encoding.html#encodeWord8"><span class="hs-identifier">encodeWord8</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-207"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html"><span class="hs-identifier">Cardano.Ledger.Coin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier">Coin</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-209"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Compactible.html"><span class="hs-identifier">Cardano.Ledger.Compactible</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Compactible.html#CompactForm"><span class="hs-identifier">CompactForm</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-210"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Ledger.Conway.Era.html"><span class="hs-identifier">Cardano.Ledger.Conway.Era</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#ConwayEra"><span class="hs-identifier">ConwayEra</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-211"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html"><span class="hs-identifier">Cardano.Ledger.Conway.Governance.DRepPulser</span></a></span><span>
</span><span id="line-212"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html"><span class="hs-identifier">Cardano.Ledger.Conway.Governance.Internal</span></a></span><span>
</span><span id="line-213"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html"><span class="hs-identifier">Cardano.Ledger.Conway.Governance.Procedures</span></a></span><span>
</span><span id="line-214"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html"><span class="hs-identifier">Cardano.Ledger.Conway.Governance.Proposals</span></a></span><span>
</span><span id="line-215"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Ledger.Conway.State.html"><span class="hs-identifier">Cardano.Ledger.Conway.State</span></a></span><span>
</span><span id="line-216"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.html"><span class="hs-identifier">Cardano.Ledger.Core</span></a></span><span>
</span><span id="line-217"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html"><span class="hs-identifier">Cardano.Ledger.Credential</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier">Credential</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-218"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.html"><span class="hs-identifier">Cardano.Ledger.Shelley.LedgerState</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-219"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#EpochState"><span class="hs-identifier">EpochState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-220"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#NewEpochState"><span class="hs-identifier">NewEpochState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-221"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#epochStateGovStateL"><span class="hs-identifier">epochStateGovStateL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-222"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#epochStateStakePoolsL"><span class="hs-identifier">epochStateStakePoolsL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-223"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#esLStateL"><span class="hs-identifier">esLStateL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-224"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#lsCertState"><span class="hs-identifier">lsCertState</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-225"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#lsUTxOState"><span class="hs-identifier">lsUTxOState</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-226"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#newEpochStateGovStateL"><span class="hs-identifier">newEpochStateGovStateL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-227"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-228"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Val.html"><span class="hs-identifier">Cardano.Ledger.Val</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Val.html#Val"><span class="hs-identifier">Val</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-229"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.DeepSeq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">NFData</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-230"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">guard</span></span><span class="hs-special">)</span><span>
</span><span id="line-231"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans</span></span><span>
</span><span id="line-232"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Reader</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ReaderT</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ask</span></span><span class="hs-special">)</span><span>
</span><span id="line-233"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.html"><span class="hs-identifier">Data.Aeson</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#ToJSON"><span class="hs-identifier">ToJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#.%3D"><span class="hs-operator">(.=)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-234"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-default-0.8.0.1-9291b190c5bc542cf17f99ce44e9365d143d76b9889465ad3d362701e6cc609e/share/doc/html/src/Data.Default.html"><span class="hs-identifier">Data.Default</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-default-0.8.0.1-9291b190c5bc542cf17f99ce44e9365d143d76b9889465ad3d362701e6cc609e/share/doc/html/src/Data.Default.Internal.html#Default"><span class="hs-identifier">Default</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-235"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Foldable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Foldable</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-236"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map.Strict</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Map</span></span><span class="hs-special">)</span><span>
</span><span id="line-237"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map.Strict</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-238"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-239"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Generics</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Generic</span></span><span class="hs-special">)</span><span>
</span><span id="line-240"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html"><span class="hs-identifier">Lens.Micro</span></a></span><span>
</span><span id="line-241"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Extras.html"><span class="hs-identifier">Lens.Micro.Extras</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Extras.html#view"><span class="hs-identifier">view</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-242"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/nothunks-0.2.1.1-0663c3283fb5dee9e67d41860072fab0227b6d69ef882303baddf309058f8618/share/doc/html/src/NoThunks.Class.html"><span class="hs-identifier">NoThunks.Class</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/nothunks-0.2.1.1-0663c3283fb5dee9e67d41860072fab0227b6d69ef882303baddf309058f8618/share/doc/html/src/NoThunks.Class.html#NoThunks"><span class="hs-identifier">NoThunks</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-243"></span><span>
</span><span id="line-244"></span><span class="annot"><span class="hs-comment">-- | Conway governance state</span></span><span>
</span><span id="line-245"></span><span class="hs-keyword">data</span><span> </span><span id="ConwayGovState"><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-var">ConwayGovState</span></a></span></span><span> </span><span id="local-6989586621679629597"><span class="annot"><a href="#local-6989586621679629597"><span class="hs-identifier hs-type">era</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ConwayGovState"><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-var">ConwayGovState</span></a></span></span><span>
</span><span id="line-246"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="cgsProposals"><span class="annot"><span class="annottext">forall era. ConwayGovState era -&gt; Proposals era
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsProposals"><span class="hs-identifier hs-var hs-var">cgsProposals</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#Proposals"><span class="hs-identifier hs-type">Proposals</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629597"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-247"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="cgsCommittee"><span class="annot"><span class="annottext">forall era. ConwayGovState era -&gt; StrictMaybe (Committee era)
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsCommittee"><span class="hs-identifier hs-var hs-var">cgsCommittee</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-strict-containers-0.1.5.0-d2741b9ef9564f4a1a3151d17a0f69b9663f5795dd47dab0bbd6117738fcce96/share/doc/html/src/Data.Maybe.Strict.html#StrictMaybe"><span class="hs-identifier hs-type">StrictMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#Committee"><span class="hs-identifier hs-type">Committee</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629597"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-248"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="cgsConstitution"><span class="annot"><span class="annottext">forall era. ConwayGovState era -&gt; Constitution era
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsConstitution"><span class="hs-identifier hs-var hs-var">cgsConstitution</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#Constitution"><span class="hs-identifier hs-type">Constitution</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629597"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-249"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="cgsCurPParams"><span class="annot"><span class="annottext">forall era. ConwayGovState era -&gt; PParams era
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsCurPParams"><span class="hs-identifier hs-var hs-var">cgsCurPParams</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.PParams.html#PParams"><span class="hs-identifier hs-type">PParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629597"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-250"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="cgsPrevPParams"><span class="annot"><span class="annottext">forall era. ConwayGovState era -&gt; PParams era
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsPrevPParams"><span class="hs-identifier hs-var hs-var">cgsPrevPParams</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.PParams.html#PParams"><span class="hs-identifier hs-type">PParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629597"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-251"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="cgsFuturePParams"><span class="annot"><span class="annottext">forall era. ConwayGovState era -&gt; FuturePParams era
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsFuturePParams"><span class="hs-identifier hs-var hs-var">cgsFuturePParams</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Governance.html#FuturePParams"><span class="hs-identifier hs-type">FuturePParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629597"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-252"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="cgsDRepPulsingState"><span class="annot"><span class="annottext">forall era. ConwayGovState era -&gt; DRepPulsingState era
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsDRepPulsingState"><span class="hs-identifier hs-var hs-var">cgsDRepPulsingState</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#DRepPulsingState"><span class="hs-identifier hs-type">DRepPulsingState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629597"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-253"></span><span>  </span><span class="hs-comment">-- ^ The 'cgsDRepPulsingState' field is a pulser that incrementally computes the stake</span><span>
</span><span id="line-254"></span><span>  </span><span class="hs-comment">-- distribution of the DReps over the Epoch following the close of voting at end of</span><span>
</span><span id="line-255"></span><span>  </span><span class="hs-comment">-- the previous Epoch. It assembles this with some of its other internal components</span><span>
</span><span id="line-256"></span><span>  </span><span class="hs-comment">-- into a (RatifyEnv era) when it completes, and then calls the RATIFY rule and</span><span>
</span><span id="line-257"></span><span>  </span><span class="hs-comment">-- eventually returns the updated RatifyState. The pulser is created at the Epoch</span><span>
</span><span id="line-258"></span><span>  </span><span class="hs-comment">-- boundary, but does no work until it is pulsed in the 'NEWEPOCH' rule, whenever the</span><span>
</span><span id="line-259"></span><span>  </span><span class="hs-comment">-- system is NOT at the epoch boundary.</span><span>
</span><span id="line-260"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-261"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679630295"><span id="local-6989586621679630297"><span class="annot"><span class="annottext">(forall x. ConwayGovState era -&gt; Rep (ConwayGovState era) x)
-&gt; (forall x. Rep (ConwayGovState era) x -&gt; ConwayGovState era)
-&gt; Generic (ConwayGovState era)
forall x. Rep (ConwayGovState era) x -&gt; ConwayGovState era
forall x. ConwayGovState era -&gt; Rep (ConwayGovState era) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall era x. Rep (ConwayGovState era) x -&gt; ConwayGovState era
forall era x. ConwayGovState era -&gt; Rep (ConwayGovState era) x
$cfrom :: forall era x. ConwayGovState era -&gt; Rep (ConwayGovState era) x
from :: forall x. ConwayGovState era -&gt; Rep (ConwayGovState era) x
$cto :: forall era x. Rep (ConwayGovState era) x -&gt; ConwayGovState era
to :: forall x. Rep (ConwayGovState era) x -&gt; ConwayGovState era
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679630304"><span id="local-6989586621679630323"><span id="local-6989586621679630327"><span class="annot"><span class="annottext">Int -&gt; ConwayGovState era -&gt; ShowS
[ConwayGovState era] -&gt; ShowS
ConwayGovState era -&gt; String
(Int -&gt; ConwayGovState era -&gt; ShowS)
-&gt; (ConwayGovState era -&gt; String)
-&gt; ([ConwayGovState era] -&gt; ShowS)
-&gt; Show (ConwayGovState era)
forall era.
(EraPParams era, ConwayEraAccounts era, EraStake era) =&gt;
Int -&gt; ConwayGovState era -&gt; ShowS
forall era.
(EraPParams era, ConwayEraAccounts era, EraStake era) =&gt;
[ConwayGovState era] -&gt; ShowS
forall era.
(EraPParams era, ConwayEraAccounts era, EraStake era) =&gt;
ConwayGovState era -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: forall era.
(EraPParams era, ConwayEraAccounts era, EraStake era) =&gt;
Int -&gt; ConwayGovState era -&gt; ShowS
showsPrec :: Int -&gt; ConwayGovState era -&gt; ShowS
$cshow :: forall era.
(EraPParams era, ConwayEraAccounts era, EraStake era) =&gt;
ConwayGovState era -&gt; String
show :: ConwayGovState era -&gt; String
$cshowList :: forall era.
(EraPParams era, ConwayEraAccounts era, EraStake era) =&gt;
[ConwayGovState era] -&gt; ShowS
showList :: [ConwayGovState era] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-262"></span><span>
</span><span id="line-263"></span><span id="local-6989586621679629644"><span id="local-6989586621679630336"><span id="local-6989586621679630353"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.State.Account.html#ConwayEraAccounts"><span class="hs-identifier hs-type">ConwayEraAccounts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629644"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.PParams.html#EraPParams"><span class="hs-identifier hs-type">EraPParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629644"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Stake.html#EraStake"><span class="hs-identifier hs-type">EraStake</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629644"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629644"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-264"></span><span>
</span><span id="line-265"></span><span id="local-6989586621679629646"><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#cgsProposalsL"><span class="hs-identifier hs-type">cgsProposalsL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Type.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629646"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#Proposals"><span class="hs-identifier hs-type">Proposals</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629646"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-266"></span><span id="cgsProposalsL"><span class="annot"><span class="annottext">cgsProposalsL :: forall era (f :: * -&gt; *).
Functor f =&gt;
(Proposals era -&gt; f (Proposals era))
-&gt; ConwayGovState era -&gt; f (ConwayGovState era)
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsProposalsL"><span class="hs-identifier hs-var hs-var">cgsProposalsL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ConwayGovState era -&gt; Proposals era)
-&gt; (ConwayGovState era -&gt; Proposals era -&gt; ConwayGovState era)
-&gt; Lens
     (ConwayGovState era)
     (ConwayGovState era)
     (Proposals era)
     (Proposals era)
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#lens"><span class="hs-identifier hs-var">lens</span></a></span><span> </span><span class="annot"><span class="annottext">ConwayGovState era -&gt; Proposals era
forall era. ConwayGovState era -&gt; Proposals era
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsProposals"><span class="hs-identifier hs-var">cgsProposals</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679630362"><span class="annot"><span class="annottext">ConwayGovState era
</span><a href="#local-6989586621679630362"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679630363"><span class="annot"><span class="annottext">Proposals era
</span><a href="#local-6989586621679630363"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConwayGovState era
</span><a href="#local-6989586621679630362"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#cgsProposals"><span class="hs-identifier hs-var">cgsProposals</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679630363"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-267"></span><span>
</span><span id="line-268"></span><span id="local-6989586621679629654"><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#cgsDRepPulsingStateL"><span class="hs-identifier hs-type">cgsDRepPulsingStateL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Type.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629654"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#DRepPulsingState"><span class="hs-identifier hs-type">DRepPulsingState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629654"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-269"></span><span id="cgsDRepPulsingStateL"><span class="annot"><span class="annottext">cgsDRepPulsingStateL :: forall era (f :: * -&gt; *).
Functor f =&gt;
(DRepPulsingState era -&gt; f (DRepPulsingState era))
-&gt; ConwayGovState era -&gt; f (ConwayGovState era)
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsDRepPulsingStateL"><span class="hs-identifier hs-var hs-var">cgsDRepPulsingStateL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ConwayGovState era -&gt; DRepPulsingState era)
-&gt; (ConwayGovState era
    -&gt; DRepPulsingState era -&gt; ConwayGovState era)
-&gt; Lens
     (ConwayGovState era)
     (ConwayGovState era)
     (DRepPulsingState era)
     (DRepPulsingState era)
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#lens"><span class="hs-identifier hs-var">lens</span></a></span><span> </span><span class="annot"><span class="annottext">ConwayGovState era -&gt; DRepPulsingState era
forall era. ConwayGovState era -&gt; DRepPulsingState era
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsDRepPulsingState"><span class="hs-identifier hs-var">cgsDRepPulsingState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679630366"><span class="annot"><span class="annottext">ConwayGovState era
</span><a href="#local-6989586621679630366"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679630367"><span class="annot"><span class="annottext">DRepPulsingState era
</span><a href="#local-6989586621679630367"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConwayGovState era
</span><a href="#local-6989586621679630366"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#cgsDRepPulsingState"><span class="hs-identifier hs-var">cgsDRepPulsingState</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679630367"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-270"></span><span>
</span><span id="line-271"></span><span id="local-6989586621679629657"><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#cgsCommitteeL"><span class="hs-identifier hs-type">cgsCommitteeL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Type.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629657"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-strict-containers-0.1.5.0-d2741b9ef9564f4a1a3151d17a0f69b9663f5795dd47dab0bbd6117738fcce96/share/doc/html/src/Data.Maybe.Strict.html#StrictMaybe"><span class="hs-identifier hs-type">StrictMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#Committee"><span class="hs-identifier hs-type">Committee</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629657"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-272"></span><span id="cgsCommitteeL"><span class="annot"><span class="annottext">cgsCommitteeL :: forall era (f :: * -&gt; *).
Functor f =&gt;
(StrictMaybe (Committee era) -&gt; f (StrictMaybe (Committee era)))
-&gt; ConwayGovState era -&gt; f (ConwayGovState era)
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsCommitteeL"><span class="hs-identifier hs-var hs-var">cgsCommitteeL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ConwayGovState era -&gt; StrictMaybe (Committee era))
-&gt; (ConwayGovState era
    -&gt; StrictMaybe (Committee era) -&gt; ConwayGovState era)
-&gt; Lens
     (ConwayGovState era)
     (ConwayGovState era)
     (StrictMaybe (Committee era))
     (StrictMaybe (Committee era))
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#lens"><span class="hs-identifier hs-var">lens</span></a></span><span> </span><span class="annot"><span class="annottext">ConwayGovState era -&gt; StrictMaybe (Committee era)
forall era. ConwayGovState era -&gt; StrictMaybe (Committee era)
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsCommittee"><span class="hs-identifier hs-var">cgsCommittee</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679630370"><span class="annot"><span class="annottext">ConwayGovState era
</span><a href="#local-6989586621679630370"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679630371"><span class="annot"><span class="annottext">StrictMaybe (Committee era)
</span><a href="#local-6989586621679630371"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConwayGovState era
</span><a href="#local-6989586621679630370"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#cgsCommittee"><span class="hs-identifier hs-var">cgsCommittee</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679630371"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-273"></span><span>
</span><span id="line-274"></span><span id="local-6989586621679629660"><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#cgsConstitutionL"><span class="hs-identifier hs-type">cgsConstitutionL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Type.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629660"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#Constitution"><span class="hs-identifier hs-type">Constitution</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629660"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-275"></span><span id="cgsConstitutionL"><span class="annot"><span class="annottext">cgsConstitutionL :: forall era (f :: * -&gt; *).
Functor f =&gt;
(Constitution era -&gt; f (Constitution era))
-&gt; ConwayGovState era -&gt; f (ConwayGovState era)
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsConstitutionL"><span class="hs-identifier hs-var hs-var">cgsConstitutionL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ConwayGovState era -&gt; Constitution era)
-&gt; (ConwayGovState era -&gt; Constitution era -&gt; ConwayGovState era)
-&gt; Lens
     (ConwayGovState era)
     (ConwayGovState era)
     (Constitution era)
     (Constitution era)
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#lens"><span class="hs-identifier hs-var">lens</span></a></span><span> </span><span class="annot"><span class="annottext">ConwayGovState era -&gt; Constitution era
forall era. ConwayGovState era -&gt; Constitution era
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsConstitution"><span class="hs-identifier hs-var">cgsConstitution</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679630374"><span class="annot"><span class="annottext">ConwayGovState era
</span><a href="#local-6989586621679630374"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679630375"><span class="annot"><span class="annottext">Constitution era
</span><a href="#local-6989586621679630375"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConwayGovState era
</span><a href="#local-6989586621679630374"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#cgsConstitution"><span class="hs-identifier hs-var">cgsConstitution</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679630375"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-276"></span><span>
</span><span id="line-277"></span><span id="local-6989586621679629663"><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#cgsCurPParamsL"><span class="hs-identifier hs-type">cgsCurPParamsL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Type.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629663"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.PParams.html#PParams"><span class="hs-identifier hs-type">PParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629663"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-278"></span><span id="cgsCurPParamsL"><span class="annot"><span class="annottext">cgsCurPParamsL :: forall era (f :: * -&gt; *).
Functor f =&gt;
(PParams era -&gt; f (PParams era))
-&gt; ConwayGovState era -&gt; f (ConwayGovState era)
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsCurPParamsL"><span class="hs-identifier hs-var hs-var">cgsCurPParamsL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ConwayGovState era -&gt; PParams era)
-&gt; (ConwayGovState era -&gt; PParams era -&gt; ConwayGovState era)
-&gt; Lens
     (ConwayGovState era)
     (ConwayGovState era)
     (PParams era)
     (PParams era)
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#lens"><span class="hs-identifier hs-var">lens</span></a></span><span> </span><span class="annot"><span class="annottext">ConwayGovState era -&gt; PParams era
forall era. ConwayGovState era -&gt; PParams era
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsCurPParams"><span class="hs-identifier hs-var">cgsCurPParams</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679630378"><span class="annot"><span class="annottext">ConwayGovState era
</span><a href="#local-6989586621679630378"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679630379"><span class="annot"><span class="annottext">PParams era
</span><a href="#local-6989586621679630379"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConwayGovState era
</span><a href="#local-6989586621679630378"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#cgsCurPParams"><span class="hs-identifier hs-var">cgsCurPParams</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679630379"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-279"></span><span>
</span><span id="line-280"></span><span id="local-6989586621679630380"><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#cgsPrevPParamsL"><span class="hs-identifier hs-type">cgsPrevPParamsL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Type.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679630380"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.PParams.html#PParams"><span class="hs-identifier hs-type">PParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679630380"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-281"></span><span id="cgsPrevPParamsL"><span class="annot"><span class="annottext">cgsPrevPParamsL :: forall era (f :: * -&gt; *).
Functor f =&gt;
(PParams era -&gt; f (PParams era))
-&gt; ConwayGovState era -&gt; f (ConwayGovState era)
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsPrevPParamsL"><span class="hs-identifier hs-var hs-var">cgsPrevPParamsL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ConwayGovState era -&gt; PParams era)
-&gt; (ConwayGovState era -&gt; PParams era -&gt; ConwayGovState era)
-&gt; Lens
     (ConwayGovState era)
     (ConwayGovState era)
     (PParams era)
     (PParams era)
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#lens"><span class="hs-identifier hs-var">lens</span></a></span><span> </span><span class="annot"><span class="annottext">ConwayGovState era -&gt; PParams era
forall era. ConwayGovState era -&gt; PParams era
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsPrevPParams"><span class="hs-identifier hs-var">cgsPrevPParams</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679630383"><span class="annot"><span class="annottext">ConwayGovState era
</span><a href="#local-6989586621679630383"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679630384"><span class="annot"><span class="annottext">PParams era
</span><a href="#local-6989586621679630384"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConwayGovState era
</span><a href="#local-6989586621679630383"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#cgsPrevPParams"><span class="hs-identifier hs-var">cgsPrevPParams</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679630384"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-282"></span><span>
</span><span id="line-283"></span><span id="local-6989586621679629668"><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#cgsFuturePParamsL"><span class="hs-identifier hs-type">cgsFuturePParamsL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Type.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629668"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Governance.html#FuturePParams"><span class="hs-identifier hs-type">FuturePParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629668"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-284"></span><span id="cgsFuturePParamsL"><span class="annot"><span class="annottext">cgsFuturePParamsL :: forall era (f :: * -&gt; *).
Functor f =&gt;
(FuturePParams era -&gt; f (FuturePParams era))
-&gt; ConwayGovState era -&gt; f (ConwayGovState era)
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsFuturePParamsL"><span class="hs-identifier hs-var hs-var">cgsFuturePParamsL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-285"></span><span>  </span><span class="annot"><span class="annottext">(ConwayGovState era -&gt; FuturePParams era)
-&gt; (ConwayGovState era -&gt; FuturePParams era -&gt; ConwayGovState era)
-&gt; Lens
     (ConwayGovState era)
     (ConwayGovState era)
     (FuturePParams era)
     (FuturePParams era)
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#lens"><span class="hs-identifier hs-var">lens</span></a></span><span> </span><span class="annot"><span class="annottext">ConwayGovState era -&gt; FuturePParams era
forall era. ConwayGovState era -&gt; FuturePParams era
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsFuturePParams"><span class="hs-identifier hs-var">cgsFuturePParams</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679630387"><span class="annot"><span class="annottext">ConwayGovState era
</span><a href="#local-6989586621679630387"><span class="hs-identifier hs-var">cgs</span></a></span></span><span> </span><span id="local-6989586621679630388"><span class="annot"><span class="annottext">FuturePParams era
</span><a href="#local-6989586621679630388"><span class="hs-identifier hs-var">futurePParams</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConwayGovState era
</span><a href="#local-6989586621679630387"><span class="hs-identifier hs-var">cgs</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#cgsFuturePParams"><span class="hs-identifier hs-var">cgsFuturePParams</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679630388"><span class="hs-identifier hs-type">futurePParams</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-286"></span><span>
</span><span id="line-287"></span><span id="local-6989586621679629671"><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#govStatePrevGovActionIds"><span class="hs-identifier hs-type">govStatePrevGovActionIds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayEraGov"><span class="hs-identifier hs-type">ConwayEraGov</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629671"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Governance.html#GovState"><span class="hs-identifier hs-type">GovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629671"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#GovRelation"><span class="hs-identifier hs-type">GovRelation</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-strict-containers-0.1.5.0-d2741b9ef9564f4a1a3151d17a0f69b9663f5795dd47dab0bbd6117738fcce96/share/doc/html/src/Data.Maybe.Strict.html#StrictMaybe"><span class="hs-identifier hs-type">StrictMaybe</span></a></span></span><span>
</span><span id="line-288"></span><span id="govStatePrevGovActionIds"><span class="annot"><span class="annottext">govStatePrevGovActionIds :: forall era.
ConwayEraGov era =&gt;
GovState era -&gt; GovRelation StrictMaybe
</span><a href="Cardano.Ledger.Conway.Governance.html#govStatePrevGovActionIds"><span class="hs-identifier hs-var hs-var">govStatePrevGovActionIds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Getting
  (GovRelation StrictMaybe) (GovState era) (GovRelation StrictMaybe)
-&gt; GovState era -&gt; GovRelation StrictMaybe
forall a s. Getting a s a -&gt; s -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Extras.html#view"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">(Getting
   (GovRelation StrictMaybe) (GovState era) (GovRelation StrictMaybe)
 -&gt; GovState era -&gt; GovRelation StrictMaybe)
-&gt; Getting
     (GovRelation StrictMaybe) (GovState era) (GovRelation StrictMaybe)
-&gt; GovState era
-&gt; GovRelation StrictMaybe
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Proposals era -&gt; Const (GovRelation StrictMaybe) (Proposals era))
-&gt; GovState era -&gt; Const (GovRelation StrictMaybe) (GovState era)
forall era.
ConwayEraGov era =&gt;
Lens' (GovState era) (Proposals era)
Lens' (GovState era) (Proposals era)
</span><a href="Cardano.Ledger.Conway.Governance.html#proposalsGovStateL"><span class="hs-identifier hs-var">proposalsGovStateL</span></a></span><span> </span><span class="annot"><span class="annottext">((Proposals era -&gt; Const (GovRelation StrictMaybe) (Proposals era))
 -&gt; GovState era -&gt; Const (GovRelation StrictMaybe) (GovState era))
-&gt; ((GovRelation StrictMaybe
     -&gt; Const (GovRelation StrictMaybe) (GovRelation StrictMaybe))
    -&gt; Proposals era
    -&gt; Const (GovRelation StrictMaybe) (Proposals era))
-&gt; Getting
     (GovRelation StrictMaybe) (GovState era) (GovRelation StrictMaybe)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(GovRelation PRoot
 -&gt; Const (GovRelation StrictMaybe) (GovRelation PRoot))
-&gt; Proposals era -&gt; Const (GovRelation StrictMaybe) (Proposals era)
forall era (f :: * -&gt; *).
Functor f =&gt;
(GovRelation PRoot -&gt; f (GovRelation PRoot))
-&gt; Proposals era -&gt; f (Proposals era)
</span><a href="Cardano.Ledger.Conway.Governance.Proposals.html#pRootsL"><span class="hs-identifier hs-var">pRootsL</span></a></span><span> </span><span class="annot"><span class="annottext">((GovRelation PRoot
  -&gt; Const (GovRelation StrictMaybe) (GovRelation PRoot))
 -&gt; Proposals era
 -&gt; Const (GovRelation StrictMaybe) (Proposals era))
-&gt; ((GovRelation StrictMaybe
     -&gt; Const (GovRelation StrictMaybe) (GovRelation StrictMaybe))
    -&gt; GovRelation PRoot
    -&gt; Const (GovRelation StrictMaybe) (GovRelation PRoot))
-&gt; (GovRelation StrictMaybe
    -&gt; Const (GovRelation StrictMaybe) (GovRelation StrictMaybe))
-&gt; Proposals era
-&gt; Const (GovRelation StrictMaybe) (Proposals era)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(GovRelation PRoot -&gt; GovRelation StrictMaybe)
-&gt; SimpleGetter (GovRelation PRoot) (GovRelation StrictMaybe)
forall s a. (s -&gt; a) -&gt; SimpleGetter s a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#to"><span class="hs-identifier hs-var">to</span></a></span><span> </span><span class="annot"><span class="annottext">GovRelation PRoot -&gt; GovRelation StrictMaybe
</span><a href="Cardano.Ledger.Conway.Governance.Proposals.html#toPrevGovActionIds"><span class="hs-identifier hs-var">toPrevGovActionIds</span></a></span><span>
</span><span id="line-289"></span><span>
</span><span id="line-290"></span><span id="local-6989586621679629695"><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#conwayGovStateDRepDistrG"><span class="hs-identifier hs-type">conwayGovStateDRepDistrG</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-291"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.State.Account.html#ConwayEraAccounts"><span class="hs-identifier hs-type">ConwayEraAccounts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629695"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Stake.html#EraStake"><span class="hs-identifier hs-type">EraStake</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629695"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-292"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Type.html#SimpleGetter"><span class="hs-identifier hs-type">SimpleGetter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629695"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.DRep.html#DRep"><span class="hs-identifier hs-type">DRep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Compactible.html#CompactForm"><span class="hs-identifier hs-type">CompactForm</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-293"></span><span id="conwayGovStateDRepDistrG"><span class="annot"><span class="annottext">conwayGovStateDRepDistrG :: forall era.
(ConwayEraAccounts era, EraStake era) =&gt;
SimpleGetter (ConwayGovState era) (Map DRep (CompactForm Coin))
</span><a href="Cardano.Ledger.Conway.Governance.html#conwayGovStateDRepDistrG"><span class="hs-identifier hs-var hs-var">conwayGovStateDRepDistrG</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ConwayGovState era -&gt; Map DRep (CompactForm Coin))
-&gt; SimpleGetter (ConwayGovState era) (Map DRep (CompactForm Coin))
forall s a. (s -&gt; a) -&gt; SimpleGetter s a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#to"><span class="hs-identifier hs-var">to</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PulsingSnapshot era -&gt; Map DRep (CompactForm Coin)
forall era. PulsingSnapshot era -&gt; Map DRep (CompactForm Coin)
</span><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#psDRepDistr"><span class="hs-identifier hs-var">psDRepDistr</span></a></span><span> </span><span class="annot"><span class="annottext">(PulsingSnapshot era -&gt; Map DRep (CompactForm Coin))
-&gt; (ConwayGovState era -&gt; PulsingSnapshot era)
-&gt; ConwayGovState era
-&gt; Map DRep (CompactForm Coin)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(PulsingSnapshot era, RatifyState era) -&gt; PulsingSnapshot era
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">((PulsingSnapshot era, RatifyState era) -&gt; PulsingSnapshot era)
-&gt; (ConwayGovState era -&gt; (PulsingSnapshot era, RatifyState era))
-&gt; ConwayGovState era
-&gt; PulsingSnapshot era
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">DRepPulsingState era -&gt; (PulsingSnapshot era, RatifyState era)
forall era.
(EraStake era, ConwayEraAccounts era) =&gt;
DRepPulsingState era -&gt; (PulsingSnapshot era, RatifyState era)
</span><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#finishDRepPulser"><span class="hs-identifier hs-var">finishDRepPulser</span></a></span><span> </span><span class="annot"><span class="annottext">(DRepPulsingState era -&gt; (PulsingSnapshot era, RatifyState era))
-&gt; (ConwayGovState era -&gt; DRepPulsingState era)
-&gt; ConwayGovState era
-&gt; (PulsingSnapshot era, RatifyState era)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ConwayGovState era -&gt; DRepPulsingState era
forall era. ConwayGovState era -&gt; DRepPulsingState era
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsDRepPulsingState"><span class="hs-identifier hs-var">cgsDRepPulsingState</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-294"></span><span>
</span><span id="line-295"></span><span id="local-6989586621679629708"><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#getRatifyState"><span class="hs-identifier hs-type">getRatifyState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.State.Account.html#ConwayEraAccounts"><span class="hs-identifier hs-type">ConwayEraAccounts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629708"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Stake.html#EraStake"><span class="hs-identifier hs-type">EraStake</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629708"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629708"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#RatifyState"><span class="hs-identifier hs-type">RatifyState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629708"><span class="hs-identifier hs-type">era</span></a></span></span><span>
</span><span id="line-296"></span><span id="getRatifyState"><span class="annot"><span class="annottext">getRatifyState :: forall era.
(ConwayEraAccounts era, EraStake era) =&gt;
ConwayGovState era -&gt; RatifyState era
</span><a href="Cardano.Ledger.Conway.Governance.html#getRatifyState"><span class="hs-identifier hs-var hs-var">getRatifyState</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621679630407"><span class="annot"><span class="annottext">DRepPulsingState era
cgsDRepPulsingState :: forall era. ConwayGovState era -&gt; DRepPulsingState era
cgsDRepPulsingState :: DRepPulsingState era
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsDRepPulsingState"><span class="hs-identifier hs-var hs-var">cgsDRepPulsingState</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PulsingSnapshot era, RatifyState era) -&gt; RatifyState era
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">((PulsingSnapshot era, RatifyState era) -&gt; RatifyState era)
-&gt; (PulsingSnapshot era, RatifyState era) -&gt; RatifyState era
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DRepPulsingState era -&gt; (PulsingSnapshot era, RatifyState era)
forall era.
(EraStake era, ConwayEraAccounts era) =&gt;
DRepPulsingState era -&gt; (PulsingSnapshot era, RatifyState era)
</span><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#finishDRepPulser"><span class="hs-identifier hs-var">finishDRepPulser</span></a></span><span> </span><span class="annot"><span class="annottext">DRepPulsingState era
</span><a href="#local-6989586621679630407"><span class="hs-identifier hs-var">cgsDRepPulsingState</span></a></span><span>
</span><span id="line-297"></span><span>
</span><span id="line-298"></span><span class="hs-comment">-- | This function updates the thunk, which will contain new PParams once evaluated or</span><span>
</span><span id="line-299"></span><span class="hs-comment">-- Nothing when there was no update. At the same time if we already know the future of</span><span>
</span><span id="line-300"></span><span class="hs-comment">-- PParams, then it will act as an identity function.</span><span>
</span><span id="line-301"></span><span id="local-6989586621679629712"><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#predictFuturePParams"><span class="hs-identifier hs-type">predictFuturePParams</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-302"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.State.Account.html#ConwayEraAccounts"><span class="hs-identifier hs-type">ConwayEraAccounts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629712"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Stake.html#EraStake"><span class="hs-identifier hs-type">EraStake</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629712"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-303"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629712"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-304"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629712"><span class="hs-identifier hs-type">era</span></a></span></span><span>
</span><span id="line-305"></span><span id="predictFuturePParams"><span class="annot"><span class="annottext">predictFuturePParams :: forall era.
(ConwayEraAccounts era, EraStake era) =&gt;
ConwayGovState era -&gt; ConwayGovState era
</span><a href="Cardano.Ledger.Conway.Governance.html#predictFuturePParams"><span class="hs-identifier hs-var hs-var">predictFuturePParams</span></a></span></span><span> </span><span id="local-6989586621679630421"><span class="annot"><span class="annottext">ConwayGovState era
</span><a href="#local-6989586621679630421"><span class="hs-identifier hs-var">govState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-306"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ConwayGovState era -&gt; FuturePParams era
forall era. ConwayGovState era -&gt; FuturePParams era
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsFuturePParams"><span class="hs-identifier hs-var">cgsFuturePParams</span></a></span><span> </span><span class="annot"><span class="annottext">ConwayGovState era
</span><a href="#local-6989586621679630421"><span class="hs-identifier hs-var">govState</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-307"></span><span>    </span><span class="annot"><span class="annottext">FuturePParams era
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Governance.html#NoPParamsUpdate"><span class="hs-identifier hs-var">NoPParamsUpdate</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConwayGovState era
</span><a href="#local-6989586621679630421"><span class="hs-identifier hs-var">govState</span></a></span><span>
</span><span id="line-308"></span><span>    </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Governance.html#DefinitePParamsUpdate"><span class="hs-identifier hs-type">DefinitePParamsUpdate</span></a></span><span> </span><span class="annot"><span class="annottext">PParams era
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConwayGovState era
</span><a href="#local-6989586621679630421"><span class="hs-identifier hs-var">govState</span></a></span><span>
</span><span id="line-309"></span><span>    </span><span class="annot"><span class="annottext">FuturePParams era
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-310"></span><span>      </span><span class="annot"><span class="annottext">ConwayGovState era
</span><a href="#local-6989586621679630421"><span class="hs-identifier hs-var">govState</span></a></span><span>
</span><span id="line-311"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#cgsFuturePParams"><span class="hs-identifier hs-var">cgsFuturePParams</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Governance.html#PotentialPParamsUpdate"><span class="hs-identifier hs-type">PotentialPParamsUpdate</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679630425"><span class="hs-identifier hs-type">newFuturePParams</span></a></span><span>
</span><span id="line-312"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-313"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-314"></span><span>    </span><span class="hs-comment">-- This binding is not forced until a call to `solidifyNextEpochPParams` in the TICK</span><span>
</span><span id="line-315"></span><span>    </span><span class="hs-comment">-- rule two stability windows before the end of the epoch, therefore it is safe to</span><span>
</span><span id="line-316"></span><span>    </span><span class="hs-comment">-- create thunks here throughout the epoch</span><span>
</span><span id="line-317"></span><span>    </span><span id="local-6989586621679630425"><span class="annot"><span class="annottext">newFuturePParams :: Maybe (PParams era)
</span><a href="#local-6989586621679630425"><span class="hs-identifier hs-var hs-var">newFuturePParams</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-318"></span><span>      </span><span class="annot"><span class="annottext">Bool -&gt; Maybe ()
forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><span class="hs-identifier hs-var">guard</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(GovActionState era -&gt; Bool) -&gt; Seq (GovActionState era) -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="annot"><span class="annottext">GovActionState era -&gt; Bool
forall {era}. GovActionState era -&gt; Bool
</span><a href="#local-6989586621679630427"><span class="hs-identifier hs-var">hasChangesToPParams</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RatifyState era -&gt; Seq (GovActionState era)
forall era. RatifyState era -&gt; Seq (GovActionState era)
</span><a href="Cardano.Ledger.Conway.Governance.Internal.html#rsEnacted"><span class="hs-identifier hs-var">rsEnacted</span></a></span><span> </span><span class="annot"><span class="annottext">RatifyState era
</span><a href="#local-6989586621679630429"><span class="hs-identifier hs-var">ratifyState</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-319"></span><span>      </span><span class="annot"><span class="annottext">PParams era -&gt; Maybe (PParams era)
forall a. a -&gt; Maybe a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EnactState era -&gt; PParams era
forall era. EnactState era -&gt; PParams era
</span><a href="Cardano.Ledger.Conway.Governance.Internal.html#ensCurPParams"><span class="hs-identifier hs-var">ensCurPParams</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RatifyState era -&gt; EnactState era
forall era. RatifyState era -&gt; EnactState era
</span><a href="Cardano.Ledger.Conway.Governance.Internal.html#rsEnactState"><span class="hs-identifier hs-var">rsEnactState</span></a></span><span> </span><span class="annot"><span class="annottext">RatifyState era
</span><a href="#local-6989586621679630429"><span class="hs-identifier hs-var">ratifyState</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-320"></span><span>    </span><span id="local-6989586621679630429"><span class="annot"><span class="annottext">ratifyState :: RatifyState era
</span><a href="#local-6989586621679630429"><span class="hs-identifier hs-var hs-var">ratifyState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DRepPulsingState era -&gt; RatifyState era
forall era.
(EraStake era, ConwayEraAccounts era) =&gt;
DRepPulsingState era -&gt; RatifyState era
</span><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#extractDRepPulsingState"><span class="hs-identifier hs-var">extractDRepPulsingState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConwayGovState era -&gt; DRepPulsingState era
forall era. ConwayGovState era -&gt; DRepPulsingState era
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsDRepPulsingState"><span class="hs-identifier hs-var">cgsDRepPulsingState</span></a></span><span> </span><span class="annot"><span class="annottext">ConwayGovState era
</span><a href="#local-6989586621679630421"><span class="hs-identifier hs-var">govState</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-321"></span><span>    </span><span id="local-6989586621679630427"><span class="annot"><span class="annottext">hasChangesToPParams :: GovActionState era -&gt; Bool
</span><a href="#local-6989586621679630427"><span class="hs-identifier hs-var hs-var">hasChangesToPParams</span></a></span></span><span> </span><span id="local-6989586621679630432"><span class="annot"><span class="annottext">GovActionState era
</span><a href="#local-6989586621679630432"><span class="hs-identifier hs-var">gas</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-322"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ProposalProcedure era -&gt; GovAction era
forall era. ProposalProcedure era -&gt; GovAction era
</span><a href="Cardano.Ledger.Conway.Governance.Procedures.html#pProcGovAction"><span class="hs-identifier hs-var">pProcGovAction</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GovActionState era -&gt; ProposalProcedure era
forall era. GovActionState era -&gt; ProposalProcedure era
</span><a href="Cardano.Ledger.Conway.Governance.Procedures.html#gasProposalProcedure"><span class="hs-identifier hs-var">gasProposalProcedure</span></a></span><span> </span><span class="annot"><span class="annottext">GovActionState era
</span><a href="#local-6989586621679630432"><span class="hs-identifier hs-var">gas</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-323"></span><span>        </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#ParameterChange"><span class="hs-identifier hs-type">ParameterChange</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-324"></span><span>        </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#HardForkInitiation"><span class="hs-identifier hs-type">HardForkInitiation</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-325"></span><span>        </span><span class="annot"><span class="annottext">GovAction era
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-326"></span><span>
</span><span id="line-327"></span><span id="local-6989586621679629733"><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#mkEnactState"><span class="hs-identifier hs-type">mkEnactState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayEraGov"><span class="hs-identifier hs-type">ConwayEraGov</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629733"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Governance.html#GovState"><span class="hs-identifier hs-type">GovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629733"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#EnactState"><span class="hs-identifier hs-type">EnactState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629733"><span class="hs-identifier hs-type">era</span></a></span></span><span>
</span><span id="line-328"></span><span id="mkEnactState"><span class="annot"><span class="annottext">mkEnactState :: forall era. ConwayEraGov era =&gt; GovState era -&gt; EnactState era
</span><a href="Cardano.Ledger.Conway.Governance.html#mkEnactState"><span class="hs-identifier hs-var hs-var">mkEnactState</span></a></span></span><span> </span><span id="local-6989586621679630455"><span class="annot"><span class="annottext">GovState era
</span><a href="#local-6989586621679630455"><span class="hs-identifier hs-var">gs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-329"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#EnactState"><span class="hs-identifier hs-type">EnactState</span></a></span><span>
</span><span id="line-330"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">ensCommittee :: StrictMaybe (Committee era)
</span><a href="Cardano.Ledger.Conway.Governance.Internal.html#ensCommittee"><span class="hs-identifier hs-var">ensCommittee</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GovState era
</span><a href="#local-6989586621679630455"><span class="hs-identifier hs-var">gs</span></a></span><span> </span><span class="annot"><span class="annottext">GovState era
-&gt; Getting
     (StrictMaybe (Committee era))
     (GovState era)
     (StrictMaybe (Committee era))
-&gt; StrictMaybe (Committee era)
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting
  (StrictMaybe (Committee era))
  (GovState era)
  (StrictMaybe (Committee era))
forall era.
ConwayEraGov era =&gt;
Lens' (GovState era) (StrictMaybe (Committee era))
Lens' (GovState era) (StrictMaybe (Committee era))
</span><a href="Cardano.Ledger.Conway.Governance.html#committeeGovStateL"><span class="hs-identifier hs-var">committeeGovStateL</span></a></span><span>
</span><span id="line-331"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ensConstitution :: Constitution era
</span><a href="Cardano.Ledger.Conway.Governance.Internal.html#ensConstitution"><span class="hs-identifier hs-var">ensConstitution</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GovState era
</span><a href="#local-6989586621679630455"><span class="hs-identifier hs-var">gs</span></a></span><span> </span><span class="annot"><span class="annottext">GovState era
-&gt; Getting (Constitution era) (GovState era) (Constitution era)
-&gt; Constitution era
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Constitution era) (GovState era) (Constitution era)
forall era.
ConwayEraGov era =&gt;
Lens' (GovState era) (Constitution era)
Lens' (GovState era) (Constitution era)
</span><a href="Cardano.Ledger.Conway.Governance.html#constitutionGovStateL"><span class="hs-identifier hs-var">constitutionGovStateL</span></a></span><span>
</span><span id="line-332"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ensCurPParams :: PParams era
</span><a href="Cardano.Ledger.Conway.Governance.Internal.html#ensCurPParams"><span class="hs-identifier hs-var">ensCurPParams</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GovState era
</span><a href="#local-6989586621679630455"><span class="hs-identifier hs-var">gs</span></a></span><span> </span><span class="annot"><span class="annottext">GovState era
-&gt; Getting (PParams era) (GovState era) (PParams era)
-&gt; PParams era
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (PParams era) (GovState era) (PParams era)
forall era. EraGov era =&gt; Lens' (GovState era) (PParams era)
Lens' (GovState era) (PParams era)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Governance.html#curPParamsGovStateL"><span class="hs-identifier hs-var">curPParamsGovStateL</span></a></span><span>
</span><span id="line-333"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ensPrevPParams :: PParams era
</span><a href="Cardano.Ledger.Conway.Governance.Internal.html#ensPrevPParams"><span class="hs-identifier hs-var">ensPrevPParams</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GovState era
</span><a href="#local-6989586621679630455"><span class="hs-identifier hs-var">gs</span></a></span><span> </span><span class="annot"><span class="annottext">GovState era
-&gt; Getting (PParams era) (GovState era) (PParams era)
-&gt; PParams era
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (PParams era) (GovState era) (PParams era)
forall era. EraGov era =&gt; Lens' (GovState era) (PParams era)
Lens' (GovState era) (PParams era)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Governance.html#prevPParamsGovStateL"><span class="hs-identifier hs-var">prevPParamsGovStateL</span></a></span><span>
</span><span id="line-334"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ensTreasury :: Coin
</span><a href="Cardano.Ledger.Conway.Governance.Internal.html#ensTreasury"><span class="hs-identifier hs-var">ensTreasury</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Coin
forall t. Val t =&gt; t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Val.html#zero"><span class="hs-identifier hs-var">zero</span></a></span><span>
</span><span id="line-335"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ensWithdrawals :: Map (Credential 'Staking) Coin
</span><a href="Cardano.Ledger.Conway.Governance.Internal.html#ensWithdrawals"><span class="hs-identifier hs-var">ensWithdrawals</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map (Credential 'Staking) Coin
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-336"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ensPrevGovActionIds :: GovRelation StrictMaybe
</span><a href="Cardano.Ledger.Conway.Governance.Internal.html#ensPrevGovActionIds"><span class="hs-identifier hs-var">ensPrevGovActionIds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GovState era -&gt; GovRelation StrictMaybe
forall era.
ConwayEraGov era =&gt;
GovState era -&gt; GovRelation StrictMaybe
</span><a href="Cardano.Ledger.Conway.Governance.html#govStatePrevGovActionIds"><span class="hs-identifier hs-var">govStatePrevGovActionIds</span></a></span><span> </span><span class="annot"><span class="annottext">GovState era
</span><a href="#local-6989586621679630455"><span class="hs-identifier hs-var">gs</span></a></span><span>
</span><span id="line-337"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-338"></span><span>
</span><span id="line-339"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679629768"><span id="local-6989586621679630474"><span id="local-6989586621679630478"><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.PParams.html#EraPParams"><span class="hs-identifier hs-type">EraPParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629768"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#DecShareCBOR"><span class="hs-identifier hs-type">DecShareCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629768"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-340"></span><span>  </span><span class="hs-keyword">type</span><span>
</span><span id="line-341"></span><span>    </span><span id="Share"><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#Share"><span class="hs-identifier hs-var">Share</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629768"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-342"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#Interns"><span class="hs-identifier hs-type">Interns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#Staking"><span class="hs-identifier hs-type">Staking</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-343"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#Interns"><span class="hs-identifier hs-type">Interns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Hashes.html#KeyHash"><span class="hs-identifier hs-type">KeyHash</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#StakePool"><span class="hs-identifier hs-type">StakePool</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-344"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#Interns"><span class="hs-identifier hs-type">Interns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#DRepRole"><span class="hs-identifier hs-type">DRepRole</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-345"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#Interns"><span class="hs-identifier hs-type">Interns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#HotCommitteeRole"><span class="hs-identifier hs-type">HotCommitteeRole</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-346"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-347"></span><span>  </span><span id="local-6989586621679630540"><span class="annot"><span class="annottext">decSharePlusCBOR :: forall s.
StateT
  (Share (ConwayGovState era)) (Decoder s) (ConwayGovState era)
</span><a href="#local-6989586621679630540"><span class="hs-identifier hs-var hs-var hs-var hs-var">decSharePlusCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-348"></span><span>    </span><span class="annot"><span class="annottext">Text
-&gt; (ConwayGovState era -&gt; Int)
-&gt; StateT
     (Share (ConwayGovState era)) (Decoder s) (ConwayGovState era)
-&gt; StateT
     (Share (ConwayGovState era)) (Decoder s) (ConwayGovState era)
forall (m :: (* -&gt; *) -&gt; * -&gt; *) s a.
(MonadTrans m, Monad (m (Decoder s))) =&gt;
Text -&gt; (a -&gt; Int) -&gt; m (Decoder s) a -&gt; m (Decoder s) a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Decoder.html#decodeRecordNamedT"><span class="hs-identifier hs-var">decodeRecordNamedT</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;ConwayGovState&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; ConwayGovState era -&gt; Int
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">7</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(StateT
   (Share (ConwayGovState era)) (Decoder s) (ConwayGovState era)
 -&gt; StateT
      (Share (ConwayGovState era)) (Decoder s) (ConwayGovState era))
-&gt; StateT
     (Share (ConwayGovState era)) (Decoder s) (ConwayGovState era)
-&gt; StateT
     (Share (ConwayGovState era)) (Decoder s) (ConwayGovState era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-349"></span><span>      </span><span id="local-6989586621679630543"><span class="annot"><span class="annottext">Proposals era
</span><a href="#local-6989586621679630543"><span class="hs-identifier hs-var">cgsProposals</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">StateT
  (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
   Interns (Credential 'DRepRole),
   Interns (Credential 'HotCommitteeRole))
  (Decoder s)
  (Proposals era)
StateT (Share (Proposals era)) (Decoder s) (Proposals era)
forall s.
StateT (Share (Proposals era)) (Decoder s) (Proposals era)
forall a s. DecShareCBOR a =&gt; StateT (Share a) (Decoder s) a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#decSharePlusCBOR"><span class="hs-identifier hs-var">decSharePlusCBOR</span></a></span><span>
</span><span id="line-350"></span><span>      </span><span id="local-6989586621679630544"><span class="annot"><span class="annottext">StrictMaybe (Committee era)
</span><a href="#local-6989586621679630544"><span class="hs-identifier hs-var">cgsCommittee</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Decoder s (StrictMaybe (Committee era))
-&gt; StateT
     (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
      Interns (Credential 'DRepRole),
      Interns (Credential 'HotCommitteeRole))
     (Decoder s)
     (StrictMaybe (Committee era))
forall (m :: * -&gt; *) a.
Monad m =&gt;
m a
-&gt; StateT
     (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
      Interns (Credential 'DRepRole),
      Interns (Credential 'HotCommitteeRole))
     m
     a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">Decoder s (StrictMaybe (Committee era))
forall s. Decoder s (StrictMaybe (Committee era))
forall a s. DecCBOR a =&gt; Decoder s a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#decCBOR"><span class="hs-identifier hs-var">decCBOR</span></a></span><span>
</span><span id="line-351"></span><span>      </span><span id="local-6989586621679630547"><span class="annot"><span class="annottext">Constitution era
</span><a href="#local-6989586621679630547"><span class="hs-identifier hs-var">cgsConstitution</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Decoder s (Constitution era)
-&gt; StateT
     (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
      Interns (Credential 'DRepRole),
      Interns (Credential 'HotCommitteeRole))
     (Decoder s)
     (Constitution era)
forall (m :: * -&gt; *) a.
Monad m =&gt;
m a
-&gt; StateT
     (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
      Interns (Credential 'DRepRole),
      Interns (Credential 'HotCommitteeRole))
     m
     a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">Decoder s (Constitution era)
forall s. Decoder s (Constitution era)
forall a s. DecCBOR a =&gt; Decoder s a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#decCBOR"><span class="hs-identifier hs-var">decCBOR</span></a></span><span>
</span><span id="line-352"></span><span>      </span><span id="local-6989586621679630548"><span class="annot"><span class="annottext">PParams era
</span><a href="#local-6989586621679630548"><span class="hs-identifier hs-var">cgsCurPParams</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Decoder s (PParams era)
-&gt; StateT
     (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
      Interns (Credential 'DRepRole),
      Interns (Credential 'HotCommitteeRole))
     (Decoder s)
     (PParams era)
forall (m :: * -&gt; *) a.
Monad m =&gt;
m a
-&gt; StateT
     (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
      Interns (Credential 'DRepRole),
      Interns (Credential 'HotCommitteeRole))
     m
     a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">Decoder s (PParams era)
forall s. Decoder s (PParams era)
forall a s. DecCBOR a =&gt; Decoder s a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#decCBOR"><span class="hs-identifier hs-var">decCBOR</span></a></span><span>
</span><span id="line-353"></span><span>      </span><span id="local-6989586621679630549"><span class="annot"><span class="annottext">PParams era
</span><a href="#local-6989586621679630549"><span class="hs-identifier hs-var">cgsPrevPParams</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Decoder s (PParams era)
-&gt; StateT
     (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
      Interns (Credential 'DRepRole),
      Interns (Credential 'HotCommitteeRole))
     (Decoder s)
     (PParams era)
forall (m :: * -&gt; *) a.
Monad m =&gt;
m a
-&gt; StateT
     (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
      Interns (Credential 'DRepRole),
      Interns (Credential 'HotCommitteeRole))
     m
     a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">Decoder s (PParams era)
forall s. Decoder s (PParams era)
forall a s. DecCBOR a =&gt; Decoder s a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#decCBOR"><span class="hs-identifier hs-var">decCBOR</span></a></span><span>
</span><span id="line-354"></span><span>      </span><span id="local-6989586621679630550"><span class="annot"><span class="annottext">FuturePParams era
</span><a href="#local-6989586621679630550"><span class="hs-identifier hs-var">cgsFuturePParams</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Decoder s (FuturePParams era)
-&gt; StateT
     (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
      Interns (Credential 'DRepRole),
      Interns (Credential 'HotCommitteeRole))
     (Decoder s)
     (FuturePParams era)
forall (m :: * -&gt; *) a.
Monad m =&gt;
m a
-&gt; StateT
     (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
      Interns (Credential 'DRepRole),
      Interns (Credential 'HotCommitteeRole))
     m
     a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">Decoder s (FuturePParams era)
forall s. Decoder s (FuturePParams era)
forall a s. DecCBOR a =&gt; Decoder s a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#decCBOR"><span class="hs-identifier hs-var">decCBOR</span></a></span><span>
</span><span id="line-355"></span><span>      </span><span id="local-6989586621679630551"><span class="annot"><span class="annottext">DRepPulsingState era
</span><a href="#local-6989586621679630551"><span class="hs-identifier hs-var">cgsDRepPulsingState</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">StateT
  (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
   Interns (Credential 'DRepRole),
   Interns (Credential 'HotCommitteeRole))
  (Decoder s)
  (DRepPulsingState era)
StateT
  (Share (DRepPulsingState era)) (Decoder s) (DRepPulsingState era)
forall s.
StateT
  (Share (DRepPulsingState era)) (Decoder s) (DRepPulsingState era)
forall a s. DecShareCBOR a =&gt; StateT (Share a) (Decoder s) a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#decSharePlusCBOR"><span class="hs-identifier hs-var">decSharePlusCBOR</span></a></span><span>
</span><span id="line-356"></span><span>      </span><span class="annot"><span class="annottext">ConwayGovState era
-&gt; StateT
     (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
      Interns (Credential 'DRepRole),
      Interns (Credential 'HotCommitteeRole))
     (Decoder s)
     (ConwayGovState era)
forall a.
a
-&gt; StateT
     (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
      Interns (Credential 'DRepRole),
      Interns (Credential 'HotCommitteeRole))
     (Decoder s)
     a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">StrictMaybe (Committee era)
PParams era
FuturePParams era
Constitution era
Proposals era
DRepPulsingState era
cgsProposals :: Proposals era
cgsCommittee :: StrictMaybe (Committee era)
cgsConstitution :: Constitution era
cgsCurPParams :: PParams era
cgsPrevPParams :: PParams era
cgsFuturePParams :: FuturePParams era
cgsDRepPulsingState :: DRepPulsingState era
cgsProposals :: Proposals era
cgsCommittee :: StrictMaybe (Committee era)
cgsConstitution :: Constitution era
cgsCurPParams :: PParams era
cgsPrevPParams :: PParams era
cgsFuturePParams :: FuturePParams era
cgsDRepPulsingState :: DRepPulsingState era
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsProposals"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-357"></span><span>
</span><span id="line-358"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679629800"><span id="local-6989586621679630559"><span id="local-6989586621679630563"><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.PParams.html#EraPParams"><span class="hs-identifier hs-type">EraPParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629800"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#DecCBOR"><span class="hs-identifier hs-type">DecCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629800"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-359"></span><span>  </span><span id="local-6989586621679630568"><span class="annot"><span class="annottext">decCBOR :: forall s. Decoder s (ConwayGovState era)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#decCBOR"><span class="hs-identifier hs-var hs-var hs-var hs-var">decCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Decoder s (ConwayGovState era)
forall a s. DecShareCBOR a =&gt; Decoder s a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#decNoShareCBOR"><span class="hs-identifier hs-var">decNoShareCBOR</span></a></span><span>
</span><span id="line-360"></span><span>
</span><span id="line-361"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679629809"><span id="local-6989586621679630578"><span id="local-6989586621679630582"><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.State.Account.html#ConwayEraAccounts"><span class="hs-identifier hs-type">ConwayEraAccounts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629809"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.PParams.html#EraPParams"><span class="hs-identifier hs-type">EraPParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629809"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Stake.html#EraStake"><span class="hs-identifier hs-type">EraStake</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629809"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#EncCBOR"><span class="hs-identifier hs-type">EncCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629809"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-362"></span><span>  </span><span id="local-6989586621679630601"><span class="annot"><span class="annottext">encCBOR :: ConwayGovState era -&gt; Encoding
</span><a href="#local-6989586621679630601"><span class="hs-identifier hs-var hs-var hs-var hs-var">encCBOR</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621679630603"><span id="local-6989586621679630604"><span id="local-6989586621679630605"><span id="local-6989586621679630606"><span id="local-6989586621679630607"><span id="local-6989586621679630608"><span id="local-6989586621679630609"><span class="annot"><span class="annottext">StrictMaybe (Committee era)
PParams era
FuturePParams era
Constitution era
Proposals era
DRepPulsingState era
cgsProposals :: forall era. ConwayGovState era -&gt; Proposals era
cgsCommittee :: forall era. ConwayGovState era -&gt; StrictMaybe (Committee era)
cgsConstitution :: forall era. ConwayGovState era -&gt; Constitution era
cgsCurPParams :: forall era. ConwayGovState era -&gt; PParams era
cgsPrevPParams :: forall era. ConwayGovState era -&gt; PParams era
cgsFuturePParams :: forall era. ConwayGovState era -&gt; FuturePParams era
cgsDRepPulsingState :: forall era. ConwayGovState era -&gt; DRepPulsingState era
cgsProposals :: Proposals era
cgsCommittee :: StrictMaybe (Committee era)
cgsConstitution :: Constitution era
cgsCurPParams :: PParams era
cgsPrevPParams :: PParams era
cgsFuturePParams :: FuturePParams era
cgsDRepPulsingState :: DRepPulsingState era
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsProposals"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-363"></span><span>    </span><span class="annot"><span class="annottext">Encode ('Closed 'Dense) (ConwayGovState era) -&gt; Encoding
forall (w :: Wrapped) t. Encode w t -&gt; Encoding
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Coders.html#encode"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">(Encode ('Closed 'Dense) (ConwayGovState era) -&gt; Encoding)
-&gt; Encode ('Closed 'Dense) (ConwayGovState era) -&gt; Encoding
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-364"></span><span>      </span><span class="annot"><span class="annottext">(Proposals era
 -&gt; StrictMaybe (Committee era)
 -&gt; Constitution era
 -&gt; PParams era
 -&gt; PParams era
 -&gt; FuturePParams era
 -&gt; DRepPulsingState era
 -&gt; ConwayGovState era)
-&gt; Encode
     ('Closed 'Dense)
     (Proposals era
      -&gt; StrictMaybe (Committee era)
      -&gt; Constitution era
      -&gt; PParams era
      -&gt; PParams era
      -&gt; FuturePParams era
      -&gt; DRepPulsingState era
      -&gt; ConwayGovState era)
forall t. t -&gt; Encode ('Closed 'Dense) t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Coders.html#Rec"><span class="hs-identifier hs-var">Rec</span></a></span><span> </span><span class="annot"><span class="annottext">Proposals era
-&gt; StrictMaybe (Committee era)
-&gt; Constitution era
-&gt; PParams era
-&gt; PParams era
-&gt; FuturePParams era
-&gt; DRepPulsingState era
-&gt; ConwayGovState era
forall era.
Proposals era
-&gt; StrictMaybe (Committee era)
-&gt; Constitution era
-&gt; PParams era
-&gt; PParams era
-&gt; FuturePParams era
-&gt; DRepPulsingState era
-&gt; ConwayGovState era
</span><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-var">ConwayGovState</span></a></span><span>
</span><span id="line-365"></span><span>        </span><span class="annot"><span class="annottext">Encode
  ('Closed 'Dense)
  (Proposals era
   -&gt; StrictMaybe (Committee era)
   -&gt; Constitution era
   -&gt; PParams era
   -&gt; PParams era
   -&gt; FuturePParams era
   -&gt; DRepPulsingState era
   -&gt; ConwayGovState era)
-&gt; Encode ('Closed 'Dense) (Proposals era)
-&gt; Encode
     ('Closed 'Dense)
     (StrictMaybe (Committee era)
      -&gt; Constitution era
      -&gt; PParams era
      -&gt; PParams era
      -&gt; FuturePParams era
      -&gt; DRepPulsingState era
      -&gt; ConwayGovState era)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Coders.html#%21%3E"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Proposals era -&gt; Encode ('Closed 'Dense) (Proposals era)
forall t. EncCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Coders.html#To"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Proposals era
</span><a href="#local-6989586621679630603"><span class="hs-identifier hs-var">cgsProposals</span></a></span><span>
</span><span id="line-366"></span><span>        </span><span class="annot"><span class="annottext">Encode
  ('Closed 'Dense)
  (StrictMaybe (Committee era)
   -&gt; Constitution era
   -&gt; PParams era
   -&gt; PParams era
   -&gt; FuturePParams era
   -&gt; DRepPulsingState era
   -&gt; ConwayGovState era)
-&gt; Encode ('Closed 'Dense) (StrictMaybe (Committee era))
-&gt; Encode
     ('Closed 'Dense)
     (Constitution era
      -&gt; PParams era
      -&gt; PParams era
      -&gt; FuturePParams era
      -&gt; DRepPulsingState era
      -&gt; ConwayGovState era)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Coders.html#%21%3E"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">StrictMaybe (Committee era)
-&gt; Encode ('Closed 'Dense) (StrictMaybe (Committee era))
forall t. EncCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Coders.html#To"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">StrictMaybe (Committee era)
</span><a href="#local-6989586621679630604"><span class="hs-identifier hs-var">cgsCommittee</span></a></span><span>
</span><span id="line-367"></span><span>        </span><span class="annot"><span class="annottext">Encode
  ('Closed 'Dense)
  (Constitution era
   -&gt; PParams era
   -&gt; PParams era
   -&gt; FuturePParams era
   -&gt; DRepPulsingState era
   -&gt; ConwayGovState era)
-&gt; Encode ('Closed 'Dense) (Constitution era)
-&gt; Encode
     ('Closed 'Dense)
     (PParams era
      -&gt; PParams era
      -&gt; FuturePParams era
      -&gt; DRepPulsingState era
      -&gt; ConwayGovState era)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Coders.html#%21%3E"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Constitution era -&gt; Encode ('Closed 'Dense) (Constitution era)
forall t. EncCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Coders.html#To"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Constitution era
</span><a href="#local-6989586621679630605"><span class="hs-identifier hs-var">cgsConstitution</span></a></span><span>
</span><span id="line-368"></span><span>        </span><span class="annot"><span class="annottext">Encode
  ('Closed 'Dense)
  (PParams era
   -&gt; PParams era
   -&gt; FuturePParams era
   -&gt; DRepPulsingState era
   -&gt; ConwayGovState era)
-&gt; Encode ('Closed 'Dense) (PParams era)
-&gt; Encode
     ('Closed 'Dense)
     (PParams era
      -&gt; FuturePParams era -&gt; DRepPulsingState era -&gt; ConwayGovState era)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Coders.html#%21%3E"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">PParams era -&gt; Encode ('Closed 'Dense) (PParams era)
forall t. EncCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Coders.html#To"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">PParams era
</span><a href="#local-6989586621679630606"><span class="hs-identifier hs-var">cgsCurPParams</span></a></span><span>
</span><span id="line-369"></span><span>        </span><span class="annot"><span class="annottext">Encode
  ('Closed 'Dense)
  (PParams era
   -&gt; FuturePParams era -&gt; DRepPulsingState era -&gt; ConwayGovState era)
-&gt; Encode ('Closed 'Dense) (PParams era)
-&gt; Encode
     ('Closed 'Dense)
     (FuturePParams era -&gt; DRepPulsingState era -&gt; ConwayGovState era)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Coders.html#%21%3E"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">PParams era -&gt; Encode ('Closed 'Dense) (PParams era)
forall t. EncCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Coders.html#To"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">PParams era
</span><a href="#local-6989586621679630607"><span class="hs-identifier hs-var">cgsPrevPParams</span></a></span><span>
</span><span id="line-370"></span><span>        </span><span class="annot"><span class="annottext">Encode
  ('Closed 'Dense)
  (FuturePParams era -&gt; DRepPulsingState era -&gt; ConwayGovState era)
-&gt; Encode ('Closed 'Dense) (FuturePParams era)
-&gt; Encode
     ('Closed 'Dense) (DRepPulsingState era -&gt; ConwayGovState era)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Coders.html#%21%3E"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FuturePParams era -&gt; Encode ('Closed 'Dense) (FuturePParams era)
forall t. EncCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Coders.html#To"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">FuturePParams era
</span><a href="#local-6989586621679630608"><span class="hs-identifier hs-var">cgsFuturePParams</span></a></span><span>
</span><span id="line-371"></span><span>        </span><span class="annot"><span class="annottext">Encode
  ('Closed 'Dense) (DRepPulsingState era -&gt; ConwayGovState era)
-&gt; Encode ('Closed 'Dense) (DRepPulsingState era)
-&gt; Encode ('Closed 'Dense) (ConwayGovState era)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Coders.html#%21%3E"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">DRepPulsingState era
-&gt; Encode ('Closed 'Dense) (DRepPulsingState era)
forall t. EncCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Coders.html#To"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">DRepPulsingState era
</span><a href="#local-6989586621679630609"><span class="hs-identifier hs-var">cgsDRepPulsingState</span></a></span><span>
</span><span id="line-372"></span><span>
</span><span id="line-373"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679629834"><span id="local-6989586621679630621"><span id="local-6989586621679630625"><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.State.Account.html#ConwayEraAccounts"><span class="hs-identifier hs-type">ConwayEraAccounts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629834"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.PParams.html#EraPParams"><span class="hs-identifier hs-type">EraPParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629834"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Stake.html#EraStake"><span class="hs-identifier hs-type">EraStake</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629834"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-binary-1.7.2.0-a8823886ffd0b2d51904ce75fd27e0a08a953fdc80b3ee2bc40708ca6dbab289/share/doc/html/src/Cardano.Binary.ToCBOR.html#ToCBOR"><span class="hs-identifier hs-type">ToCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629834"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-374"></span><span>  </span><span id="local-6989586621679630631"><span class="annot"><span class="annottext">toCBOR :: ConwayGovState era -&gt; Encoding
</span><a href="#local-6989586621679630631"><span class="hs-identifier hs-var hs-var hs-var hs-var">toCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall era t. (Era era, EncCBOR t) =&gt; t -&gt; Encoding
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.Era.html#toEraCBOR"><span class="hs-identifier hs-var">toEraCBOR</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679629834"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-375"></span><span>
</span><span id="line-376"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679629842"><span id="local-6989586621679630641"><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.PParams.html#EraPParams"><span class="hs-identifier hs-type">EraPParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629842"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-binary-1.7.2.0-a8823886ffd0b2d51904ce75fd27e0a08a953fdc80b3ee2bc40708ca6dbab289/share/doc/html/src/Cardano.Binary.FromCBOR.html#FromCBOR"><span class="hs-identifier hs-type">FromCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629842"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-377"></span><span>  </span><span id="local-6989586621679630648"><span class="annot"><span class="annottext">fromCBOR :: forall s. Decoder s (ConwayGovState era)
</span><a href="#local-6989586621679630648"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall era t s. (Era era, DecCBOR t) =&gt; Decoder s t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.Era.html#fromEraCBOR"><span class="hs-identifier hs-var">fromEraCBOR</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679629842"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-378"></span><span>
</span><span id="line-379"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679629850"><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.PParams.html#EraPParams"><span class="hs-identifier hs-type">EraPParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629850"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-default-0.8.0.1-9291b190c5bc542cf17f99ce44e9365d143d76b9889465ad3d362701e6cc609e/share/doc/html/src/Data.Default.Internal.html#Default"><span class="hs-identifier hs-type">Default</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629850"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-380"></span><span>  </span><span id="local-6989586621679630671"><span class="annot"><span class="annottext">def :: ConwayGovState era
</span><a href="#local-6989586621679630671"><span class="hs-identifier hs-var hs-var hs-var hs-var">def</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proposals era
-&gt; StrictMaybe (Committee era)
-&gt; Constitution era
-&gt; PParams era
-&gt; PParams era
-&gt; FuturePParams era
-&gt; DRepPulsingState era
-&gt; ConwayGovState era
forall era.
Proposals era
-&gt; StrictMaybe (Committee era)
-&gt; Constitution era
-&gt; PParams era
-&gt; PParams era
-&gt; FuturePParams era
-&gt; DRepPulsingState era
-&gt; ConwayGovState era
</span><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-var">ConwayGovState</span></a></span><span> </span><span class="annot"><span class="annottext">Proposals era
forall a. Default a =&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-default-0.8.0.1-9291b190c5bc542cf17f99ce44e9365d143d76b9889465ad3d362701e6cc609e/share/doc/html/src/Data.Default.Internal.html#def"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="annot"><span class="annottext">StrictMaybe (Committee era)
forall a. Default a =&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-default-0.8.0.1-9291b190c5bc542cf17f99ce44e9365d143d76b9889465ad3d362701e6cc609e/share/doc/html/src/Data.Default.Internal.html#def"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="annot"><span class="annottext">Constitution era
forall a. Default a =&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-default-0.8.0.1-9291b190c5bc542cf17f99ce44e9365d143d76b9889465ad3d362701e6cc609e/share/doc/html/src/Data.Default.Internal.html#def"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="annot"><span class="annottext">PParams era
forall a. Default a =&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-default-0.8.0.1-9291b190c5bc542cf17f99ce44e9365d143d76b9889465ad3d362701e6cc609e/share/doc/html/src/Data.Default.Internal.html#def"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="annot"><span class="annottext">PParams era
forall a. Default a =&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-default-0.8.0.1-9291b190c5bc542cf17f99ce44e9365d143d76b9889465ad3d362701e6cc609e/share/doc/html/src/Data.Default.Internal.html#def"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="annot"><span class="annottext">FuturePParams era
forall a. Default a =&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-default-0.8.0.1-9291b190c5bc542cf17f99ce44e9365d143d76b9889465ad3d362701e6cc609e/share/doc/html/src/Data.Default.Internal.html#def"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PulsingSnapshot era -&gt; RatifyState era -&gt; DRepPulsingState era
forall era.
PulsingSnapshot era -&gt; RatifyState era -&gt; DRepPulsingState era
</span><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#DRComplete"><span class="hs-identifier hs-var">DRComplete</span></a></span><span> </span><span class="annot"><span class="annottext">PulsingSnapshot era
forall a. Default a =&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-default-0.8.0.1-9291b190c5bc542cf17f99ce44e9365d143d76b9889465ad3d362701e6cc609e/share/doc/html/src/Data.Default.Internal.html#def"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="annot"><span class="annottext">RatifyState era
forall a. Default a =&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-default-0.8.0.1-9291b190c5bc542cf17f99ce44e9365d143d76b9889465ad3d362701e6cc609e/share/doc/html/src/Data.Default.Internal.html#def"><span class="hs-identifier hs-var">def</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-381"></span><span>
</span><span id="line-382"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-383"></span><span>  </span><span id="local-6989586621679629884"><span id="local-6989586621679630678"><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.PParams.html#EraPParams"><span class="hs-identifier hs-type">EraPParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629884"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NFData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Stake.html#InstantStake"><span class="hs-identifier hs-type">InstantStake</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629884"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NFData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Account.html#Accounts"><span class="hs-identifier hs-type">Accounts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629884"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-384"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">NFData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629884"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-385"></span><span>
</span><span id="line-386"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-387"></span><span>  </span><span id="local-6989586621679629930"><span id="local-6989586621679630729"><span id="local-6989586621679630733"><span id="local-6989586621679630739"><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.PParams.html#EraPParams"><span class="hs-identifier hs-type">EraPParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629930"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/nothunks-0.2.1.1-0663c3283fb5dee9e67d41860072fab0227b6d69ef882303baddf309058f8618/share/doc/html/src/NoThunks.Class.html#NoThunks"><span class="hs-identifier hs-type">NoThunks</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Stake.html#InstantStake"><span class="hs-identifier hs-type">InstantStake</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629930"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/nothunks-0.2.1.1-0663c3283fb5dee9e67d41860072fab0227b6d69ef882303baddf309058f8618/share/doc/html/src/NoThunks.Class.html#NoThunks"><span class="hs-identifier hs-type">NoThunks</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Account.html#Accounts"><span class="hs-identifier hs-type">Accounts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629930"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-388"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/nothunks-0.2.1.1-0663c3283fb5dee9e67d41860072fab0227b6d69ef882303baddf309058f8618/share/doc/html/src/NoThunks.Class.html#NoThunks"><span class="hs-identifier hs-type">NoThunks</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629930"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-389"></span><span>
</span><span id="line-390"></span><span id="local-6989586621679630820"><span id="local-6989586621679630826"><span id="local-6989586621679630831"><span id="local-6989586621679630836"><span id="local-6989586621679630841"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span>
</span><span id="line-391"></span><span>  </span><span id="local-6989586621679629943"><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.BaseTypes.html#KeyValuePairs"><span class="hs-identifier hs-type">KeyValuePairs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629943"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-392"></span><span>  </span><span class="hs-keyword">instance</span><span>
</span><span id="line-393"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.State.Account.html#ConwayEraAccounts"><span class="hs-identifier hs-type">ConwayEraAccounts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629943"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.PParams.html#EraPParams"><span class="hs-identifier hs-type">EraPParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629943"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Stake.html#EraStake"><span class="hs-identifier hs-type">EraStake</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629943"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#ToJSON"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629943"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-394"></span><span>
</span><span id="line-395"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679629942"><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.State.Account.html#ConwayEraAccounts"><span class="hs-identifier hs-type">ConwayEraAccounts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629942"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.PParams.html#EraPParams"><span class="hs-identifier hs-type">EraPParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629942"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Stake.html#EraStake"><span class="hs-identifier hs-type">EraStake</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629942"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.BaseTypes.html#ToKeyValuePairs"><span class="hs-identifier hs-type">ToKeyValuePairs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629942"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-396"></span><span>  </span><span id="local-6989586621679630886"><span class="annot"><span class="annottext">toKeyValuePairs :: forall e kv. KeyValue e kv =&gt; ConwayGovState era -&gt; [kv]
</span><a href="#local-6989586621679630886"><span class="hs-identifier hs-var hs-var hs-var hs-var">toKeyValuePairs</span></a></span></span><span> </span><span id="local-6989586621679630888"><span class="annot"><span class="annottext">cg :: ConwayGovState era
</span><a href="#local-6989586621679630888"><span class="hs-identifier hs-var">cg</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="annot"><span class="annottext">Proposals era
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">StrictMaybe (Committee era)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Constitution era
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">PParams era
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">PParams era
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">FuturePParams era
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">DRepPulsingState era
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-397"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621679630889"><span id="local-6989586621679630890"><span id="local-6989586621679630891"><span id="local-6989586621679630892"><span id="local-6989586621679630893"><span id="local-6989586621679630894"><span id="local-6989586621679630895"><span class="annot"><span class="annottext">StrictMaybe (Committee era)
PParams era
FuturePParams era
Constitution era
Proposals era
DRepPulsingState era
cgsProposals :: forall era. ConwayGovState era -&gt; Proposals era
cgsCommittee :: forall era. ConwayGovState era -&gt; StrictMaybe (Committee era)
cgsConstitution :: forall era. ConwayGovState era -&gt; Constitution era
cgsCurPParams :: forall era. ConwayGovState era -&gt; PParams era
cgsPrevPParams :: forall era. ConwayGovState era -&gt; PParams era
cgsFuturePParams :: forall era. ConwayGovState era -&gt; FuturePParams era
cgsDRepPulsingState :: forall era. ConwayGovState era -&gt; DRepPulsingState era
cgsProposals :: Proposals era
cgsCommittee :: StrictMaybe (Committee era)
cgsConstitution :: Constitution era
cgsCurPParams :: PParams era
cgsPrevPParams :: PParams era
cgsFuturePParams :: FuturePParams era
cgsDRepPulsingState :: DRepPulsingState era
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsProposals"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConwayGovState era
</span><a href="#local-6989586621679630888"><span class="hs-identifier hs-var">cg</span></a></span><span>
</span><span id="line-398"></span><span>     </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;proposals&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Proposals era -&gt; kv
forall v. ToJSON v =&gt; Key -&gt; v -&gt; kv
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#.%3D"><span class="hs-operator hs-var">.=</span></a></span><span> </span><span class="annot"><span class="annottext">Proposals era
</span><a href="#local-6989586621679630889"><span class="hs-identifier hs-var">cgsProposals</span></a></span><span>
</span><span id="line-399"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;nextRatifyState&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; RatifyState era -&gt; kv
forall v. ToJSON v =&gt; Key -&gt; v -&gt; kv
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#.%3D"><span class="hs-operator hs-var">.=</span></a></span><span> </span><span class="annot"><span class="annottext">DRepPulsingState era -&gt; RatifyState era
forall era.
(EraStake era, ConwayEraAccounts era) =&gt;
DRepPulsingState era -&gt; RatifyState era
</span><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#extractDRepPulsingState"><span class="hs-identifier hs-var">extractDRepPulsingState</span></a></span><span> </span><span class="annot"><span class="annottext">DRepPulsingState era
</span><a href="#local-6989586621679630895"><span class="hs-identifier hs-var">cgsDRepPulsingState</span></a></span><span>
</span><span id="line-400"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;committee&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; StrictMaybe (Committee era) -&gt; kv
forall v. ToJSON v =&gt; Key -&gt; v -&gt; kv
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#.%3D"><span class="hs-operator hs-var">.=</span></a></span><span> </span><span class="annot"><span class="annottext">StrictMaybe (Committee era)
</span><a href="#local-6989586621679630890"><span class="hs-identifier hs-var">cgsCommittee</span></a></span><span>
</span><span id="line-401"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;constitution&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Constitution era -&gt; kv
forall v. ToJSON v =&gt; Key -&gt; v -&gt; kv
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#.%3D"><span class="hs-operator hs-var">.=</span></a></span><span> </span><span class="annot"><span class="annottext">Constitution era
</span><a href="#local-6989586621679630891"><span class="hs-identifier hs-var">cgsConstitution</span></a></span><span>
</span><span id="line-402"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;currentPParams&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; PParams era -&gt; kv
forall v. ToJSON v =&gt; Key -&gt; v -&gt; kv
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#.%3D"><span class="hs-operator hs-var">.=</span></a></span><span> </span><span class="annot"><span class="annottext">PParams era
</span><a href="#local-6989586621679630892"><span class="hs-identifier hs-var">cgsCurPParams</span></a></span><span>
</span><span id="line-403"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;previousPParams&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; PParams era -&gt; kv
forall v. ToJSON v =&gt; Key -&gt; v -&gt; kv
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#.%3D"><span class="hs-operator hs-var">.=</span></a></span><span> </span><span class="annot"><span class="annottext">PParams era
</span><a href="#local-6989586621679630893"><span class="hs-identifier hs-var">cgsPrevPParams</span></a></span><span>
</span><span id="line-404"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;futurePParams&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; FuturePParams era -&gt; kv
forall v. ToJSON v =&gt; Key -&gt; v -&gt; kv
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#.%3D"><span class="hs-operator hs-var">.=</span></a></span><span> </span><span class="annot"><span class="annottext">FuturePParams era
</span><a href="#local-6989586621679630894"><span class="hs-identifier hs-var">cgsFuturePParams</span></a></span><span>
</span><span id="line-405"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-406"></span><span>
</span><span id="line-407"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679630936"><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Governance.html#EraGov"><span class="hs-identifier hs-type">EraGov</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#ConwayEra"><span class="hs-identifier hs-type">ConwayEra</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-408"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="GovState"><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Governance.html#GovState"><span class="hs-identifier hs-var">GovState</span></a></span></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#ConwayEra"><span class="hs-identifier hs-type">ConwayEra</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#ConwayEra"><span class="hs-identifier hs-type">ConwayEra</span></a></span><span>
</span><span id="line-409"></span><span>
</span><span id="line-410"></span><span>  </span><span id="local-6989586621679630981"><span class="annot"><span class="annottext">curPParamsGovStateL :: Lens' (GovState ConwayEra) (PParams ConwayEra)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Governance.html#curPParamsGovStateL"><span class="hs-identifier hs-var hs-var hs-var hs-var">curPParamsGovStateL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PParams ConwayEra -&gt; f (PParams ConwayEra))
-&gt; GovState ConwayEra -&gt; f (GovState ConwayEra)
(PParams ConwayEra -&gt; f (PParams ConwayEra))
-&gt; ConwayGovState ConwayEra -&gt; f (ConwayGovState ConwayEra)
forall era (f :: * -&gt; *).
Functor f =&gt;
(PParams era -&gt; f (PParams era))
-&gt; ConwayGovState era -&gt; f (ConwayGovState era)
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsCurPParamsL"><span class="hs-identifier hs-var">cgsCurPParamsL</span></a></span><span>
</span><span id="line-411"></span><span>
</span><span id="line-412"></span><span>  </span><span id="local-6989586621679630984"><span class="annot"><span class="annottext">prevPParamsGovStateL :: Lens' (GovState ConwayEra) (PParams ConwayEra)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Governance.html#prevPParamsGovStateL"><span class="hs-identifier hs-var hs-var hs-var hs-var">prevPParamsGovStateL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PParams ConwayEra -&gt; f (PParams ConwayEra))
-&gt; GovState ConwayEra -&gt; f (GovState ConwayEra)
(PParams ConwayEra -&gt; f (PParams ConwayEra))
-&gt; ConwayGovState ConwayEra -&gt; f (ConwayGovState ConwayEra)
forall era (f :: * -&gt; *).
Functor f =&gt;
(PParams era -&gt; f (PParams era))
-&gt; ConwayGovState era -&gt; f (ConwayGovState era)
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsPrevPParamsL"><span class="hs-identifier hs-var">cgsPrevPParamsL</span></a></span><span>
</span><span id="line-413"></span><span>
</span><span id="line-414"></span><span>  </span><span id="local-6989586621679630987"><span class="annot"><span class="annottext">futurePParamsGovStateL :: Lens' (GovState ConwayEra) (FuturePParams ConwayEra)
</span><a href="#local-6989586621679630987"><span class="hs-identifier hs-var hs-var hs-var hs-var">futurePParamsGovStateL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FuturePParams ConwayEra -&gt; f (FuturePParams ConwayEra))
-&gt; GovState ConwayEra -&gt; f (GovState ConwayEra)
(FuturePParams ConwayEra -&gt; f (FuturePParams ConwayEra))
-&gt; ConwayGovState ConwayEra -&gt; f (ConwayGovState ConwayEra)
forall era (f :: * -&gt; *).
Functor f =&gt;
(FuturePParams era -&gt; f (FuturePParams era))
-&gt; ConwayGovState era -&gt; f (ConwayGovState era)
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsFuturePParamsL"><span class="hs-identifier hs-var">cgsFuturePParamsL</span></a></span><span>
</span><span id="line-415"></span><span>
</span><span id="line-416"></span><span>  </span><span id="local-6989586621679630994"><span class="annot"><span class="annottext">obligationGovState :: GovState ConwayEra -&gt; Obligations
</span><a href="#local-6989586621679630994"><span class="hs-identifier hs-var hs-var hs-var hs-var">obligationGovState</span></a></span></span><span> </span><span id="local-6989586621679630996"><span class="annot"><span class="annottext">GovState ConwayEra
</span><a href="#local-6989586621679630996"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-417"></span><span>    </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.CertState.html#Obligations"><span class="hs-identifier hs-type">Obligations</span></a></span><span>
</span><span id="line-418"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">oblProposal :: Coin
</span><a href="#local-6989586621679630998"><span class="hs-identifier hs-var">oblProposal</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GovActionState ConwayEra -&gt; Coin)
-&gt; StrictSeq (GovActionState ConwayEra) -&gt; Coin
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; StrictSeq a -&gt; m
forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><span class="hs-identifier hs-var">foldMap'</span></span><span> </span><span class="annot"><span class="annottext">GovActionState ConwayEra -&gt; Coin
forall era. GovActionState era -&gt; Coin
</span><a href="Cardano.Ledger.Conway.Governance.Procedures.html#gasDeposit"><span class="hs-identifier hs-var">gasDeposit</span></a></span><span> </span><span class="annot"><span class="annottext">(StrictSeq (GovActionState ConwayEra) -&gt; Coin)
-&gt; StrictSeq (GovActionState ConwayEra) -&gt; Coin
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Proposals ConwayEra -&gt; StrictSeq (GovActionState ConwayEra)
forall era. Proposals era -&gt; StrictSeq (GovActionState era)
</span><a href="Cardano.Ledger.Conway.Governance.Proposals.html#proposalsActions"><span class="hs-identifier hs-var">proposalsActions</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GovState ConwayEra
ConwayGovState ConwayEra
</span><a href="#local-6989586621679630996"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">ConwayGovState ConwayEra
-&gt; Getting
     (Proposals ConwayEra)
     (ConwayGovState ConwayEra)
     (Proposals ConwayEra)
-&gt; Proposals ConwayEra
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting
  (Proposals ConwayEra)
  (ConwayGovState ConwayEra)
  (Proposals ConwayEra)
forall era (f :: * -&gt; *).
Functor f =&gt;
(Proposals era -&gt; f (Proposals era))
-&gt; ConwayGovState era -&gt; f (ConwayGovState era)
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsProposalsL"><span class="hs-identifier hs-var">cgsProposalsL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-419"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">oblDRep :: Coin
</span><a href="#local-6989586621679631000"><span class="hs-identifier hs-var">oblDRep</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Coin
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-var">Coin</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span>
</span><span id="line-420"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">oblStake :: Coin
</span><a href="#local-6989586621679631002"><span class="hs-identifier hs-var">oblStake</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Coin
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-var">Coin</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span>
</span><span id="line-421"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">oblPool :: Coin
</span><a href="#local-6989586621679631003"><span class="hs-identifier hs-var">oblPool</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Coin
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-var">Coin</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span>
</span><span id="line-422"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-423"></span><span>
</span><span id="line-424"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Governance.html#EraGov"><span class="hs-identifier hs-type">EraGov</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629684"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Stake.html#EraStake"><span class="hs-identifier hs-type">EraStake</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629684"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Conway.State.Account.html#ConwayEraAccounts"><span class="hs-identifier hs-type">ConwayEraAccounts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629684"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="ConwayEraGov"><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayEraGov"><span class="hs-identifier hs-var">ConwayEraGov</span></a></span></span><span> </span><span id="local-6989586621679629684"><span class="annot"><a href="#local-6989586621679629684"><span class="hs-identifier hs-type">era</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-425"></span><span>  </span><span id="constitutionGovStateL"><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#constitutionGovStateL"><span class="hs-identifier hs-type">constitutionGovStateL</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Type.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Governance.html#GovState"><span class="hs-identifier hs-type">GovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629684"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#Constitution"><span class="hs-identifier hs-type">Constitution</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629684"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-426"></span><span>  </span><span id="proposalsGovStateL"><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#proposalsGovStateL"><span class="hs-identifier hs-type">proposalsGovStateL</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Type.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Governance.html#GovState"><span class="hs-identifier hs-type">GovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629684"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Proposals.html#Proposals"><span class="hs-identifier hs-type">Proposals</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629684"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-427"></span><span>  </span><span id="drepPulsingStateGovStateL"><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#drepPulsingStateGovStateL"><span class="hs-identifier hs-type">drepPulsingStateGovStateL</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Type.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Governance.html#GovState"><span class="hs-identifier hs-type">GovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629684"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#DRepPulsingState"><span class="hs-identifier hs-type">DRepPulsingState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629684"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-428"></span><span>  </span><span id="committeeGovStateL"><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#committeeGovStateL"><span class="hs-identifier hs-type">committeeGovStateL</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Type.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Governance.html#GovState"><span class="hs-identifier hs-type">GovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629684"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-strict-containers-0.1.5.0-d2741b9ef9564f4a1a3151d17a0f69b9663f5795dd47dab0bbd6117738fcce96/share/doc/html/src/Data.Maybe.Strict.html#StrictMaybe"><span class="hs-identifier hs-type">StrictMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#Committee"><span class="hs-identifier hs-type">Committee</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629684"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-429"></span><span>
</span><span id="line-430"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayEraGov"><span class="hs-identifier hs-type">ConwayEraGov</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#ConwayEra"><span class="hs-identifier hs-type">ConwayEra</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-431"></span><span>  </span><span id="local-6989586621679631021"><span class="annot"><span class="annottext">constitutionGovStateL :: Lens' (GovState ConwayEra) (Constitution ConwayEra)
</span><a href="Cardano.Ledger.Conway.Governance.html#constitutionGovStateL"><span class="hs-identifier hs-var hs-var hs-var hs-var">constitutionGovStateL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Constitution ConwayEra -&gt; f (Constitution ConwayEra))
-&gt; GovState ConwayEra -&gt; f (GovState ConwayEra)
(Constitution ConwayEra -&gt; f (Constitution ConwayEra))
-&gt; ConwayGovState ConwayEra -&gt; f (ConwayGovState ConwayEra)
forall era (f :: * -&gt; *).
Functor f =&gt;
(Constitution era -&gt; f (Constitution era))
-&gt; ConwayGovState era -&gt; f (ConwayGovState era)
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsConstitutionL"><span class="hs-identifier hs-var">cgsConstitutionL</span></a></span><span>
</span><span id="line-432"></span><span>  </span><span id="local-6989586621679631024"><span class="annot"><span class="annottext">proposalsGovStateL :: Lens' (GovState ConwayEra) (Proposals ConwayEra)
</span><a href="Cardano.Ledger.Conway.Governance.html#proposalsGovStateL"><span class="hs-identifier hs-var hs-var hs-var hs-var">proposalsGovStateL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Proposals ConwayEra -&gt; f (Proposals ConwayEra))
-&gt; GovState ConwayEra -&gt; f (GovState ConwayEra)
(Proposals ConwayEra -&gt; f (Proposals ConwayEra))
-&gt; ConwayGovState ConwayEra -&gt; f (ConwayGovState ConwayEra)
forall era (f :: * -&gt; *).
Functor f =&gt;
(Proposals era -&gt; f (Proposals era))
-&gt; ConwayGovState era -&gt; f (ConwayGovState era)
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsProposalsL"><span class="hs-identifier hs-var">cgsProposalsL</span></a></span><span>
</span><span id="line-433"></span><span>  </span><span id="local-6989586621679631027"><span class="annot"><span class="annottext">drepPulsingStateGovStateL :: Lens' (GovState ConwayEra) (DRepPulsingState ConwayEra)
</span><a href="Cardano.Ledger.Conway.Governance.html#drepPulsingStateGovStateL"><span class="hs-identifier hs-var hs-var hs-var hs-var">drepPulsingStateGovStateL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DRepPulsingState ConwayEra -&gt; f (DRepPulsingState ConwayEra))
-&gt; GovState ConwayEra -&gt; f (GovState ConwayEra)
(DRepPulsingState ConwayEra -&gt; f (DRepPulsingState ConwayEra))
-&gt; ConwayGovState ConwayEra -&gt; f (ConwayGovState ConwayEra)
forall era (f :: * -&gt; *).
Functor f =&gt;
(DRepPulsingState era -&gt; f (DRepPulsingState era))
-&gt; ConwayGovState era -&gt; f (ConwayGovState era)
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsDRepPulsingStateL"><span class="hs-identifier hs-var">cgsDRepPulsingStateL</span></a></span><span>
</span><span id="line-434"></span><span>  </span><span id="local-6989586621679631030"><span class="annot"><span class="annottext">committeeGovStateL :: Lens' (GovState ConwayEra) (StrictMaybe (Committee ConwayEra))
</span><a href="Cardano.Ledger.Conway.Governance.html#committeeGovStateL"><span class="hs-identifier hs-var hs-var hs-var hs-var">committeeGovStateL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(StrictMaybe (Committee ConwayEra)
 -&gt; f (StrictMaybe (Committee ConwayEra)))
-&gt; GovState ConwayEra -&gt; f (GovState ConwayEra)
(StrictMaybe (Committee ConwayEra)
 -&gt; f (StrictMaybe (Committee ConwayEra)))
-&gt; ConwayGovState ConwayEra -&gt; f (ConwayGovState ConwayEra)
forall era (f :: * -&gt; *).
Functor f =&gt;
(StrictMaybe (Committee era) -&gt; f (StrictMaybe (Committee era)))
-&gt; ConwayGovState era -&gt; f (ConwayGovState era)
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsCommitteeL"><span class="hs-identifier hs-var">cgsCommitteeL</span></a></span><span>
</span><span id="line-435"></span><span>
</span><span id="line-436"></span><span class="hs-comment">-- ===================================================================</span><span>
</span><span id="line-437"></span><span class="hs-comment">-- Lenses for access to (DRepPulsingState era)</span><span>
</span><span id="line-438"></span><span>
</span><span id="line-439"></span><span id="local-6989586621679629983"><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#newEpochStateDRepPulsingStateL"><span class="hs-identifier hs-type">newEpochStateDRepPulsingStateL</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-440"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayEraGov"><span class="hs-identifier hs-type">ConwayEraGov</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629983"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Type.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#NewEpochState"><span class="hs-identifier hs-type">NewEpochState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629983"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#DRepPulsingState"><span class="hs-identifier hs-type">DRepPulsingState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629983"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-441"></span><span id="newEpochStateDRepPulsingStateL"><span class="annot"><span class="annottext">newEpochStateDRepPulsingStateL :: forall era.
ConwayEraGov era =&gt;
Lens' (NewEpochState era) (DRepPulsingState era)
</span><a href="Cardano.Ledger.Conway.Governance.html#newEpochStateDRepPulsingStateL"><span class="hs-identifier hs-var hs-var">newEpochStateDRepPulsingStateL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-442"></span><span>  </span><span class="annot"><span class="annottext">(GovState era -&gt; f (GovState era))
-&gt; NewEpochState era -&gt; f (NewEpochState era)
forall era (f :: * -&gt; *).
Functor f =&gt;
(GovState era -&gt; f (GovState era))
-&gt; NewEpochState era -&gt; f (NewEpochState era)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#newEpochStateGovStateL"><span class="hs-identifier hs-var">newEpochStateGovStateL</span></a></span><span> </span><span class="annot"><span class="annottext">((GovState era -&gt; f (GovState era))
 -&gt; NewEpochState era -&gt; f (NewEpochState era))
-&gt; ((DRepPulsingState era -&gt; f (DRepPulsingState era))
    -&gt; GovState era -&gt; f (GovState era))
-&gt; (DRepPulsingState era -&gt; f (DRepPulsingState era))
-&gt; NewEpochState era
-&gt; f (NewEpochState era)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(DRepPulsingState era -&gt; f (DRepPulsingState era))
-&gt; GovState era -&gt; f (GovState era)
forall era.
ConwayEraGov era =&gt;
Lens' (GovState era) (DRepPulsingState era)
Lens' (GovState era) (DRepPulsingState era)
</span><a href="Cardano.Ledger.Conway.Governance.html#drepPulsingStateGovStateL"><span class="hs-identifier hs-var">drepPulsingStateGovStateL</span></a></span><span>
</span><span id="line-443"></span><span>
</span><span id="line-444"></span><span id="local-6989586621679629989"><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#epochStateDRepPulsingStateL"><span class="hs-identifier hs-type">epochStateDRepPulsingStateL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayEraGov"><span class="hs-identifier hs-type">ConwayEraGov</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629989"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Type.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#EpochState"><span class="hs-identifier hs-type">EpochState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629989"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#DRepPulsingState"><span class="hs-identifier hs-type">DRepPulsingState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629989"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-445"></span><span id="epochStateDRepPulsingStateL"><span class="annot"><span class="annottext">epochStateDRepPulsingStateL :: forall era.
ConwayEraGov era =&gt;
Lens' (EpochState era) (DRepPulsingState era)
</span><a href="Cardano.Ledger.Conway.Governance.html#epochStateDRepPulsingStateL"><span class="hs-identifier hs-var hs-var">epochStateDRepPulsingStateL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GovState era -&gt; f (GovState era))
-&gt; EpochState era -&gt; f (EpochState era)
forall era (f :: * -&gt; *).
Functor f =&gt;
(GovState era -&gt; f (GovState era))
-&gt; EpochState era -&gt; f (EpochState era)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#epochStateGovStateL"><span class="hs-identifier hs-var">epochStateGovStateL</span></a></span><span> </span><span class="annot"><span class="annottext">((GovState era -&gt; f (GovState era))
 -&gt; EpochState era -&gt; f (EpochState era))
-&gt; ((DRepPulsingState era -&gt; f (DRepPulsingState era))
    -&gt; GovState era -&gt; f (GovState era))
-&gt; (DRepPulsingState era -&gt; f (DRepPulsingState era))
-&gt; EpochState era
-&gt; f (EpochState era)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(DRepPulsingState era -&gt; f (DRepPulsingState era))
-&gt; GovState era -&gt; f (GovState era)
forall era.
ConwayEraGov era =&gt;
Lens' (GovState era) (DRepPulsingState era)
Lens' (GovState era) (DRepPulsingState era)
</span><a href="Cardano.Ledger.Conway.Governance.html#drepPulsingStateGovStateL"><span class="hs-identifier hs-var">drepPulsingStateGovStateL</span></a></span><span>
</span><span id="line-446"></span><span>
</span><span id="line-447"></span><span id="local-6989586621679629995"><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#setCompleteDRepPulsingState"><span class="hs-identifier hs-type">setCompleteDRepPulsingState</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-448"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayEraGov"><span class="hs-identifier hs-type">ConwayEraGov</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629995"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-449"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#PulsingSnapshot"><span class="hs-identifier hs-type">PulsingSnapshot</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629995"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-450"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Internal.html#RatifyState"><span class="hs-identifier hs-type">RatifyState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629995"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-451"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#EpochState"><span class="hs-identifier hs-type">EpochState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629995"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-452"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#EpochState"><span class="hs-identifier hs-type">EpochState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679629995"><span class="hs-identifier hs-type">era</span></a></span></span><span>
</span><span id="line-453"></span><span id="setCompleteDRepPulsingState"><span class="annot"><span class="annottext">setCompleteDRepPulsingState :: forall era.
ConwayEraGov era =&gt;
PulsingSnapshot era
-&gt; RatifyState era -&gt; EpochState era -&gt; EpochState era
</span><a href="Cardano.Ledger.Conway.Governance.html#setCompleteDRepPulsingState"><span class="hs-identifier hs-var hs-var">setCompleteDRepPulsingState</span></a></span></span><span> </span><span id="local-6989586621679631046"><span class="annot"><span class="annottext">PulsingSnapshot era
</span><a href="#local-6989586621679631046"><span class="hs-identifier hs-var">snapshot</span></a></span></span><span> </span><span id="local-6989586621679631047"><span class="annot"><span class="annottext">RatifyState era
</span><a href="#local-6989586621679631047"><span class="hs-identifier hs-var">ratifyState</span></a></span></span><span> </span><span id="local-6989586621679631048"><span class="annot"><span class="annottext">EpochState era
</span><a href="#local-6989586621679631048"><span class="hs-identifier hs-var">epochState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-454"></span><span>  </span><span class="annot"><span class="annottext">EpochState era
</span><a href="#local-6989586621679631048"><span class="hs-identifier hs-var">epochState</span></a></span><span>
</span><span id="line-455"></span><span>    </span><span class="annot"><span class="annottext">EpochState era
-&gt; (EpochState era -&gt; EpochState era) -&gt; EpochState era
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">(GovState era -&gt; Identity (GovState era))
-&gt; EpochState era -&gt; Identity (EpochState era)
forall era (f :: * -&gt; *).
Functor f =&gt;
(GovState era -&gt; f (GovState era))
-&gt; EpochState era -&gt; f (EpochState era)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#epochStateGovStateL"><span class="hs-identifier hs-var">epochStateGovStateL</span></a></span><span> </span><span class="annot"><span class="annottext">((GovState era -&gt; Identity (GovState era))
 -&gt; EpochState era -&gt; Identity (EpochState era))
-&gt; ((DRepPulsingState era -&gt; Identity (DRepPulsingState era))
    -&gt; GovState era -&gt; Identity (GovState era))
-&gt; (DRepPulsingState era -&gt; Identity (DRepPulsingState era))
-&gt; EpochState era
-&gt; Identity (EpochState era)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(DRepPulsingState era -&gt; Identity (DRepPulsingState era))
-&gt; GovState era -&gt; Identity (GovState era)
forall era.
ConwayEraGov era =&gt;
Lens' (GovState era) (DRepPulsingState era)
Lens' (GovState era) (DRepPulsingState era)
</span><a href="Cardano.Ledger.Conway.Governance.html#drepPulsingStateGovStateL"><span class="hs-identifier hs-var">drepPulsingStateGovStateL</span></a></span><span>
</span><span id="line-456"></span><span>      </span><span class="annot"><span class="annottext">((DRepPulsingState era -&gt; Identity (DRepPulsingState era))
 -&gt; EpochState era -&gt; Identity (EpochState era))
-&gt; DRepPulsingState era -&gt; EpochState era -&gt; EpochState era
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#.~"><span class="hs-operator hs-var">.~</span></a></span><span> </span><span class="annot"><span class="annottext">PulsingSnapshot era -&gt; RatifyState era -&gt; DRepPulsingState era
forall era.
PulsingSnapshot era -&gt; RatifyState era -&gt; DRepPulsingState era
</span><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#DRComplete"><span class="hs-identifier hs-var">DRComplete</span></a></span><span> </span><span class="annot"><span class="annottext">PulsingSnapshot era
</span><a href="#local-6989586621679631046"><span class="hs-identifier hs-var">snapshot</span></a></span><span> </span><span class="annot"><span class="annottext">RatifyState era
</span><a href="#local-6989586621679631047"><span class="hs-identifier hs-var">ratifyState</span></a></span><span>
</span><span id="line-457"></span><span>
</span><span id="line-458"></span><span class="hs-comment">-- | Refresh the pulser in the EpochState using all the new data that is needed to compute</span><span>
</span><span id="line-459"></span><span class="hs-comment">-- the RatifyState when pulsing completes.</span><span>
</span><span id="line-460"></span><span id="local-6989586621679630004"><span id="local-6989586621679630005"><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#setFreshDRepPulsingState"><span class="hs-identifier hs-type">setFreshDRepPulsingState</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-461"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Governance.html#GovState"><span class="hs-identifier hs-type">GovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679630004"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayGovState"><span class="hs-identifier hs-type">ConwayGovState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679630004"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-462"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679630005"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-463"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#RunConwayRatify"><span class="hs-identifier hs-type">RunConwayRatify</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679630004"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-464"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayEraGov"><span class="hs-identifier hs-type">ConwayEraGov</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679630004"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-465"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Conway.State.CertState.html#ConwayEraCertState"><span class="hs-identifier hs-type">ConwayEraCertState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679630004"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-466"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-467"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-slotting-0.2.0.1-cbaa0d455a08b054bafb132b87b34221d87bbbacf98d60661b1ed3cfc20b13c4/share/doc/html/src/Cardano.Slotting.Slot.html#EpochNo"><span class="hs-identifier hs-type">EpochNo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-468"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.PoolDistr.html#PoolDistr"><span class="hs-identifier hs-type">PoolDistr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-469"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#EpochState"><span class="hs-identifier hs-type">EpochState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679630004"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-470"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">ReaderT</span></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.BaseTypes.html#Globals"><span class="hs-identifier hs-type">Globals</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679630005"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#EpochState"><span class="hs-identifier hs-type">EpochState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679630004"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-471"></span><span id="setFreshDRepPulsingState"><span class="annot"><span class="annottext">setFreshDRepPulsingState :: forall era (m :: * -&gt; *).
(GovState era ~ ConwayGovState era, Monad m, RunConwayRatify era,
 ConwayEraGov era, ConwayEraCertState era) =&gt;
EpochNo
-&gt; PoolDistr
-&gt; EpochState era
-&gt; ReaderT Globals m (EpochState era)
</span><a href="Cardano.Ledger.Conway.Governance.html#setFreshDRepPulsingState"><span class="hs-identifier hs-var hs-var">setFreshDRepPulsingState</span></a></span></span><span> </span><span id="local-6989586621679631125"><span class="annot"><span class="annottext">EpochNo
</span><a href="#local-6989586621679631125"><span class="hs-identifier hs-var">epochNo</span></a></span></span><span> </span><span id="local-6989586621679631126"><span class="annot"><span class="annottext">PoolDistr
</span><a href="#local-6989586621679631126"><span class="hs-identifier hs-var">stakePoolDistr</span></a></span></span><span> </span><span id="local-6989586621679631127"><span class="annot"><span class="annottext">EpochState era
</span><a href="#local-6989586621679631127"><span class="hs-identifier hs-var">epochState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-472"></span><span>  </span><span class="hs-comment">-- When we are finished with the pulser that was started at the last epoch boundary, we</span><span>
</span><span id="line-473"></span><span>  </span><span class="hs-comment">-- need to initialize a fresh DRep pulser. We do so by computing the pulse size and</span><span>
</span><span id="line-474"></span><span>  </span><span class="hs-comment">-- gathering the data, which we will snapshot inside the pulser. We expect approximately</span><span>
</span><span id="line-475"></span><span>  </span><span class="hs-comment">-- 10*k-many blocks to be produced each epoch, where `k` value is the stability</span><span>
</span><span id="line-476"></span><span>  </span><span class="hs-comment">-- window. We must ensure for secure operation of the Hard Fork Combinator that we have</span><span>
</span><span id="line-477"></span><span>  </span><span class="hs-comment">-- the new EnactState available `6k/f` slots before the end of the epoch, while</span><span>
</span><span id="line-478"></span><span>  </span><span class="hs-comment">-- spreading out stake distribution computation throughout the `4k/f` slots. In this</span><span>
</span><span id="line-479"></span><span>  </span><span class="hs-comment">-- formula `f` stands for the active slot coefficient, which means that there will be</span><span>
</span><span id="line-480"></span><span>  </span><span class="hs-comment">-- approximately `4k` blocks created during that period.</span><span>
</span><span id="line-481"></span><span>  </span><span id="local-6989586621679631128"><span class="annot"><span class="annottext">Globals
</span><a href="#local-6989586621679631128"><span class="hs-identifier hs-var">globals</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ReaderT Globals m Globals
forall (m :: * -&gt; *) r. Monad m =&gt; ReaderT r m r
</span><span class="hs-identifier hs-var">ask</span></span><span>
</span><span id="line-482"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679631129"><span class="annot"><span class="annottext">ledgerState :: LedgerState era
</span><a href="#local-6989586621679631129"><span class="hs-identifier hs-var hs-var">ledgerState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpochState era
</span><a href="#local-6989586621679631127"><span class="hs-identifier hs-var">epochState</span></a></span><span> </span><span class="annot"><span class="annottext">EpochState era
-&gt; Getting (LedgerState era) (EpochState era) (LedgerState era)
-&gt; LedgerState era
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (LedgerState era) (EpochState era) (LedgerState era)
forall era (f :: * -&gt; *).
Functor f =&gt;
(LedgerState era -&gt; f (LedgerState era))
-&gt; EpochState era -&gt; f (EpochState era)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#esLStateL"><span class="hs-identifier hs-var">esLStateL</span></a></span><span>
</span><span id="line-483"></span><span>      </span><span id="local-6989586621679631130"><span class="annot"><span class="annottext">utxoState :: UTxOState era
</span><a href="#local-6989586621679631130"><span class="hs-identifier hs-var hs-var">utxoState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LedgerState era -&gt; UTxOState era
forall era. LedgerState era -&gt; UTxOState era
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#lsUTxOState"><span class="hs-identifier hs-var">lsUTxOState</span></a></span><span> </span><span class="annot"><span class="annottext">LedgerState era
</span><a href="#local-6989586621679631129"><span class="hs-identifier hs-var">ledgerState</span></a></span><span>
</span><span id="line-484"></span><span>      </span><span id="local-6989586621679631131"><span class="annot"><span class="annottext">instantStake :: InstantStake era
</span><a href="#local-6989586621679631131"><span class="hs-identifier hs-var hs-var">instantStake</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UTxOState era
</span><a href="#local-6989586621679631130"><span class="hs-identifier hs-var">utxoState</span></a></span><span> </span><span class="annot"><span class="annottext">UTxOState era
-&gt; Getting (InstantStake era) (UTxOState era) (InstantStake era)
-&gt; InstantStake era
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (InstantStake era) (UTxOState era) (InstantStake era)
forall era. SimpleGetter (UTxOState era) (InstantStake era)
forall (t :: * -&gt; *) era.
CanGetInstantStake t =&gt;
SimpleGetter (t era) (InstantStake era)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Stake.html#instantStakeG"><span class="hs-identifier hs-var">instantStakeG</span></a></span><span>
</span><span id="line-485"></span><span>      </span><span id="local-6989586621679631133"><span class="annot"><span class="annottext">certState :: CertState era
</span><a href="#local-6989586621679631133"><span class="hs-identifier hs-var hs-var">certState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LedgerState era -&gt; CertState era
forall era. LedgerState era -&gt; CertState era
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#lsCertState"><span class="hs-identifier hs-var">lsCertState</span></a></span><span> </span><span class="annot"><span class="annottext">LedgerState era
</span><a href="#local-6989586621679631129"><span class="hs-identifier hs-var">ledgerState</span></a></span><span>
</span><span id="line-486"></span><span>      </span><span id="local-6989586621679631134"><span class="annot"><span class="annottext">dState :: DState era
</span><a href="#local-6989586621679631134"><span class="hs-identifier hs-var hs-var">dState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CertState era
</span><a href="#local-6989586621679631133"><span class="hs-identifier hs-var">certState</span></a></span><span> </span><span class="annot"><span class="annottext">CertState era
-&gt; Getting (DState era) (CertState era) (DState era) -&gt; DState era
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (DState era) (CertState era) (DState era)
forall era. EraCertState era =&gt; Lens' (CertState era) (DState era)
Lens' (CertState era) (DState era)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.CertState.html#certDStateL"><span class="hs-identifier hs-var">certDStateL</span></a></span><span>
</span><span id="line-487"></span><span>      </span><span id="local-6989586621679631136"><span class="annot"><span class="annottext">vState :: VState era
</span><a href="#local-6989586621679631136"><span class="hs-identifier hs-var hs-var">vState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CertState era
</span><a href="#local-6989586621679631133"><span class="hs-identifier hs-var">certState</span></a></span><span> </span><span class="annot"><span class="annottext">CertState era
-&gt; Getting (VState era) (CertState era) (VState era) -&gt; VState era
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (VState era) (CertState era) (VState era)
forall era.
ConwayEraCertState era =&gt;
Lens' (CertState era) (VState era)
Lens' (CertState era) (VState era)
</span><a href="Cardano.Ledger.Conway.State.CertState.html#certVStateL"><span class="hs-identifier hs-var">certVStateL</span></a></span><span>
</span><span id="line-488"></span><span>      </span><span id="local-6989586621679631138"><span class="annot"><span class="annottext">govState :: ConwayGovState era
</span><a href="#local-6989586621679631138"><span class="hs-identifier hs-var hs-var">govState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpochState era
</span><a href="#local-6989586621679631127"><span class="hs-identifier hs-var">epochState</span></a></span><span> </span><span class="annot"><span class="annottext">EpochState era
-&gt; Getting
     (ConwayGovState era) (EpochState era) (ConwayGovState era)
-&gt; ConwayGovState era
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">(GovState era -&gt; Const (ConwayGovState era) (GovState era))
-&gt; EpochState era -&gt; Const (ConwayGovState era) (EpochState era)
Getting (ConwayGovState era) (EpochState era) (ConwayGovState era)
forall era (f :: * -&gt; *).
Functor f =&gt;
(GovState era -&gt; f (GovState era))
-&gt; EpochState era -&gt; f (EpochState era)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#epochStateGovStateL"><span class="hs-identifier hs-var">epochStateGovStateL</span></a></span><span>
</span><span id="line-489"></span><span>      </span><span id="local-6989586621679631139"><span class="annot"><span class="annottext">props :: Proposals era
</span><a href="#local-6989586621679631139"><span class="hs-identifier hs-var hs-var">props</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConwayGovState era
</span><a href="#local-6989586621679631138"><span class="hs-identifier hs-var">govState</span></a></span><span> </span><span class="annot"><span class="annottext">ConwayGovState era
-&gt; Getting (Proposals era) (ConwayGovState era) (Proposals era)
-&gt; Proposals era
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Proposals era) (ConwayGovState era) (Proposals era)
forall era (f :: * -&gt; *).
Functor f =&gt;
(Proposals era -&gt; f (Proposals era))
-&gt; ConwayGovState era -&gt; f (ConwayGovState era)
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsProposalsL"><span class="hs-identifier hs-var">cgsProposalsL</span></a></span><span>
</span><span id="line-490"></span><span>      </span><span class="hs-comment">-- Maximum number of blocks we are allowed to roll back: usually a small positive number</span><span>
</span><span id="line-491"></span><span>      </span><span id="local-6989586621679631140"><span class="annot"><span class="annottext">k :: NonZero Word64
</span><a href="#local-6989586621679631140"><span class="hs-identifier hs-var hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Globals -&gt; NonZero Word64
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.BaseTypes.html#securityParameter"><span class="hs-identifier hs-var">securityParameter</span></a></span><span> </span><span class="annot"><span class="annottext">Globals
</span><a href="#local-6989586621679631128"><span class="hs-identifier hs-var">globals</span></a></span><span> </span><span class="hs-comment">-- On mainnet set to 2160</span><span>
</span><span id="line-492"></span><span>      </span><span id="local-6989586621679631142"><span class="annot"><span class="annottext">numAccounts :: Int
</span><a href="#local-6989586621679631142"><span class="hs-identifier hs-var hs-var">numAccounts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map (Credential 'Staking) (AccountState era) -&gt; Int
forall k a. Map k a -&gt; Int
</span><span class="hs-identifier hs-var">Map.size</span></span><span> </span><span class="annot"><span class="annottext">(Map (Credential 'Staking) (AccountState era) -&gt; Int)
-&gt; Map (Credential 'Staking) (AccountState era) -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DState era
</span><a href="#local-6989586621679631134"><span class="hs-identifier hs-var">dState</span></a></span><span> </span><span class="annot"><span class="annottext">DState era
-&gt; Getting
     (Map (Credential 'Staking) (AccountState era))
     (DState era)
     (Map (Credential 'Staking) (AccountState era))
-&gt; Map (Credential 'Staking) (AccountState era)
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">(Accounts era
 -&gt; Const
      (Map (Credential 'Staking) (AccountState era)) (Accounts era))
-&gt; DState era
-&gt; Const
     (Map (Credential 'Staking) (AccountState era)) (DState era)
forall era. Lens' (DState era) (Accounts era)
forall (t :: * -&gt; *) era.
CanSetAccounts t =&gt;
Lens' (t era) (Accounts era)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Account.html#accountsL"><span class="hs-identifier hs-var">accountsL</span></a></span><span> </span><span class="annot"><span class="annottext">((Accounts era
  -&gt; Const
       (Map (Credential 'Staking) (AccountState era)) (Accounts era))
 -&gt; DState era
 -&gt; Const
      (Map (Credential 'Staking) (AccountState era)) (DState era))
-&gt; ((Map (Credential 'Staking) (AccountState era)
     -&gt; Const
          (Map (Credential 'Staking) (AccountState era))
          (Map (Credential 'Staking) (AccountState era)))
    -&gt; Accounts era
    -&gt; Const
         (Map (Credential 'Staking) (AccountState era)) (Accounts era))
-&gt; Getting
     (Map (Credential 'Staking) (AccountState era))
     (DState era)
     (Map (Credential 'Staking) (AccountState era))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Map (Credential 'Staking) (AccountState era)
 -&gt; Const
      (Map (Credential 'Staking) (AccountState era))
      (Map (Credential 'Staking) (AccountState era)))
-&gt; Accounts era
-&gt; Const
     (Map (Credential 'Staking) (AccountState era)) (Accounts era)
forall era.
EraAccounts era =&gt;
Lens' (Accounts era) (Map (Credential 'Staking) (AccountState era))
Lens' (Accounts era) (Map (Credential 'Staking) (AccountState era))
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Account.html#accountsMapL"><span class="hs-identifier hs-var">accountsMapL</span></a></span><span>
</span><span id="line-493"></span><span>      </span><span id="local-6989586621679631146"><span class="annot"><span class="annottext">pulseSize :: Ratio Integer
</span><a href="#local-6989586621679631146"><span class="hs-identifier hs-var hs-var">pulseSize</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ratio Integer -&gt; Ratio Integer -&gt; Ratio Integer
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="annot"><span class="annottext">Ratio Integer
</span><span class="hs-number">1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679631142"><span class="hs-identifier hs-var">numAccounts</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; NonZero Integer -&gt; Ratio Integer
forall a. Integral a =&gt; a -&gt; NonZero a -&gt; Ratio a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.BaseTypes.NonZero.html#%25."><span class="hs-operator hs-var">%.</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (n :: Natural). (KnownNat n, 1 &lt;= n) =&gt; NonZero Integer
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.BaseTypes.NonZero.html#knownNonZero"><span class="hs-identifier hs-var">knownNonZero</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-number">4</span></span><span> </span><span class="annot"><span class="annottext">NonZero Integer -&gt; NonZero Integer -&gt; NonZero Integer
forall a b.
(Integral a, Integral b) =&gt;
NonZero a -&gt; NonZero b -&gt; NonZero Integer
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.BaseTypes.NonZero.html#mulNonZero"><span class="hs-operator hs-var">`mulNonZero`</span></a></span><span> </span><span class="annot"><span class="annottext">NonZero Word64 -&gt; NonZero Integer
forall a. Integral a =&gt; NonZero a -&gt; NonZero Integer
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.BaseTypes.NonZero.html#toIntegerNonZero"><span class="hs-identifier hs-var">toIntegerNonZero</span></a></span><span> </span><span class="annot"><span class="annottext">NonZero Word64
</span><a href="#local-6989586621679631140"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-494"></span><span>      </span><span id="local-6989586621679631148"><span class="annot"><span class="annottext">govState' :: ConwayGovState era
</span><a href="#local-6989586621679631148"><span class="hs-identifier hs-var hs-var">govState'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-495"></span><span>        </span><span class="annot"><span class="annottext">ConwayGovState era -&gt; ConwayGovState era
forall era.
(ConwayEraAccounts era, EraStake era) =&gt;
ConwayGovState era -&gt; ConwayGovState era
</span><a href="Cardano.Ledger.Conway.Governance.html#predictFuturePParams"><span class="hs-identifier hs-var">predictFuturePParams</span></a></span><span> </span><span class="annot"><span class="annottext">(ConwayGovState era -&gt; ConwayGovState era)
-&gt; ConwayGovState era -&gt; ConwayGovState era
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-496"></span><span>          </span><span class="annot"><span class="annottext">ConwayGovState era
</span><a href="#local-6989586621679631138"><span class="hs-identifier hs-var">govState</span></a></span><span>
</span><span id="line-497"></span><span>            </span><span class="annot"><span class="annottext">ConwayGovState era
-&gt; (ConwayGovState era -&gt; ConwayGovState era) -&gt; ConwayGovState era
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">(DRepPulsingState era -&gt; Identity (DRepPulsingState era))
-&gt; ConwayGovState era -&gt; Identity (ConwayGovState era)
forall era (f :: * -&gt; *).
Functor f =&gt;
(DRepPulsingState era -&gt; f (DRepPulsingState era))
-&gt; ConwayGovState era -&gt; f (ConwayGovState era)
</span><a href="Cardano.Ledger.Conway.Governance.html#cgsDRepPulsingStateL"><span class="hs-identifier hs-var">cgsDRepPulsingStateL</span></a></span><span>
</span><span id="line-498"></span><span>              </span><span class="annot"><span class="annottext">((DRepPulsingState era -&gt; Identity (DRepPulsingState era))
 -&gt; ConwayGovState era -&gt; Identity (ConwayGovState era))
-&gt; DRepPulsingState era -&gt; ConwayGovState era -&gt; ConwayGovState era
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#.~"><span class="hs-operator hs-var">.~</span></a></span><span> </span><span class="annot"><span class="annottext">DRepPulser era Identity (RatifyState era) -&gt; DRepPulsingState era
forall era.
DRepPulser era Identity (RatifyState era) -&gt; DRepPulsingState era
</span><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#DRPulsing"><span class="hs-identifier hs-var">DRPulsing</span></a></span><span>
</span><span id="line-499"></span><span>                </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#DRepPulser"><span class="hs-identifier hs-type">DRepPulser</span></a></span><span>
</span><span id="line-500"></span><span>                    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">dpPulseSize :: Int
</span><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#dpPulseSize"><span class="hs-identifier hs-var">dpPulseSize</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ratio Integer -&gt; Int
forall b. Integral b =&gt; Ratio Integer -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">floor</span></span><span> </span><span class="annot"><span class="annottext">Ratio Integer
</span><a href="#local-6989586621679631146"><span class="hs-identifier hs-var">pulseSize</span></a></span><span>
</span><span id="line-501"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dpAccounts :: Accounts era
</span><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#dpAccounts"><span class="hs-identifier hs-var">dpAccounts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DState era
</span><a href="#local-6989586621679631134"><span class="hs-identifier hs-var">dState</span></a></span><span> </span><span class="annot"><span class="annottext">DState era
-&gt; Getting (Accounts era) (DState era) (Accounts era)
-&gt; Accounts era
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Accounts era) (DState era) (Accounts era)
forall era. Lens' (DState era) (Accounts era)
forall (t :: * -&gt; *) era.
CanSetAccounts t =&gt;
Lens' (t era) (Accounts era)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Account.html#accountsL"><span class="hs-identifier hs-var">accountsL</span></a></span><span>
</span><span id="line-502"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dpIndex :: Int
</span><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#dpIndex"><span class="hs-identifier hs-var">dpIndex</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-comment">-- used as the index of the remaining UMap</span><span>
</span><span id="line-503"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dpInstantStake :: InstantStake era
</span><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#dpInstantStake"><span class="hs-identifier hs-var">dpInstantStake</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InstantStake era
</span><a href="#local-6989586621679631131"><span class="hs-identifier hs-var">instantStake</span></a></span><span> </span><span class="hs-comment">-- used as part of the snapshot</span><span>
</span><span id="line-504"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dpStakePoolDistr :: PoolDistr
</span><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#dpStakePoolDistr"><span class="hs-identifier hs-var">dpStakePoolDistr</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PoolDistr
</span><a href="#local-6989586621679631126"><span class="hs-identifier hs-var">stakePoolDistr</span></a></span><span>
</span><span id="line-505"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dpDRepDistr :: Map DRep (CompactForm Coin)
</span><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#dpDRepDistr"><span class="hs-identifier hs-var">dpDRepDistr</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map DRep (CompactForm Coin)
forall k a. Map k a
</span><span class="hs-identifier hs-var">Map.empty</span></span><span> </span><span class="hs-comment">-- The partial result starts as the empty map</span><span>
</span><span id="line-506"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dpDRepState :: Map (Credential 'DRepRole) DRepState
</span><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#dpDRepState"><span class="hs-identifier hs-var">dpDRepState</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">VState era -&gt; Map (Credential 'DRepRole) DRepState
forall era. VState era -&gt; Map (Credential 'DRepRole) DRepState
</span><a href="Cardano.Ledger.Conway.State.VState.html#vsDReps"><span class="hs-identifier hs-var">vsDReps</span></a></span><span> </span><span class="annot"><span class="annottext">VState era
</span><a href="#local-6989586621679631136"><span class="hs-identifier hs-var">vState</span></a></span><span>
</span><span id="line-507"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dpCurrentEpoch :: EpochNo
</span><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#dpCurrentEpoch"><span class="hs-identifier hs-var">dpCurrentEpoch</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpochNo
</span><a href="#local-6989586621679631125"><span class="hs-identifier hs-var">epochNo</span></a></span><span>
</span><span id="line-508"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dpCommitteeState :: CommitteeState era
</span><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#dpCommitteeState"><span class="hs-identifier hs-var">dpCommitteeState</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">VState era -&gt; CommitteeState era
forall era. VState era -&gt; CommitteeState era
</span><a href="Cardano.Ledger.Conway.State.VState.html#vsCommitteeState"><span class="hs-identifier hs-var">vsCommitteeState</span></a></span><span> </span><span class="annot"><span class="annottext">VState era
</span><a href="#local-6989586621679631136"><span class="hs-identifier hs-var">vState</span></a></span><span>
</span><span id="line-509"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dpEnactState :: EnactState era
</span><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#dpEnactState"><span class="hs-identifier hs-var">dpEnactState</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-510"></span><span>                        </span><span class="annot"><span class="annottext">GovState era -&gt; EnactState era
forall era. ConwayEraGov era =&gt; GovState era -&gt; EnactState era
</span><a href="Cardano.Ledger.Conway.Governance.html#mkEnactState"><span class="hs-identifier hs-var">mkEnactState</span></a></span><span> </span><span class="annot"><span class="annottext">GovState era
ConwayGovState era
</span><a href="#local-6989586621679631138"><span class="hs-identifier hs-var">govState</span></a></span><span>
</span><span id="line-511"></span><span>                          </span><span class="annot"><span class="annottext">EnactState era
-&gt; (EnactState era -&gt; EnactState era) -&gt; EnactState era
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">(Coin -&gt; Identity Coin)
-&gt; EnactState era -&gt; Identity (EnactState era)
forall era (f :: * -&gt; *).
Functor f =&gt;
(Coin -&gt; f Coin) -&gt; EnactState era -&gt; f (EnactState era)
</span><a href="Cardano.Ledger.Conway.Governance.Internal.html#ensTreasuryL"><span class="hs-identifier hs-var">ensTreasuryL</span></a></span><span> </span><span class="annot"><span class="annottext">((Coin -&gt; Identity Coin)
 -&gt; EnactState era -&gt; Identity (EnactState era))
-&gt; Coin -&gt; EnactState era -&gt; EnactState era
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#.~"><span class="hs-operator hs-var">.~</span></a></span><span> </span><span class="annot"><span class="annottext">EpochState era
</span><a href="#local-6989586621679631127"><span class="hs-identifier hs-var">epochState</span></a></span><span> </span><span class="annot"><span class="annottext">EpochState era -&gt; Getting Coin (EpochState era) Coin -&gt; Coin
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting Coin (EpochState era) Coin
Lens' (EpochState era) Coin
forall (t :: * -&gt; *) era.
CanSetChainAccountState t =&gt;
Lens' (t era) Coin
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.ChainAccount.html#treasuryL"><span class="hs-identifier hs-var">treasuryL</span></a></span><span>
</span><span id="line-512"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dpProposals :: StrictSeq (GovActionState era)
</span><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#dpProposals"><span class="hs-identifier hs-var">dpProposals</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proposals era -&gt; StrictSeq (GovActionState era)
forall era. Proposals era -&gt; StrictSeq (GovActionState era)
</span><a href="Cardano.Ledger.Conway.Governance.Proposals.html#proposalsActions"><span class="hs-identifier hs-var">proposalsActions</span></a></span><span> </span><span class="annot"><span class="annottext">Proposals era
</span><a href="#local-6989586621679631139"><span class="hs-identifier hs-var">props</span></a></span><span>
</span><span id="line-513"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dpProposalDeposits :: Map (Credential 'Staking) (CompactForm Coin)
</span><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#dpProposalDeposits"><span class="hs-identifier hs-var">dpProposalDeposits</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proposals era -&gt; Map (Credential 'Staking) (CompactForm Coin)
forall era.
Proposals era -&gt; Map (Credential 'Staking) (CompactForm Coin)
</span><a href="Cardano.Ledger.Conway.Governance.Proposals.html#proposalsDeposits"><span class="hs-identifier hs-var">proposalsDeposits</span></a></span><span> </span><span class="annot"><span class="annottext">Proposals era
</span><a href="#local-6989586621679631139"><span class="hs-identifier hs-var">props</span></a></span><span>
</span><span id="line-514"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dpGlobals :: Globals
</span><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#dpGlobals"><span class="hs-identifier hs-var">dpGlobals</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Globals
</span><a href="#local-6989586621679631128"><span class="hs-identifier hs-var">globals</span></a></span><span>
</span><span id="line-515"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dpStakePools :: Map (KeyHash 'StakePool) StakePoolState
</span><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#dpStakePools"><span class="hs-identifier hs-var">dpStakePools</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpochState era
</span><a href="#local-6989586621679631127"><span class="hs-identifier hs-var">epochState</span></a></span><span> </span><span class="annot"><span class="annottext">EpochState era
-&gt; Getting
     (Map (KeyHash 'StakePool) StakePoolState)
     (EpochState era)
     (Map (KeyHash 'StakePool) StakePoolState)
-&gt; Map (KeyHash 'StakePool) StakePoolState
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting
  (Map (KeyHash 'StakePool) StakePoolState)
  (EpochState era)
  (Map (KeyHash 'StakePool) StakePoolState)
forall era.
EraCertState era =&gt;
Lens' (EpochState era) (Map (KeyHash 'StakePool) StakePoolState)
Lens' (EpochState era) (Map (KeyHash 'StakePool) StakePoolState)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#epochStateStakePoolsL"><span class="hs-identifier hs-var">epochStateStakePoolsL</span></a></span><span>
</span><span id="line-516"></span><span>                    </span><span class="hs-special">}</span><span>
</span><span id="line-517"></span><span>                </span><span class="hs-special">)</span><span>
</span><span id="line-518"></span><span>  </span><span class="annot"><span class="annottext">EpochState era -&gt; ReaderT Globals m (EpochState era)
forall a. a -&gt; ReaderT Globals m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(EpochState era -&gt; ReaderT Globals m (EpochState era))
-&gt; EpochState era -&gt; ReaderT Globals m (EpochState era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">EpochState era
</span><a href="#local-6989586621679631127"><span class="hs-identifier hs-var">epochState</span></a></span><span> </span><span class="annot"><span class="annottext">EpochState era
-&gt; (EpochState era -&gt; EpochState era) -&gt; EpochState era
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">(GovState era -&gt; Identity (GovState era))
-&gt; EpochState era -&gt; Identity (EpochState era)
(ConwayGovState era -&gt; Identity (ConwayGovState era))
-&gt; EpochState era -&gt; Identity (EpochState era)
forall era (f :: * -&gt; *).
Functor f =&gt;
(GovState era -&gt; f (GovState era))
-&gt; EpochState era -&gt; f (EpochState era)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#epochStateGovStateL"><span class="hs-identifier hs-var">epochStateGovStateL</span></a></span><span> </span><span class="annot"><span class="annottext">((ConwayGovState era -&gt; Identity (ConwayGovState era))
 -&gt; EpochState era -&gt; Identity (EpochState era))
-&gt; ConwayGovState era -&gt; EpochState era -&gt; EpochState era
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#.~"><span class="hs-operator hs-var">.~</span></a></span><span> </span><span class="annot"><span class="annottext">ConwayGovState era
</span><a href="#local-6989586621679631148"><span class="hs-identifier hs-var">govState'</span></a></span><span>
</span><span id="line-519"></span><span>
</span><span id="line-520"></span><span class="hs-comment">-- | Force computation of DRep stake distribution and figure out the next enact</span><span>
</span><span id="line-521"></span><span class="hs-comment">-- state. This operation is useful in cases when access to new EnactState or DRep stake</span><span>
</span><span id="line-522"></span><span class="hs-comment">-- distribution is needed more than once. It is safe to call this function at any</span><span>
</span><span id="line-523"></span><span class="hs-comment">-- point. Whenever pulser is already in computed state this will be a noop.</span><span>
</span><span id="line-524"></span><span id="local-6989586621679630078"><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#forceDRepPulsingState"><span class="hs-identifier hs-type">forceDRepPulsingState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#ConwayEraGov"><span class="hs-identifier hs-type">ConwayEraGov</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679630078"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#NewEpochState"><span class="hs-identifier hs-type">NewEpochState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679630078"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-shelley-1.17.2.0/doc/html/cardano-ledger-shelley/src/Cardano.Ledger.Shelley.LedgerState.Types.html#NewEpochState"><span class="hs-identifier hs-type">NewEpochState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679630078"><span class="hs-identifier hs-type">era</span></a></span></span><span>
</span><span id="line-525"></span><span id="forceDRepPulsingState"><span class="annot"><span class="annottext">forceDRepPulsingState :: forall era.
ConwayEraGov era =&gt;
NewEpochState era -&gt; NewEpochState era
</span><a href="Cardano.Ledger.Conway.Governance.html#forceDRepPulsingState"><span class="hs-identifier hs-var hs-var">forceDRepPulsingState</span></a></span></span><span> </span><span id="local-6989586621679631177"><span class="annot"><span class="annottext">NewEpochState era
</span><a href="#local-6989586621679631177"><span class="hs-identifier hs-var">nes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NewEpochState era
</span><a href="#local-6989586621679631177"><span class="hs-identifier hs-var">nes</span></a></span><span> </span><span class="annot"><span class="annottext">NewEpochState era
-&gt; (NewEpochState era -&gt; NewEpochState era) -&gt; NewEpochState era
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">(DRepPulsingState era -&gt; Identity (DRepPulsingState era))
-&gt; NewEpochState era -&gt; Identity (NewEpochState era)
forall era.
ConwayEraGov era =&gt;
Lens' (NewEpochState era) (DRepPulsingState era)
Lens' (NewEpochState era) (DRepPulsingState era)
</span><a href="Cardano.Ledger.Conway.Governance.html#newEpochStateDRepPulsingStateL"><span class="hs-identifier hs-var">newEpochStateDRepPulsingStateL</span></a></span><span> </span><span class="annot"><span class="annottext">((DRepPulsingState era -&gt; Identity (DRepPulsingState era))
 -&gt; NewEpochState era -&gt; Identity (NewEpochState era))
-&gt; (DRepPulsingState era -&gt; DRepPulsingState era)
-&gt; NewEpochState era
-&gt; NewEpochState era
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%25~"><span class="hs-operator hs-var">%~</span></a></span><span> </span><span class="annot"><span class="annottext">DRepPulsingState era -&gt; DRepPulsingState era
forall era.
(EraStake era, ConwayEraAccounts era) =&gt;
DRepPulsingState era -&gt; DRepPulsingState era
</span><a href="Cardano.Ledger.Conway.Governance.DRepPulser.html#completeDRepPulsingState"><span class="hs-identifier hs-var">completeDRepPulsingState</span></a></span><span>
</span><span id="line-526"></span><span>
</span><span id="line-527"></span><span class="annot"><span class="hs-comment">-- | Default vote that will be used for Stake Pool.</span></span><span>
</span><span id="line-528"></span><span class="hs-keyword">data</span><span> </span><span id="DefaultVote"><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#DefaultVote"><span class="hs-identifier hs-var">DefaultVote</span></a></span></span><span>
</span><span id="line-529"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-comment">-- | Reward account is delegated to a @DRepKeyHash@, @DRepScriptHash@ or undelegated:</span><span>
</span><span id="line-530"></span><span>    </span><span class="hs-comment">--   default vote is @No@.</span><span>
</span><span id="line-531"></span><span>    </span><span id="DefaultNo"><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#DefaultNo"><span class="hs-identifier hs-var">DefaultNo</span></a></span></span><span>
</span><span id="line-532"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | Reward account is delegated to @DRepAlwaysAbstain@:</span><span>
</span><span id="line-533"></span><span>    </span><span class="hs-comment">--   default vote is @Abstain@, except for @HardForkInitiation@ actions.</span><span>
</span><span id="line-534"></span><span>    </span><span id="DefaultAbstain"><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#DefaultAbstain"><span class="hs-identifier hs-var">DefaultAbstain</span></a></span></span><span>
</span><span id="line-535"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | Reward account is delegated to @DRepAlwaysNoConfidence@:</span><span>
</span><span id="line-536"></span><span>    </span><span class="hs-comment">--   default vote is @Yes@ in case of a @NoConfidence@ action, otherwise @No@.</span><span>
</span><span id="line-537"></span><span>    </span><span id="DefaultNoConfidence"><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#DefaultNoConfidence"><span class="hs-identifier hs-var">DefaultNoConfidence</span></a></span></span><span>
</span><span id="line-538"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679631183"><span id="local-6989586621679631185"><span class="annot"><span class="annottext">DefaultVote -&gt; DefaultVote -&gt; Bool
(DefaultVote -&gt; DefaultVote -&gt; Bool)
-&gt; (DefaultVote -&gt; DefaultVote -&gt; Bool) -&gt; Eq DefaultVote
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: DefaultVote -&gt; DefaultVote -&gt; Bool
== :: DefaultVote -&gt; DefaultVote -&gt; Bool
$c/= :: DefaultVote -&gt; DefaultVote -&gt; Bool
/= :: DefaultVote -&gt; DefaultVote -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679631189"><span id="local-6989586621679631191"><span id="local-6989586621679631195"><span class="annot"><span class="annottext">Int -&gt; DefaultVote -&gt; ShowS
[DefaultVote] -&gt; ShowS
DefaultVote -&gt; String
(Int -&gt; DefaultVote -&gt; ShowS)
-&gt; (DefaultVote -&gt; String)
-&gt; ([DefaultVote] -&gt; ShowS)
-&gt; Show DefaultVote
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; DefaultVote -&gt; ShowS
showsPrec :: Int -&gt; DefaultVote -&gt; ShowS
$cshow :: DefaultVote -&gt; String
show :: DefaultVote -&gt; String
$cshowList :: [DefaultVote] -&gt; ShowS
showList :: [DefaultVote] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-539"></span><span>
</span><span id="line-540"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679631201"><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-binary-1.7.2.0-a8823886ffd0b2d51904ce75fd27e0a08a953fdc80b3ee2bc40708ca6dbab289/share/doc/html/src/Cardano.Binary.FromCBOR.html#FromCBOR"><span class="hs-identifier hs-type">FromCBOR</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#DefaultVote"><span class="hs-identifier hs-type">DefaultVote</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-541"></span><span>  </span><span id="local-6989586621679631225"><span class="annot"><span class="annottext">fromCBOR :: forall s. Decoder s DefaultVote
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-binary-1.7.2.0-a8823886ffd0b2d51904ce75fd27e0a08a953fdc80b3ee2bc40708ca6dbab289/share/doc/html/src/Cardano.Binary.FromCBOR.html#fromCBOR"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-542"></span><span>    </span><span id="local-6989586621679631226"><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679631226"><span class="hs-identifier hs-var">tag</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Decoder s Word8
forall s. Decoder s Word8
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cborg-0.2.10.0-3e31f6cf34ff469fb38d9399ae33f1b7220bc22b21ee079efc2a64b820f9d556/share/doc/html/src/Codec.CBOR.Decoding.html#decodeWord8"><span class="hs-identifier hs-var">decodeWord8</span></a></span><span>
</span><span id="line-543"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679631226"><span class="hs-identifier hs-var">tag</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-544"></span><span>      </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DefaultVote -&gt; Decoder s DefaultVote
forall a. a -&gt; Decoder s a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">DefaultVote
</span><a href="Cardano.Ledger.Conway.Governance.html#DefaultNo"><span class="hs-identifier hs-var">DefaultNo</span></a></span><span>
</span><span id="line-545"></span><span>      </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DefaultVote -&gt; Decoder s DefaultVote
forall a. a -&gt; Decoder s a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">DefaultVote
</span><a href="Cardano.Ledger.Conway.Governance.html#DefaultAbstain"><span class="hs-identifier hs-var">DefaultAbstain</span></a></span><span>
</span><span id="line-546"></span><span>      </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">2</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DefaultVote -&gt; Decoder s DefaultVote
forall a. a -&gt; Decoder s a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">DefaultVote
</span><a href="Cardano.Ledger.Conway.Governance.html#DefaultNoConfidence"><span class="hs-identifier hs-var">DefaultNoConfidence</span></a></span><span>
</span><span id="line-547"></span><span>      </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Decoder s DefaultVote
forall a. String -&gt; Decoder s a
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><span class="hs-identifier hs-var">fail</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Decoder s DefaultVote)
-&gt; String -&gt; Decoder s DefaultVote
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Invalid DefaultVote tag &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679631226"><span class="hs-identifier hs-var">tag</span></a></span><span>
</span><span id="line-548"></span><span>
</span><span id="line-549"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679631232"><span id="local-6989586621679631236"><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-binary-1.7.2.0-a8823886ffd0b2d51904ce75fd27e0a08a953fdc80b3ee2bc40708ca6dbab289/share/doc/html/src/Cardano.Binary.ToCBOR.html#ToCBOR"><span class="hs-identifier hs-type">ToCBOR</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#DefaultVote"><span class="hs-identifier hs-type">DefaultVote</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-550"></span><span>  </span><span id="local-6989586621679631241"><span class="annot"><span class="annottext">toCBOR :: DefaultVote -&gt; Encoding
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-binary-1.7.2.0-a8823886ffd0b2d51904ce75fd27e0a08a953fdc80b3ee2bc40708ca6dbab289/share/doc/html/src/Cardano.Binary.ToCBOR.html#toCBOR"><span class="hs-identifier hs-var hs-var hs-var hs-var">toCBOR</span></a></span></span><span> </span><span class="annot"><span class="annottext">DefaultVote
</span><a href="Cardano.Ledger.Conway.Governance.html#DefaultNo"><span class="hs-identifier hs-var">DefaultNo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Encoding
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cborg-0.2.10.0-3e31f6cf34ff469fb38d9399ae33f1b7220bc22b21ee079efc2a64b820f9d556/share/doc/html/src/Codec.CBOR.Encoding.html#encodeWord8"><span class="hs-identifier hs-var">encodeWord8</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">0</span></span><span>
</span><span id="line-551"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-binary-1.7.2.0-a8823886ffd0b2d51904ce75fd27e0a08a953fdc80b3ee2bc40708ca6dbab289/share/doc/html/src/Cardano.Binary.ToCBOR.html#toCBOR"><span class="hs-identifier hs-var">toCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultVote
</span><a href="Cardano.Ledger.Conway.Governance.html#DefaultAbstain"><span class="hs-identifier hs-var">DefaultAbstain</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Encoding
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cborg-0.2.10.0-3e31f6cf34ff469fb38d9399ae33f1b7220bc22b21ee079efc2a64b820f9d556/share/doc/html/src/Codec.CBOR.Encoding.html#encodeWord8"><span class="hs-identifier hs-var">encodeWord8</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">1</span></span><span>
</span><span id="line-552"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-binary-1.7.2.0-a8823886ffd0b2d51904ce75fd27e0a08a953fdc80b3ee2bc40708ca6dbab289/share/doc/html/src/Cardano.Binary.ToCBOR.html#toCBOR"><span class="hs-identifier hs-var">toCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultVote
</span><a href="Cardano.Ledger.Conway.Governance.html#DefaultNoConfidence"><span class="hs-identifier hs-var">DefaultNoConfidence</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Encoding
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cborg-0.2.10.0-3e31f6cf34ff469fb38d9399ae33f1b7220bc22b21ee079efc2a64b820f9d556/share/doc/html/src/Codec.CBOR.Encoding.html#encodeWord8"><span class="hs-identifier hs-var">encodeWord8</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">2</span></span><span>
</span><span id="line-553"></span><span>
</span><span id="line-554"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679631245"><span id="local-6989586621679631250"><span id="local-6989586621679631253"><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#EncCBOR"><span class="hs-identifier hs-type">EncCBOR</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#DefaultVote"><span class="hs-identifier hs-type">DefaultVote</span></a></span></span></span></span><span>
</span><span id="line-555"></span><span>
</span><span id="line-556"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679631258"><span id="local-6989586621679631263"><span id="local-6989586621679631266"><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#DecCBOR"><span class="hs-identifier hs-type">DecCBOR</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#DefaultVote"><span class="hs-identifier hs-type">DefaultVote</span></a></span></span></span></span><span>
</span><span id="line-557"></span><span>
</span><span id="line-558"></span><span id="local-6989586621679630095"><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#defaultStakePoolVote"><span class="hs-identifier hs-type">defaultStakePoolVote</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-559"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.State.Account.html#ConwayEraAccounts"><span class="hs-identifier hs-type">ConwayEraAccounts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679630095"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-560"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Specify the key hash of the pool whose default vote should be returned.</span></span><span>
</span><span id="line-561"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Hashes.html#KeyHash"><span class="hs-identifier hs-type">KeyHash</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#StakePool"><span class="hs-identifier hs-type">StakePool</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-562"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Registered Stake Pools</span></span><span>
</span><span id="line-563"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Hashes.html#KeyHash"><span class="hs-identifier hs-type">KeyHash</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#StakePool"><span class="hs-identifier hs-type">StakePool</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.StakePool.html#StakePoolState"><span class="hs-identifier hs-type">StakePoolState</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-564"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Delegations of staking credneitals to a DRep</span></span><span>
</span><span id="line-565"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Account.html#Accounts"><span class="hs-identifier hs-type">Accounts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679630095"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-566"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#DefaultVote"><span class="hs-identifier hs-type">DefaultVote</span></a></span></span><span>
</span><span id="line-567"></span><span id="defaultStakePoolVote"><span class="annot"><span class="annottext">defaultStakePoolVote :: forall era.
ConwayEraAccounts era =&gt;
KeyHash 'StakePool
-&gt; Map (KeyHash 'StakePool) StakePoolState
-&gt; Accounts era
-&gt; DefaultVote
</span><a href="Cardano.Ledger.Conway.Governance.html#defaultStakePoolVote"><span class="hs-identifier hs-var hs-var">defaultStakePoolVote</span></a></span></span><span> </span><span id="local-6989586621679631280"><span class="annot"><span class="annottext">KeyHash 'StakePool
</span><a href="#local-6989586621679631280"><span class="hs-identifier hs-var">poolId</span></a></span></span><span> </span><span id="local-6989586621679631281"><span class="annot"><span class="annottext">Map (KeyHash 'StakePool) StakePoolState
</span><a href="#local-6989586621679631281"><span class="hs-identifier hs-var">poolParams</span></a></span></span><span> </span><span id="local-6989586621679631282"><span class="annot"><span class="annottext">Accounts era
</span><a href="#local-6989586621679631282"><span class="hs-identifier hs-var">accounts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-568"></span><span>  </span><span class="annot"><span class="annottext">Maybe DRep -&gt; DefaultVote
</span><a href="#local-6989586621679631283"><span class="hs-identifier hs-var">toDefaultVote</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe DRep -&gt; DefaultVote) -&gt; Maybe DRep -&gt; DefaultVote
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-569"></span><span>    </span><span id="local-6989586621679631284"><span class="annot"><span class="annottext">StakePoolState
</span><a href="#local-6989586621679631284"><span class="hs-identifier hs-var">spp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">KeyHash 'StakePool
-&gt; Map (KeyHash 'StakePool) StakePoolState -&gt; Maybe StakePoolState
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Map.lookup</span></span><span> </span><span class="annot"><span class="annottext">KeyHash 'StakePool
</span><a href="#local-6989586621679631280"><span class="hs-identifier hs-var">poolId</span></a></span><span> </span><span class="annot"><span class="annottext">Map (KeyHash 'StakePool) StakePoolState
</span><a href="#local-6989586621679631281"><span class="hs-identifier hs-var">poolParams</span></a></span><span>
</span><span id="line-570"></span><span>    </span><span id="local-6989586621679631286"><span class="annot"><span class="annottext">AccountState era
</span><a href="#local-6989586621679631286"><span class="hs-identifier hs-var">accountState</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Credential 'Staking
-&gt; Map (Credential 'Staking) (AccountState era)
-&gt; Maybe (AccountState era)
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Map.lookup</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RewardAccount -&gt; Credential 'Staking
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Address.html#raCredential"><span class="hs-identifier hs-var">raCredential</span></a></span><span> </span><span class="annot"><span class="annottext">(RewardAccount -&gt; Credential 'Staking)
-&gt; RewardAccount -&gt; Credential 'Staking
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">StakePoolState -&gt; RewardAccount
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.StakePool.html#spsRewardAccount"><span class="hs-identifier hs-var">spsRewardAccount</span></a></span><span> </span><span class="annot"><span class="annottext">StakePoolState
</span><a href="#local-6989586621679631284"><span class="hs-identifier hs-var">spp</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Accounts era
</span><a href="#local-6989586621679631282"><span class="hs-identifier hs-var">accounts</span></a></span><span> </span><span class="annot"><span class="annottext">Accounts era
-&gt; Getting
     (Map (Credential 'Staking) (AccountState era))
     (Accounts era)
     (Map (Credential 'Staking) (AccountState era))
-&gt; Map (Credential 'Staking) (AccountState era)
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting
  (Map (Credential 'Staking) (AccountState era))
  (Accounts era)
  (Map (Credential 'Staking) (AccountState era))
forall era.
EraAccounts era =&gt;
Lens' (Accounts era) (Map (Credential 'Staking) (AccountState era))
Lens' (Accounts era) (Map (Credential 'Staking) (AccountState era))
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Account.html#accountsMapL"><span class="hs-identifier hs-var">accountsMapL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-571"></span><span>    </span><span class="annot"><span class="annottext">AccountState era
</span><a href="#local-6989586621679631286"><span class="hs-identifier hs-var">accountState</span></a></span><span> </span><span class="annot"><span class="annottext">AccountState era
-&gt; Getting (Maybe DRep) (AccountState era) (Maybe DRep)
-&gt; Maybe DRep
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Maybe DRep) (AccountState era) (Maybe DRep)
forall era.
ConwayEraAccounts era =&gt;
Lens' (AccountState era) (Maybe DRep)
Lens' (AccountState era) (Maybe DRep)
</span><a href="Cardano.Ledger.Conway.State.Account.html#dRepDelegationAccountStateL"><span class="hs-identifier hs-var">dRepDelegationAccountStateL</span></a></span><span>
</span><span id="line-572"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-573"></span><span>    </span><span id="local-6989586621679631283"><span class="annot"><span class="annottext">toDefaultVote :: Maybe DRep -&gt; DefaultVote
</span><a href="#local-6989586621679631283"><span class="hs-identifier hs-var hs-var">toDefaultVote</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">DRep
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.DRep.html#DRepAlwaysAbstain"><span class="hs-identifier hs-var">DRepAlwaysAbstain</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefaultVote
</span><a href="Cardano.Ledger.Conway.Governance.html#DefaultAbstain"><span class="hs-identifier hs-var">DefaultAbstain</span></a></span><span>
</span><span id="line-574"></span><span>    </span><span class="annot"><a href="#local-6989586621679631283"><span class="hs-identifier hs-var">toDefaultVote</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">DRep
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.DRep.html#DRepAlwaysNoConfidence"><span class="hs-identifier hs-var">DRepAlwaysNoConfidence</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefaultVote
</span><a href="Cardano.Ledger.Conway.Governance.html#DefaultNoConfidence"><span class="hs-identifier hs-var">DefaultNoConfidence</span></a></span><span>
</span><span id="line-575"></span><span>    </span><span class="annot"><a href="#local-6989586621679631283"><span class="hs-identifier hs-var">toDefaultVote</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe DRep
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefaultVote
</span><a href="Cardano.Ledger.Conway.Governance.html#DefaultNo"><span class="hs-identifier hs-var">DefaultNo</span></a></span><span>
</span><span id="line-576"></span><span>
</span><span id="line-577"></span><span class="hs-comment">-- | Extract all unique hot credential authorizations for the current committee</span><span>
</span><span id="line-578"></span><span class="hs-comment">-- that is elected.</span><span>
</span><span id="line-579"></span><span id="local-6989586621679630102"><span class="annot"><a href="Cardano.Ledger.Conway.Governance.html#authorizedElectedHotCommitteeCredentials"><span class="hs-identifier hs-type">authorizedElectedHotCommitteeCredentials</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-580"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-strict-containers-0.1.5.0-d2741b9ef9564f4a1a3151d17a0f69b9663f5795dd47dab0bbd6117738fcce96/share/doc/html/src/Data.Maybe.Strict.html#StrictMaybe"><span class="hs-identifier hs-type">StrictMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Conway.Governance.Procedures.html#Committee"><span class="hs-identifier hs-type">Committee</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679630102"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-581"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.CertState.html#CommitteeState"><span class="hs-identifier hs-type">CommitteeState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679630102"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-582"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Set.Set</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Keys.Internal.html#HotCommitteeRole"><span class="hs-identifier hs-type">HotCommitteeRole</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-583"></span><span id="authorizedElectedHotCommitteeCredentials"><span class="annot"><span class="annottext">authorizedElectedHotCommitteeCredentials :: forall era.
StrictMaybe (Committee era)
-&gt; CommitteeState era -&gt; Set (Credential 'HotCommitteeRole)
</span><a href="Cardano.Ledger.Conway.Governance.html#authorizedElectedHotCommitteeCredentials"><span class="hs-identifier hs-var hs-var">authorizedElectedHotCommitteeCredentials</span></a></span></span><span> </span><span id="local-6989586621679631292"><span class="annot"><span class="annottext">StrictMaybe (Committee era)
</span><a href="#local-6989586621679631292"><span class="hs-identifier hs-var">committee</span></a></span></span><span> </span><span id="local-6989586621679631293"><span class="annot"><span class="annottext">CommitteeState era
</span><a href="#local-6989586621679631293"><span class="hs-identifier hs-var">committeeState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-584"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">StrictMaybe (Committee era)
</span><a href="#local-6989586621679631292"><span class="hs-identifier hs-var">committee</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-585"></span><span>    </span><span class="annot"><span class="annottext">StrictMaybe (Committee era)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-strict-containers-0.1.5.0-d2741b9ef9564f4a1a3151d17a0f69b9663f5795dd47dab0bbd6117738fcce96/share/doc/html/src/Data.Maybe.Strict.html#SNothing"><span class="hs-identifier hs-var">SNothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Set (Credential 'HotCommitteeRole)
forall a. Set a
</span><span class="hs-identifier hs-var">Set.empty</span></span><span>
</span><span id="line-586"></span><span>    </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-strict-containers-0.1.5.0-d2741b9ef9564f4a1a3151d17a0f69b9663f5795dd47dab0bbd6117738fcce96/share/doc/html/src/Data.Maybe.Strict.html#SJust"><span class="hs-identifier hs-type">SJust</span></a></span><span> </span><span id="local-6989586621679631297"><span class="annot"><span class="annottext">Committee era
</span><a href="#local-6989586621679631297"><span class="hs-identifier hs-var">electedCommiteee</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-587"></span><span>      </span><span class="annot"><span class="annottext">CommitteeState Any -&gt; Set (Credential 'HotCommitteeRole)
forall era.
CommitteeState era -&gt; Set (Credential 'HotCommitteeRole)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.CertState.html#authorizedHotCommitteeCredentials"><span class="hs-identifier hs-var">authorizedHotCommitteeCredentials</span></a></span><span> </span><span class="annot"><span class="annottext">(CommitteeState Any -&gt; Set (Credential 'HotCommitteeRole))
-&gt; CommitteeState Any -&gt; Set (Credential 'HotCommitteeRole)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-588"></span><span>        </span><span class="annot"><span class="annottext">Map (Credential 'ColdCommitteeRole) CommitteeAuthorization
-&gt; CommitteeState Any
forall era.
Map (Credential 'ColdCommitteeRole) CommitteeAuthorization
-&gt; CommitteeState era
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.CertState.html#CommitteeState"><span class="hs-identifier hs-var">CommitteeState</span></a></span><span> </span><span class="annot"><span class="annottext">(Map (Credential 'ColdCommitteeRole) CommitteeAuthorization
 -&gt; CommitteeState Any)
-&gt; Map (Credential 'ColdCommitteeRole) CommitteeAuthorization
-&gt; CommitteeState Any
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-589"></span><span>          </span><span class="annot"><span class="annottext">CommitteeState era
-&gt; Map (Credential 'ColdCommitteeRole) CommitteeAuthorization
forall era.
CommitteeState era
-&gt; Map (Credential 'ColdCommitteeRole) CommitteeAuthorization
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.CertState.html#csCommitteeCreds"><span class="hs-identifier hs-var">csCommitteeCreds</span></a></span><span> </span><span class="annot"><span class="annottext">CommitteeState era
</span><a href="#local-6989586621679631293"><span class="hs-identifier hs-var">committeeState</span></a></span><span> </span><span class="annot"><span class="annottext">Map (Credential 'ColdCommitteeRole) CommitteeAuthorization
-&gt; Map (Credential 'ColdCommitteeRole) EpochNo
-&gt; Map (Credential 'ColdCommitteeRole) CommitteeAuthorization
forall k a b. Ord k =&gt; Map k a -&gt; Map k b -&gt; Map k a
</span><span class="hs-operator hs-var">`Map.intersection`</span></span><span> </span><span class="annot"><span class="annottext">Committee era -&gt; Map (Credential 'ColdCommitteeRole) EpochNo
forall era.
Committee era -&gt; Map (Credential 'ColdCommitteeRole) EpochNo
</span><a href="Cardano.Ledger.Conway.Governance.Procedures.html#committeeMembers"><span class="hs-identifier hs-var">committeeMembers</span></a></span><span> </span><span class="annot"><span class="annottext">Committee era
</span><a href="#local-6989586621679631297"><span class="hs-identifier hs-var">electedCommiteee</span></a></span><span>
</span><span id="line-590"></span></pre></body></html>