<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DerivingStrategies #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE PolyKinds #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Cardano.Ledger.Shelley.AdaPots</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-12"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#AdaPots"><span class="hs-identifier">AdaPots</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#totalAdaES"><span class="hs-identifier">totalAdaES</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#totalAdaPotsES"><span class="hs-identifier">totalAdaPotsES</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-15"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#Produced"><span class="hs-identifier">Produced</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#Consumed"><span class="hs-identifier">Consumed</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#consumedTxBody"><span class="hs-identifier">consumedTxBody</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#producedTxBody"><span class="hs-identifier">producedTxBody</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#sumAdaPots"><span class="hs-identifier">sumAdaPots</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-21"></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html"><span class="hs-identifier">Cardano.Ledger.Coin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier">Coin</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.html"><span class="hs-identifier">Cardano.Ledger.Core</span></a></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Ledger.Shelley.LedgerState.Types.html"><span class="hs-identifier">Cardano.Ledger.Shelley.LedgerState.Types</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-25"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Shelley.LedgerState.Types.html#EpochState"><span class="hs-identifier">EpochState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Shelley.LedgerState.Types.html#LedgerState"><span class="hs-identifier">LedgerState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Shelley.LedgerState.Types.html#UTxOState"><span class="hs-identifier">UTxOState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Shelley.LedgerState.Types.html#lsCertStateL"><span class="hs-identifier">lsCertStateL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Shelley.LedgerState.Types.html#lsUTxOStateL"><span class="hs-identifier">lsUTxOStateL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Shelley.LedgerState.Types.html#utxosGovStateL"><span class="hs-identifier">utxosGovStateL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Ledger.Shelley.TxBody.html"><span class="hs-identifier">Cardano.Ledger.Shelley.TxBody</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Address.html#unWithdrawals"><span class="hs-identifier">unWithdrawals</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.html"><span class="hs-identifier">Cardano.Ledger.State</span></a></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.DeepSeq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">NFData</span></span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Foldable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">fold</span></span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Generics</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Generic</span></span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html"><span class="hs-identifier">Lens.Micro</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator">(^.)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span class="hs-keyword">data</span><span> </span><span id="AdaPots"><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#AdaPots"><span class="hs-identifier hs-var">AdaPots</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="AdaPots"><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#AdaPots"><span class="hs-identifier hs-var">AdaPots</span></a></span></span><span>
</span><span id="line-40"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="treasuryAdaPot"><span class="annot"><span class="annottext">AdaPots -&gt; Coin
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#treasuryAdaPot"><span class="hs-identifier hs-var hs-var">treasuryAdaPot</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span>
</span><span id="line-41"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="reservesAdaPot"><span class="annot"><span class="annottext">AdaPots -&gt; Coin
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#reservesAdaPot"><span class="hs-identifier hs-var hs-var">reservesAdaPot</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span>
</span><span id="line-42"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="rewardsAdaPot"><span class="annot"><span class="annottext">AdaPots -&gt; Coin
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#rewardsAdaPot"><span class="hs-identifier hs-var hs-var">rewardsAdaPot</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span>
</span><span id="line-43"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="utxoAdaPot"><span class="annot"><span class="annottext">AdaPots -&gt; Coin
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#utxoAdaPot"><span class="hs-identifier hs-var hs-var">utxoAdaPot</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span>
</span><span id="line-44"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="feesAdaPot"><span class="annot"><span class="annottext">AdaPots -&gt; Coin
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#feesAdaPot"><span class="hs-identifier hs-var hs-var">feesAdaPot</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span>
</span><span id="line-45"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="obligationsPot"><span class="annot"><span class="annottext">AdaPots -&gt; Obligations
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#obligationsPot"><span class="hs-identifier hs-var hs-var">obligationsPot</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.CertState.html#Obligations"><span class="hs-identifier hs-type">Obligations</span></a></span><span>
</span><span id="line-46"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679520218"><span id="local-6989586621679520230"><span id="local-6989586621679520234"><span class="annot"><span class="annottext">Int -&gt; AdaPots -&gt; ShowS
[AdaPots] -&gt; ShowS
AdaPots -&gt; String
(Int -&gt; AdaPots -&gt; ShowS)
-&gt; (AdaPots -&gt; String) -&gt; ([AdaPots] -&gt; ShowS) -&gt; Show AdaPots
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; AdaPots -&gt; ShowS
showsPrec :: Int -&gt; AdaPots -&gt; ShowS
$cshow :: AdaPots -&gt; String
show :: AdaPots -&gt; String
$cshowList :: [AdaPots] -&gt; ShowS
showList :: [AdaPots] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679520238"><span id="local-6989586621679520248"><span class="annot"><span class="annottext">AdaPots -&gt; AdaPots -&gt; Bool
(AdaPots -&gt; AdaPots -&gt; Bool)
-&gt; (AdaPots -&gt; AdaPots -&gt; Bool) -&gt; Eq AdaPots
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: AdaPots -&gt; AdaPots -&gt; Bool
== :: AdaPots -&gt; AdaPots -&gt; Bool
$c/= :: AdaPots -&gt; AdaPots -&gt; Bool
/= :: AdaPots -&gt; AdaPots -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679520253"><span id="local-6989586621679520255"><span class="annot"><span class="annottext">(forall x. AdaPots -&gt; Rep AdaPots x)
-&gt; (forall x. Rep AdaPots x -&gt; AdaPots) -&gt; Generic AdaPots
forall x. Rep AdaPots x -&gt; AdaPots
forall x. AdaPots -&gt; Rep AdaPots x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. AdaPots -&gt; Rep AdaPots x
from :: forall x. AdaPots -&gt; Rep AdaPots x
$cto :: forall x. Rep AdaPots x -&gt; AdaPots
to :: forall x. Rep AdaPots x -&gt; AdaPots
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span>
</span><span id="line-49"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679520259"><span class="annot"><span class="hs-identifier hs-type">NFData</span></span><span> </span><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#AdaPots"><span class="hs-identifier hs-type">AdaPots</span></a></span></span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span class="annot"><span class="hs-comment">-- | Calculate the total ada pots in the epoch state</span></span><span>
</span><span id="line-52"></span><span id="local-6989586621679520124"><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#totalAdaPotsES"><span class="hs-identifier hs-type">totalAdaPotsES</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.html#EraTxOut"><span class="hs-identifier hs-type">EraTxOut</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679520124"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Governance.html#EraGov"><span class="hs-identifier hs-type">EraGov</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679520124"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.CertState.html#EraCertState"><span class="hs-identifier hs-type">EraCertState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679520124"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-56"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-57"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Shelley.LedgerState.Types.html#EpochState"><span class="hs-identifier hs-type">EpochState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679520124"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-58"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#AdaPots"><span class="hs-identifier hs-type">AdaPots</span></a></span></span><span>
</span><span id="line-59"></span><span id="totalAdaPotsES"><span class="annot"><span class="annottext">totalAdaPotsES :: forall era.
(EraTxOut era, EraGov era, EraCertState era) =&gt;
EpochState era -&gt; AdaPots
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#totalAdaPotsES"><span class="hs-identifier hs-var hs-var">totalAdaPotsES</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Shelley.LedgerState.Types.html#EpochState"><span class="hs-identifier hs-type">EpochState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.ChainAccount.html#ChainAccountState"><span class="hs-identifier hs-type">ChainAccountState</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621679520309"><span class="annot"><span class="annottext">Coin
casTreasury :: Coin
casTreasury :: ChainAccountState -&gt; Coin
</span><a href="#local-6989586621679520309"><span class="hs-identifier hs-var hs-var">casTreasury</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679520311"><span class="annot"><span class="annottext">Coin
casReserves :: Coin
casReserves :: ChainAccountState -&gt; Coin
</span><a href="#local-6989586621679520311"><span class="hs-identifier hs-var hs-var">casReserves</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679520313"><span class="annot"><span class="annottext">LedgerState era
</span><a href="#local-6989586621679520313"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span class="annot"><span class="annottext">SnapShots
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">NonMyopic
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-60"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#AdaPots"><span class="hs-identifier hs-type">AdaPots</span></a></span><span>
</span><span id="line-61"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">treasuryAdaPot :: Coin
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#treasuryAdaPot"><span class="hs-identifier hs-var">treasuryAdaPot</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621679520309"><span class="hs-identifier hs-var">casTreasury</span></a></span><span>
</span><span id="line-62"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">reservesAdaPot :: Coin
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#reservesAdaPot"><span class="hs-identifier hs-var">reservesAdaPot</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621679520311"><span class="hs-identifier hs-var">casReserves</span></a></span><span>
</span><span id="line-63"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rewardsAdaPot :: Coin
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#rewardsAdaPot"><span class="hs-identifier hs-var">rewardsAdaPot</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621679520314"><span class="hs-identifier hs-var">rewards_</span></a></span><span>
</span><span id="line-64"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">utxoAdaPot :: Coin
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#utxoAdaPot"><span class="hs-identifier hs-var">utxoAdaPot</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621679520315"><span class="hs-identifier hs-var">coins</span></a></span><span>
</span><span id="line-65"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feesAdaPot :: Coin
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#feesAdaPot"><span class="hs-identifier hs-var">feesAdaPot</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621679520316"><span class="hs-identifier hs-var">fees_</span></a></span><span>
</span><span id="line-66"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">obligationsPot :: Obligations
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#obligationsPot"><span class="hs-identifier hs-var">obligationsPot</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CertState era -&gt; Obligations
forall era. EraCertState era =&gt; CertState era -&gt; Obligations
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.CertState.html#obligationCertState"><span class="hs-identifier hs-var">obligationCertState</span></a></span><span> </span><span class="annot"><span class="annottext">CertState era
</span><a href="#local-6989586621679520318"><span class="hs-identifier hs-var">certState</span></a></span><span> </span><span class="annot"><span class="annottext">Obligations -&gt; Obligations -&gt; Obligations
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Obligations
</span><a href="#local-6989586621679520319"><span class="hs-identifier hs-var">govStateObligations</span></a></span><span>
</span><span id="line-67"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-68"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-69"></span><span>    </span><span class="annot"><a href="Cardano.Ledger.Shelley.LedgerState.Types.html#UTxOState"><span class="hs-identifier hs-type">UTxOState</span></a></span><span> </span><span id="local-6989586621679520321"><span class="annot"><span class="annottext">UTxO era
</span><a href="#local-6989586621679520321"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="annot"><span class="annottext">Coin
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679520316"><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621679520316"><span class="hs-identifier hs-var">fees_</span></a></span></span><span> </span><span class="annot"><span class="annottext">GovState era
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">InstantStake era
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Coin
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LedgerState era -&gt; UTxOState era
forall era. LedgerState era -&gt; UTxOState era
</span><a href="Cardano.Ledger.Shelley.LedgerState.Types.html#lsUTxOState"><span class="hs-identifier hs-var">lsUTxOState</span></a></span><span> </span><span class="annot"><span class="annottext">LedgerState era
</span><a href="#local-6989586621679520313"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-70"></span><span>    </span><span id="local-6989586621679520318"><span class="annot"><span class="annottext">certState :: CertState era
</span><a href="#local-6989586621679520318"><span class="hs-identifier hs-var hs-var">certState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LedgerState era
</span><a href="#local-6989586621679520313"><span class="hs-identifier hs-var">ls</span></a></span><span> </span><span class="annot"><span class="annottext">LedgerState era
-&gt; Getting (CertState era) (LedgerState era) (CertState era)
-&gt; CertState era
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (CertState era) (LedgerState era) (CertState era)
forall era (f :: * -&gt; *).
Functor f =&gt;
(CertState era -&gt; f (CertState era))
-&gt; LedgerState era -&gt; f (LedgerState era)
</span><a href="Cardano.Ledger.Shelley.LedgerState.Types.html#lsCertStateL"><span class="hs-identifier hs-var">lsCertStateL</span></a></span><span>
</span><span id="line-71"></span><span>    </span><span id="local-6989586621679520314"><span class="annot"><span class="annottext">rewards_ :: Coin
</span><a href="#local-6989586621679520314"><span class="hs-identifier hs-var hs-var">rewards_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Accounts era -&gt; Coin
forall era. EraAccounts era =&gt; Accounts era -&gt; Coin
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Account.html#sumBalancesAccounts"><span class="hs-identifier hs-var">sumBalancesAccounts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CertState era
</span><a href="#local-6989586621679520318"><span class="hs-identifier hs-var">certState</span></a></span><span> </span><span class="annot"><span class="annottext">CertState era
-&gt; Getting (Accounts era) (CertState era) (Accounts era)
-&gt; Accounts era
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">(DState era -&gt; Const (Accounts era) (DState era))
-&gt; CertState era -&gt; Const (Accounts era) (CertState era)
forall era. EraCertState era =&gt; Lens' (CertState era) (DState era)
Lens' (CertState era) (DState era)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.CertState.html#certDStateL"><span class="hs-identifier hs-var">certDStateL</span></a></span><span> </span><span class="annot"><span class="annottext">((DState era -&gt; Const (Accounts era) (DState era))
 -&gt; CertState era -&gt; Const (Accounts era) (CertState era))
-&gt; ((Accounts era -&gt; Const (Accounts era) (Accounts era))
    -&gt; DState era -&gt; Const (Accounts era) (DState era))
-&gt; Getting (Accounts era) (CertState era) (Accounts era)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Accounts era -&gt; Const (Accounts era) (Accounts era))
-&gt; DState era -&gt; Const (Accounts era) (DState era)
forall era. Lens' (DState era) (Accounts era)
forall (t :: * -&gt; *) era.
CanSetAccounts t =&gt;
Lens' (t era) (Accounts era)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Account.html#accountsL"><span class="hs-identifier hs-var">accountsL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span>    </span><span id="local-6989586621679520315"><span class="annot"><span class="annottext">coins :: Coin
</span><a href="#local-6989586621679520315"><span class="hs-identifier hs-var hs-var">coins</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UTxO era -&gt; Coin
forall era. EraTxOut era =&gt; UTxO era -&gt; Coin
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.UTxO.html#sumCoinUTxO"><span class="hs-identifier hs-var">sumCoinUTxO</span></a></span><span> </span><span class="annot"><span class="annottext">UTxO era
</span><a href="#local-6989586621679520321"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-73"></span><span>    </span><span id="local-6989586621679520319"><span class="annot"><span class="annottext">govStateObligations :: Obligations
</span><a href="#local-6989586621679520319"><span class="hs-identifier hs-var hs-var">govStateObligations</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GovState era -&gt; Obligations
forall era. EraGov era =&gt; GovState era -&gt; Obligations
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Governance.html#obligationGovState"><span class="hs-identifier hs-var">obligationGovState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LedgerState era
</span><a href="#local-6989586621679520313"><span class="hs-identifier hs-var">ls</span></a></span><span> </span><span class="annot"><span class="annottext">LedgerState era
-&gt; Getting (GovState era) (LedgerState era) (GovState era)
-&gt; GovState era
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">(UTxOState era -&gt; Const (GovState era) (UTxOState era))
-&gt; LedgerState era -&gt; Const (GovState era) (LedgerState era)
forall era (f :: * -&gt; *).
Functor f =&gt;
(UTxOState era -&gt; f (UTxOState era))
-&gt; LedgerState era -&gt; f (LedgerState era)
</span><a href="Cardano.Ledger.Shelley.LedgerState.Types.html#lsUTxOStateL"><span class="hs-identifier hs-var">lsUTxOStateL</span></a></span><span> </span><span class="annot"><span class="annottext">((UTxOState era -&gt; Const (GovState era) (UTxOState era))
 -&gt; LedgerState era -&gt; Const (GovState era) (LedgerState era))
-&gt; ((GovState era -&gt; Const (GovState era) (GovState era))
    -&gt; UTxOState era -&gt; Const (GovState era) (UTxOState era))
-&gt; Getting (GovState era) (LedgerState era) (GovState era)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(GovState era -&gt; Const (GovState era) (GovState era))
-&gt; UTxOState era -&gt; Const (GovState era) (UTxOState era)
forall era (f :: * -&gt; *).
Functor f =&gt;
(GovState era -&gt; f (GovState era))
-&gt; UTxOState era -&gt; f (UTxOState era)
</span><a href="Cardano.Ledger.Shelley.LedgerState.Types.html#utxosGovStateL"><span class="hs-identifier hs-var">utxosGovStateL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#sumAdaPots"><span class="hs-identifier hs-type">sumAdaPots</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#AdaPots"><span class="hs-identifier hs-type">AdaPots</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span>
</span><span id="line-76"></span><span id="sumAdaPots"><span class="annot"><span class="annottext">sumAdaPots :: AdaPots -&gt; Coin
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#sumAdaPots"><span class="hs-identifier hs-var hs-var">sumAdaPots</span></a></span></span><span>
</span><span id="line-77"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#AdaPots"><span class="hs-identifier hs-type">AdaPots</span></a></span><span>
</span><span id="line-78"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="local-6989586621679520329"><span class="annot"><span class="annottext">Coin
treasuryAdaPot :: AdaPots -&gt; Coin
treasuryAdaPot :: Coin
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#treasuryAdaPot"><span class="hs-identifier hs-var hs-var">treasuryAdaPot</span></a></span></span><span>
</span><span id="line-79"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679520330"><span class="annot"><span class="annottext">Coin
reservesAdaPot :: AdaPots -&gt; Coin
reservesAdaPot :: Coin
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#reservesAdaPot"><span class="hs-identifier hs-var hs-var">reservesAdaPot</span></a></span></span><span>
</span><span id="line-80"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679520331"><span class="annot"><span class="annottext">Coin
rewardsAdaPot :: AdaPots -&gt; Coin
rewardsAdaPot :: Coin
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#rewardsAdaPot"><span class="hs-identifier hs-var hs-var">rewardsAdaPot</span></a></span></span><span>
</span><span id="line-81"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679520332"><span class="annot"><span class="annottext">Coin
utxoAdaPot :: AdaPots -&gt; Coin
utxoAdaPot :: Coin
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#utxoAdaPot"><span class="hs-identifier hs-var hs-var">utxoAdaPot</span></a></span></span><span>
</span><span id="line-82"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679520333"><span class="annot"><span class="annottext">Coin
feesAdaPot :: AdaPots -&gt; Coin
feesAdaPot :: Coin
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#feesAdaPot"><span class="hs-identifier hs-var hs-var">feesAdaPot</span></a></span></span><span>
</span><span id="line-83"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679520334"><span class="annot"><span class="annottext">Obligations
obligationsPot :: AdaPots -&gt; Obligations
obligationsPot :: Obligations
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#obligationsPot"><span class="hs-identifier hs-var hs-var">obligationsPot</span></a></span></span><span>
</span><span id="line-84"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-85"></span><span>    </span><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621679520329"><span class="hs-identifier hs-var">treasuryAdaPot</span></a></span><span>
</span><span id="line-86"></span><span>      </span><span class="annot"><span class="annottext">Coin -&gt; Coin -&gt; Coin
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621679520330"><span class="hs-identifier hs-var">reservesAdaPot</span></a></span><span>
</span><span id="line-87"></span><span>      </span><span class="annot"><span class="annottext">Coin -&gt; Coin -&gt; Coin
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621679520331"><span class="hs-identifier hs-var">rewardsAdaPot</span></a></span><span>
</span><span id="line-88"></span><span>      </span><span class="annot"><span class="annottext">Coin -&gt; Coin -&gt; Coin
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621679520332"><span class="hs-identifier hs-var">utxoAdaPot</span></a></span><span>
</span><span id="line-89"></span><span>      </span><span class="annot"><span class="annottext">Coin -&gt; Coin -&gt; Coin
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621679520333"><span class="hs-identifier hs-var">feesAdaPot</span></a></span><span>
</span><span id="line-90"></span><span>      </span><span class="annot"><span class="annottext">Coin -&gt; Coin -&gt; Coin
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Obligations -&gt; Coin
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.CertState.html#sumObligation"><span class="hs-identifier hs-var">sumObligation</span></a></span><span> </span><span class="annot"><span class="annottext">Obligations
</span><a href="#local-6989586621679520334"><span class="hs-identifier hs-var">obligationsPot</span></a></span><span>
</span><span id="line-91"></span><span>
</span><span id="line-92"></span><span class="annot"><span class="hs-comment">-- | Calculate the total ada in the epoch state</span></span><span>
</span><span id="line-93"></span><span id="local-6989586621679520166"><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#totalAdaES"><span class="hs-identifier hs-type">totalAdaES</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.html#EraTxOut"><span class="hs-identifier hs-type">EraTxOut</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679520166"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.Governance.html#EraGov"><span class="hs-identifier hs-type">EraGov</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679520166"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.CertState.html#EraCertState"><span class="hs-identifier hs-type">EraCertState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679520166"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Ledger.Shelley.LedgerState.Types.html#EpochState"><span class="hs-identifier hs-type">EpochState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679520166"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span></span><span>
</span><span id="line-94"></span><span id="totalAdaES"><span class="annot"><span class="annottext">totalAdaES :: forall era.
(EraTxOut era, EraGov era, EraCertState era) =&gt;
EpochState era -&gt; Coin
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#totalAdaES"><span class="hs-identifier hs-var hs-var">totalAdaES</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AdaPots -&gt; Coin
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#sumAdaPots"><span class="hs-identifier hs-var">sumAdaPots</span></a></span><span> </span><span class="annot"><span class="annottext">(AdaPots -&gt; Coin)
-&gt; (EpochState era -&gt; AdaPots) -&gt; EpochState era -&gt; Coin
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">EpochState era -&gt; AdaPots
forall era.
(EraTxOut era, EraGov era, EraCertState era) =&gt;
EpochState era -&gt; AdaPots
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#totalAdaPotsES"><span class="hs-identifier hs-var">totalAdaPotsES</span></a></span><span>
</span><span id="line-95"></span><span>
</span><span id="line-96"></span><span class="hs-comment">-- =============================================</span><span>
</span><span id="line-97"></span><span class="hs-comment">-- Produced and Consumed are specialized AdaPots</span><span>
</span><span id="line-98"></span><span class="hs-comment">-- relative to the actions of a TxBody</span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span class="annot"><span class="hs-comment">-- | Itemizing what is consumed by a transaction</span></span><span>
</span><span id="line-101"></span><span class="hs-keyword">data</span><span> </span><span id="Consumed"><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#Consumed"><span class="hs-identifier hs-var">Consumed</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Consumed"><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#Consumed"><span class="hs-identifier hs-var">Consumed</span></a></span></span><span>
</span><span id="line-102"></span><span>  </span><span class="hs-special">{</span><span id="conInputs"><span class="annot"><span class="annottext">Consumed -&gt; Coin
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#conInputs"><span class="hs-identifier hs-var hs-var">conInputs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span class="hs-special">,</span><span> </span><span id="conRefunds"><span class="annot"><span class="annottext">Consumed -&gt; Coin
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#conRefunds"><span class="hs-identifier hs-var hs-var">conRefunds</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span class="hs-special">,</span><span> </span><span id="conWithdrawals"><span class="annot"><span class="annottext">Consumed -&gt; Coin
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#conWithdrawals"><span class="hs-identifier hs-var hs-var">conWithdrawals</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679520347"><span id="local-6989586621679520352"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#Consumed"><span class="hs-identifier hs-type">Consumed</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-105"></span><span>  </span><span id="local-6989586621679520362"><span class="annot"><span class="annottext">show :: Consumed -&gt; String
</span><a href="#local-6989586621679520362"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#Consumed"><span class="hs-identifier hs-type">Consumed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span> </span><span id="local-6989586621679520365"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679520365"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span> </span><span id="local-6989586621679520366"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679520366"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span> </span><span id="local-6989586621679520367"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679520367"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-106"></span><span>    </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Consumed(Inputs &quot;</span></span><span>
</span><span id="line-107"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679520365"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-108"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;, Refunds &quot;</span></span><span>
</span><span id="line-109"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679520366"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-110"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;, Withdrawals &quot;</span></span><span>
</span><span id="line-111"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679520367"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-112"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;) = &quot;</span></span><span>
</span><span id="line-113"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679520365"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679520366"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679520367"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span class="annot"><span class="hs-comment">-- | Itemizing what is Produced by a transaction</span></span><span>
</span><span id="line-116"></span><span class="hs-keyword">data</span><span> </span><span id="Produced"><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#Produced"><span class="hs-identifier hs-var">Produced</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Produced"><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#Produced"><span class="hs-identifier hs-var">Produced</span></a></span></span><span>
</span><span id="line-117"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="proOutputs"><span class="annot"><span class="annottext">Produced -&gt; Coin
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#proOutputs"><span class="hs-identifier hs-var hs-var">proOutputs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span>
</span><span id="line-118"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="proFees"><span class="annot"><span class="annottext">Produced -&gt; Coin
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#proFees"><span class="hs-identifier hs-var hs-var">proFees</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span>
</span><span id="line-119"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="proDeposits"><span class="annot"><span class="annottext">Produced -&gt; Coin
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#proDeposits"><span class="hs-identifier hs-var hs-var">proDeposits</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span>
</span><span id="line-120"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679520374"><span id="local-6989586621679520379"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#Produced"><span class="hs-identifier hs-type">Produced</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-123"></span><span>  </span><span id="local-6989586621679520387"><span class="annot"><span class="annottext">show :: Produced -&gt; String
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#Produced"><span class="hs-identifier hs-type">Produced</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span> </span><span id="local-6989586621679520388"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679520388"><span class="hs-identifier hs-var">out</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span> </span><span id="local-6989586621679520389"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679520389"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span> </span><span id="local-6989586621679520390"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679520390"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-124"></span><span>    </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Produced(Outputs &quot;</span></span><span>
</span><span id="line-125"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679520388"><span class="hs-identifier hs-var">out</span></a></span><span>
</span><span id="line-126"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;, Fees &quot;</span></span><span>
</span><span id="line-127"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679520389"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-128"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;, Deposits &quot;</span></span><span>
</span><span id="line-129"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679520390"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-130"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;) = &quot;</span></span><span>
</span><span id="line-131"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679520388"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679520389"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679520390"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-132"></span><span>
</span><span id="line-133"></span><span class="hs-comment">-- =========================</span><span>
</span><span id="line-134"></span><span>
</span><span id="line-135"></span><span class="annot"><span class="hs-comment">-- | Compute the Coin part of what is consumed by a TxBody, itemized as a 'Consume'</span></span><span>
</span><span id="line-136"></span><span id="local-6989586621679520172"><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#consumedTxBody"><span class="hs-identifier hs-type">consumedTxBody</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-137"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.html#EraTxBody"><span class="hs-identifier hs-type">EraTxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679520172"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.CertState.html#EraCertState"><span class="hs-identifier hs-type">EraCertState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679520172"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-138"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.html#TxBody"><span class="hs-identifier hs-type">TxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679520172"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-139"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.PParams.html#PParams"><span class="hs-identifier hs-type">PParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679520172"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-140"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.CertState.html#CertState"><span class="hs-identifier hs-type">CertState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679520172"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-141"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.UTxO.html#UTxO"><span class="hs-identifier hs-type">UTxO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679520172"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-142"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#Consumed"><span class="hs-identifier hs-type">Consumed</span></a></span></span><span>
</span><span id="line-143"></span><span id="consumedTxBody"><span class="annot"><span class="annottext">consumedTxBody :: forall era.
(EraTxBody era, EraCertState era) =&gt;
TxBody era -&gt; PParams era -&gt; CertState era -&gt; UTxO era -&gt; Consumed
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#consumedTxBody"><span class="hs-identifier hs-var hs-var">consumedTxBody</span></a></span></span><span> </span><span id="local-6989586621679520406"><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621679520406"><span class="hs-identifier hs-var">txBody</span></a></span></span><span> </span><span id="local-6989586621679520407"><span class="annot"><span class="annottext">PParams era
</span><a href="#local-6989586621679520407"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span id="local-6989586621679520408"><span class="annot"><span class="annottext">CertState era
</span><a href="#local-6989586621679520408"><span class="hs-identifier hs-var">dpstate</span></a></span></span><span> </span><span id="local-6989586621679520409"><span class="annot"><span class="annottext">UTxO era
</span><a href="#local-6989586621679520409"><span class="hs-identifier hs-var">utxo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-144"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#Consumed"><span class="hs-identifier hs-type">Consumed</span></a></span><span>
</span><span id="line-145"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">conInputs :: Coin
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#conInputs"><span class="hs-identifier hs-var">conInputs</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-146"></span><span>        </span><span class="annot"><span class="annottext">UTxO era -&gt; Coin
forall era. EraTxOut era =&gt; UTxO era -&gt; Coin
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.UTxO.html#sumCoinUTxO"><span class="hs-identifier hs-var">sumCoinUTxO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UTxO era -&gt; Set TxIn -&gt; UTxO era
forall era. UTxO era -&gt; Set TxIn -&gt; UTxO era
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.UTxO.html#txInsFilter"><span class="hs-identifier hs-var">txInsFilter</span></a></span><span> </span><span class="annot"><span class="annottext">UTxO era
</span><a href="#local-6989586621679520409"><span class="hs-identifier hs-var">utxo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621679520406"><span class="hs-identifier hs-var">txBody</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody era
-&gt; Getting (Set TxIn) (TxBody era) (Set TxIn) -&gt; Set TxIn
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Set TxIn) (TxBody era) (Set TxIn)
forall era. EraTxBody era =&gt; Lens' (TxBody era) (Set TxIn)
Lens' (TxBody era) (Set TxIn)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.html#inputsTxBodyL"><span class="hs-identifier hs-var">inputsTxBodyL</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-147"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">conRefunds :: Coin
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#conRefunds"><span class="hs-identifier hs-var">conRefunds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PParams era -&gt; CertState era -&gt; TxBody era -&gt; Coin
forall era.
(EraCertState era, EraTxBody era) =&gt;
PParams era -&gt; CertState era -&gt; TxBody era -&gt; Coin
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.CertState.html#certsTotalRefundsTxBody"><span class="hs-identifier hs-var">certsTotalRefundsTxBody</span></a></span><span> </span><span class="annot"><span class="annottext">PParams era
</span><a href="#local-6989586621679520407"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="annot"><span class="annottext">CertState era
</span><a href="#local-6989586621679520408"><span class="hs-identifier hs-var">dpstate</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621679520406"><span class="hs-identifier hs-var">txBody</span></a></span><span>
</span><span id="line-148"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">conWithdrawals :: Coin
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#conWithdrawals"><span class="hs-identifier hs-var">conWithdrawals</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map RewardAccount Coin -&gt; Coin
forall m. Monoid m =&gt; Map RewardAccount m -&gt; m
forall (t :: * -&gt; *) m. (Foldable t, Monoid m) =&gt; t m -&gt; m
</span><span class="hs-identifier hs-var">fold</span></span><span> </span><span class="annot"><span class="annottext">(Map RewardAccount Coin -&gt; Coin)
-&gt; (Withdrawals -&gt; Map RewardAccount Coin) -&gt; Withdrawals -&gt; Coin
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Withdrawals -&gt; Map RewardAccount Coin
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Address.html#unWithdrawals"><span class="hs-identifier hs-var">unWithdrawals</span></a></span><span> </span><span class="annot"><span class="annottext">(Withdrawals -&gt; Coin) -&gt; Withdrawals -&gt; Coin
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621679520406"><span class="hs-identifier hs-var">txBody</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody era
-&gt; Getting Withdrawals (TxBody era) Withdrawals -&gt; Withdrawals
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting Withdrawals (TxBody era) Withdrawals
forall era. EraTxBody era =&gt; Lens' (TxBody era) Withdrawals
Lens' (TxBody era) Withdrawals
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.html#withdrawalsTxBodyL"><span class="hs-identifier hs-var">withdrawalsTxBodyL</span></a></span><span>
</span><span id="line-149"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-150"></span><span>
</span><span id="line-151"></span><span class="annot"><span class="hs-comment">-- | Compute the Coin part of what is produced by a TxBody, itemized as a 'Produced'</span></span><span>
</span><span id="line-152"></span><span id="local-6989586621679520190"><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#producedTxBody"><span class="hs-identifier hs-type">producedTxBody</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-153"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.html#EraTxBody"><span class="hs-identifier hs-type">EraTxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679520190"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.CertState.html#EraCertState"><span class="hs-identifier hs-type">EraCertState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679520190"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-154"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.html#TxBody"><span class="hs-identifier hs-type">TxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679520190"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-155"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.PParams.html#PParams"><span class="hs-identifier hs-type">PParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679520190"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-156"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.CertState.html#CertState"><span class="hs-identifier hs-type">CertState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679520190"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-157"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#Produced"><span class="hs-identifier hs-type">Produced</span></a></span></span><span>
</span><span id="line-158"></span><span id="producedTxBody"><span class="annot"><span class="annottext">producedTxBody :: forall era.
(EraTxBody era, EraCertState era) =&gt;
TxBody era -&gt; PParams era -&gt; CertState era -&gt; Produced
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#producedTxBody"><span class="hs-identifier hs-var hs-var">producedTxBody</span></a></span></span><span> </span><span id="local-6989586621679520423"><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621679520423"><span class="hs-identifier hs-var">txBody</span></a></span></span><span> </span><span id="local-6989586621679520424"><span class="annot"><span class="annottext">PParams era
</span><a href="#local-6989586621679520424"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span id="local-6989586621679520425"><span class="annot"><span class="annottext">CertState era
</span><a href="#local-6989586621679520425"><span class="hs-identifier hs-var">dpstate</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-159"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Shelley.AdaPots.html#Produced"><span class="hs-identifier hs-type">Produced</span></a></span><span>
</span><span id="line-160"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">proOutputs :: Coin
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#proOutputs"><span class="hs-identifier hs-var">proOutputs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UTxO era -&gt; Coin
forall era. EraTxOut era =&gt; UTxO era -&gt; Coin
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.UTxO.html#sumCoinUTxO"><span class="hs-identifier hs-var">sumCoinUTxO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxBody era -&gt; UTxO era
forall era. EraTxBody era =&gt; TxBody era -&gt; UTxO era
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.UTxO.html#txouts"><span class="hs-identifier hs-var">txouts</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621679520423"><span class="hs-identifier hs-var">txBody</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-161"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">proFees :: Coin
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#proFees"><span class="hs-identifier hs-var">proFees</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621679520423"><span class="hs-identifier hs-var">txBody</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody era -&gt; Getting Coin (TxBody era) Coin -&gt; Coin
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting Coin (TxBody era) Coin
forall era. EraTxBody era =&gt; Lens' (TxBody era) Coin
Lens' (TxBody era) Coin
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.Core.html#feeTxBodyL"><span class="hs-identifier hs-var">feeTxBodyL</span></a></span><span>
</span><span id="line-162"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">proDeposits :: Coin
</span><a href="Cardano.Ledger.Shelley.AdaPots.html#proDeposits"><span class="hs-identifier hs-var">proDeposits</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PParams era -&gt; CertState era -&gt; TxBody era -&gt; Coin
forall era.
(EraCertState era, EraTxBody era) =&gt;
PParams era -&gt; CertState era -&gt; TxBody era -&gt; Coin
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/doc/html/cardano-ledger-core/src/Cardano.Ledger.State.CertState.html#certsTotalDepositsTxBody"><span class="hs-identifier hs-var">certsTotalDepositsTxBody</span></a></span><span> </span><span class="annot"><span class="annottext">PParams era
</span><a href="#local-6989586621679520424"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="annot"><span class="annottext">CertState era
</span><a href="#local-6989586621679520425"><span class="hs-identifier hs-var">dpstate</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621679520423"><span class="hs-identifier hs-var">txBody</span></a></span><span>
</span><span id="line-163"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-164"></span></pre></body></html>