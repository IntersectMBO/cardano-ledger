<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head id="head" data-base-url=".."><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Cardano.Ledger.Binary.Coders</title><link href="../linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="../quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="../haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">cardano-ledger-binary-1.7.0.1: Binary serialization library used throughout ledger</span><ul class="links" id="page-menu"><li><a href="src/Cardano.Ledger.Binary.Coders.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Cardano.Ledger.Binary.Coders</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Creating encoders.</a></li><li><a href="#g:2">Index types for well-formed Coders.</a></li><li><a href="#g:3">Containers, Combinators, Annotators</a></li><li><a href="#g:4">Creating decoders.</a></li><li><a href="#g:5">Index types for well-formed Coders.</a></li><li><a href="#g:6">Using Duals</a></li><li><a href="#g:7">Containers, Combinators</a></li><li><a href="#g:8">Low level (Encoding/Decoder) utility functions</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p><a href="Cardano-Ledger-Binary-Coders.html">Cardano.Ledger.Binary.Coders</a> provides tools for writing <code>EncCBOR</code> and <code>DecCBOR</code>
   instances (see module <code><a href="Cardano-Ledger.html#v:Binary" title="Cardano.Ledger">Binary</a></code>) in an intuitive way that mirrors the way one
   constructs values of a particular type. Advantages include:</p><ol><li value="1">Book-keeping details neccesary to write correct instances are hidden from the user.</li><li value="2">Inverse <code>EncCBOR</code> and <code>DecCBOR</code> instances have visually similar definitions.</li><li value="3">Advanced instances involving sparse-encoding, compact-representation, and
 <code>Annotator</code> instances are also supported.</li></ol><p>A Guide to Visual inspection of Duality in Encode and Decode</p><ol><li value="1"><code>(Sum c)</code>     and <code>(SumD c)</code>    are duals</li><li value="2"><code>(Rec c)</code>     and <code>(RecD c)</code>    are duals</li><li value="3"><code>(Keyed c)</code>   and <code>(KeyedD c)</code>  are duals</li><li value="4"><code>(OmitC x)</code>   and <code>(Emit x)</code>    are duals</li><li value="5"><code>(Omit p ..)</code> and <code>(Emit x)</code>    are duals if (p x) is True</li><li value="6"><code>(To x)</code>      and <code>(From)</code>      are duals if (x::T) and (forall (y::T). isRight (roundTrip y))</li><li value="7"><code>(E enc x)</code>   and <code>(D dec)</code>     are duals if (forall x . isRight (roundTrip' enc dec x))</li><li value="8"><code>(f !&gt; x)</code>    and <code>(g &lt;! y)</code>    are duals if (f and g are duals) and (x and y are duals)</li></ol><p>Duality properties of <code>(Summands name decodeT)</code> and <code>(SparseKeyed name (init::T) pick
 required)</code> also exist but are harder to describe succinctly.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Encode">Encode</a> (w &#8759; <a href="Cardano-Ledger-Binary-Coders.html#t:Wrapped" title="Cardano.Ledger.Binary.Coders">Wrapped</a>) t <span class="keyword">where</span><ul class="subs"><li><a href="#v:Rec">Rec</a> &#8759; t &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) t</li><li><a href="#v:Sum">Sum</a> &#8759; t &#8594; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Open" title="Cardano.Ledger.Binary.Coders">Open</a> t</li><li><a href="#v:Keyed">Keyed</a> &#8759; t &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Sparse" title="Cardano.Ledger.Binary.Coders">Sparse</a>) t</li><li><a href="#v:To">To</a> &#8759; <a href="Cardano-Ledger-Binary-Encoding.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding">EncCBOR</a> a &#8658; a &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) a</li><li><a href="#v:ToGroup">ToGroup</a> &#8759; <a href="Cardano-Ledger-Binary-Group.html#t:EncCBORGroup" title="Cardano.Ledger.Binary.Group">EncCBORGroup</a> t &#8658; t &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) t</li><li><a href="#v:E">E</a> &#8759; (t &#8594; <a href="Cardano-Ledger-Binary-Encoding.html#t:Encoding" title="Cardano.Ledger.Binary.Encoding">Encoding</a>) &#8594; t &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) t</li><li><a href="#v:MapE">MapE</a> &#8759; (a &#8594; b) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> w a &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> w b</li><li><a href="#v:OmitC">OmitC</a> &#8759; t &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> w t</li><li><a href="#v:Tag">Tag</a> &#8759; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> x) t &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> x) t</li><li><a href="#v:Omit">Omit</a> &#8759; (t &#8594; <a href="../base/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Sparse" title="Cardano.Ledger.Binary.Coders">Sparse</a>) t &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Sparse" title="Cardano.Ledger.Binary.Coders">Sparse</a>) t</li><li><a href="#v:Key">Key</a> &#8759; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) t &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Sparse" title="Cardano.Ledger.Binary.Coders">Sparse</a>) t</li><li><a href="#v:ApplyE">ApplyE</a> &#8759; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> w (a &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> r) a &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> w t</li></ul></li><li class="src short"><a href="#v:-33--62-">(!&gt;)</a> &#8759; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> w (a &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> r) a &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> w t</li><li class="src short"><a href="#v:encode">encode</a> &#8759; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> w t &#8594; <a href="Cardano-Ledger-Binary-Encoding.html#t:Encoding" title="Cardano.Ledger.Binary.Encoding">Encoding</a></li><li class="src short"><a href="#v:runE">runE</a> &#8759; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> w t &#8594; t</li><li class="src short"><a href="#v:encodeDual">encodeDual</a> &#8759; &#8704; t. (<a href="Cardano-Ledger-Binary-Encoding.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding">EncCBOR</a> t, <a href="Cardano-Ledger-Binary-Decoding.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding">DecCBOR</a> t) &#8658; t &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) t</li><li class="src short"><a href="#v:encodeKeyedStrictMaybeWith">encodeKeyedStrictMaybeWith</a> &#8759; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; (a &#8594; <a href="Cardano-Ledger-Binary-Encoding.html#t:Encoding" title="Cardano.Ledger.Binary.Encoding">Encoding</a>) &#8594; <a href="../cardano-strict-containers/Data-Maybe-Strict.html#t:StrictMaybe" title="Data.Maybe.Strict">StrictMaybe</a> a &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Sparse" title="Cardano.Ledger.Binary.Coders">Sparse</a>) (<a href="../cardano-strict-containers/Data-Maybe-Strict.html#t:StrictMaybe" title="Data.Maybe.Strict">StrictMaybe</a> a)</li><li class="src short"><a href="#v:encodeKeyedStrictMaybe">encodeKeyedStrictMaybe</a> &#8759; <a href="Cardano-Ledger-Binary-Encoding.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding">EncCBOR</a> a &#8658; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="../cardano-strict-containers/Data-Maybe-Strict.html#t:StrictMaybe" title="Data.Maybe.Strict">StrictMaybe</a> a &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Sparse" title="Cardano.Ledger.Binary.Coders">Sparse</a>) (<a href="../cardano-strict-containers/Data-Maybe-Strict.html#t:StrictMaybe" title="Data.Maybe.Strict">StrictMaybe</a> a)</li><li class="src short"><span class="keyword">data</span> <a href="#t:Decode">Decode</a> (w &#8759; <a href="Cardano-Ledger-Binary-Coders.html#t:Wrapped" title="Cardano.Ledger.Binary.Coders">Wrapped</a>) t <span class="keyword">where</span><ul class="subs"><li><a href="#v:RecD">RecD</a> &#8759; t &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) t</li><li><a href="#v:SumD">SumD</a> &#8759; t &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Open" title="Cardano.Ledger.Binary.Coders">Open</a> t</li><li><a href="#v:Summands">Summands</a> &#8759; <a href="../foldl/Control-Foldl-Text.html#t:Text" title="Control.Foldl.Text">Text</a> &#8594; (<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Open" title="Cardano.Ledger.Binary.Coders">Open</a> t) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) t</li><li><a href="#v:SparseKeyed">SparseKeyed</a> &#8759; <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> t &#8658; <a href="../base/Data-String.html#t:String" title="Data.String">String</a> &#8594; t &#8594; (<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Field" title="Cardano.Ledger.Binary.Coders">Field</a> t) &#8594; [(<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a>, <a href="../base/Data-String.html#t:String" title="Data.String">String</a>)] &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) t</li><li><a href="#v:KeyedD">KeyedD</a> &#8759; t &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Sparse" title="Cardano.Ledger.Binary.Coders">Sparse</a>) t</li><li><a href="#v:From">From</a> &#8759; <a href="Cardano-Ledger-Binary-Decoding.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding">DecCBOR</a> t &#8658; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w t</li><li><a href="#v:FromGroup">FromGroup</a> &#8759; (<a href="Cardano-Ledger-Binary-Group.html#t:EncCBORGroup" title="Cardano.Ledger.Binary.Group">EncCBORGroup</a> t, <a href="Cardano-Ledger-Binary-Group.html#t:DecCBORGroup" title="Cardano.Ledger.Binary.Group">DecCBORGroup</a> t) &#8658; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w t</li><li><a href="#v:D">D</a> &#8759; (&#8704; s. <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s t) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) t</li><li><a href="#v:ApplyD">ApplyD</a> &#8759; <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a &#8658; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w1 (a &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> d) a &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w1 t</li><li><a href="#v:Invalid">Invalid</a> &#8759; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w t</li><li><a href="#v:Map">Map</a> &#8759; <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a &#8658; (a &#8594; b) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w a &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w b</li><li><a href="#v:TagD">TagD</a> &#8759; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> x) t &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> x) t</li><li><a href="#v:Emit">Emit</a> &#8759; t &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w t</li><li><a href="#v:Ann">Ann</a> &#8759; <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> t &#8658; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w t &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> t)</li><li><a href="#v:ApplyAnn">ApplyAnn</a> &#8759; (<a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a, <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> t) &#8658; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w1 (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> (a &#8594; t)) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> d) (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> a) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w1 (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> t)</li><li><a href="#v:ApplyErr">ApplyErr</a> &#8759; <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a &#8658; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w1 (a &#8594; <a href="../base/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../base/Data-String.html#t:String" title="Data.String">String</a> t) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> d) a &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w1 t</li></ul></li><li class="src short"><a href="#v:-60--33-">(&lt;!)</a> &#8759; <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a &#8658; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w1 (a &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> w) a &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w1 t</li><li class="src short"><a href="#v:-60--42--33-">(&lt;*!)</a> &#8759; (<a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a, <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> t) &#8658; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w1 (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> (a &#8594; t)) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> d) (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> a) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w1 (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> t)</li><li class="src short"><a href="#v:-60--63-">(&lt;?)</a> &#8759; <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a &#8658; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w1 (a &#8594; <a href="../base/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../base/Data-String.html#t:String" title="Data.String">String</a> t) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> d) a &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w1 t</li><li class="src short"><a href="#v:decode">decode</a> &#8759; <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> t &#8658; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w t &#8594; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s t</li><li class="src short"><a href="#v:decodeSparse">decodeSparse</a> &#8759; <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a &#8658; <a href="../base/Data-String.html#t:String" title="Data.String">String</a> &#8594; a &#8594; (<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Field" title="Cardano.Ledger.Binary.Coders">Field</a> a) &#8594; [(<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a>, <a href="../base/Data-String.html#t:String" title="Data.String">String</a>)] &#8594; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a</li><li class="src short"><a href="#v:mapCoder">mapCoder</a> &#8759; <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a &#8658; (a &#8594; b) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w a &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w b</li><li class="src short"><span class="keyword">data</span> <a href="#t:Density">Density</a><ul class="subs"><li>= <a href="#v:Dense">Dense</a></li><li>| <a href="#v:Sparse">Sparse</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Wrapped">Wrapped</a> <span class="keyword">where</span><ul class="subs"><li><a href="#v:Open">Open</a> &#8759; <a href="Cardano-Ledger-Binary-Coders.html#t:Wrapped" title="Cardano.Ledger.Binary.Coders">Wrapped</a></li><li><a href="#v:Closed">Closed</a> &#8759; <a href="Cardano-Ledger-Binary-Coders.html#t:Density" title="Cardano.Ledger.Binary.Coders">Density</a> &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Wrapped" title="Cardano.Ledger.Binary.Coders">Wrapped</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Field">Field</a> t <span class="keyword">where</span><ul class="subs"><li><a href="#v:Field">Field</a> &#8759; (x &#8594; t &#8594; t) &#8594; (&#8704; s. <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s x) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Field" title="Cardano.Ledger.Binary.Coders">Field</a> t</li></ul></li><li class="src short"><a href="#v:ofield">ofield</a> &#8759; <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> x &#8658; (<a href="../cardano-strict-containers/Data-Maybe-Strict.html#t:StrictMaybe" title="Data.Maybe.Strict">StrictMaybe</a> x &#8594; t &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> d) x &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Field" title="Cardano.Ledger.Binary.Coders">Field</a> t</li><li class="src short"><a href="#v:invalidField">invalidField</a> &#8759; &#8704; t. <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Field" title="Cardano.Ledger.Binary.Coders">Field</a> t</li><li class="src short"><a href="#v:field">field</a> &#8759; <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> x &#8658; (x &#8594; t &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> d) x &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Field" title="Cardano.Ledger.Binary.Coders">Field</a> t</li><li class="src short"><a href="#v:fieldGuarded">fieldGuarded</a> &#8759; <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> x &#8658; <a href="../base/Data-String.html#t:String" title="Data.String">String</a> &#8594; (x &#8594; <a href="../base/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) &#8594; (x &#8594; t &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> d) x &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Field" title="Cardano.Ledger.Binary.Coders">Field</a> t</li><li class="src short"><a href="#v:fieldA">fieldA</a> &#8759; (<a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> x, <a href="../base/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> ann) &#8658; (x &#8594; t &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> d) x &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Field" title="Cardano.Ledger.Binary.Coders">Field</a> (ann t)</li><li class="src short"><a href="#v:fieldAA">fieldAA</a> &#8759; (<a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> x, <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> ann, <a href="../base/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> ann) &#8658; (x &#8594; t &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> d) (ann x) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Field" title="Cardano.Ledger.Binary.Coders">Field</a> (ann t)</li><li class="src short"><a href="#v:decodeDual">decodeDual</a> &#8759; &#8704; t. (<a href="Cardano-Ledger-Binary-Encoding.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding">EncCBOR</a> t, <a href="Cardano-Ledger-Binary-Decoding.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding">DecCBOR</a> t) &#8658; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) t</li><li class="src short"><a href="#v:listDecodeA">listDecodeA</a> &#8759; <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> x &#8658; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> x) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> [x])</li><li class="src short"><a href="#v:mapDecodeA">mapDecodeA</a> &#8759; (<a href="../base/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k, <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> k, <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> v) &#8658; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> k) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> v) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> (<a href="../containers/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> k v))</li><li class="src short"><a href="#v:setDecodeA">setDecodeA</a> &#8759; (<a href="../base/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> x, <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> x) &#8658; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> x) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> (<a href="../containers/Data-Set.html#t:Set" title="Data.Set">Set</a> x))</li><li class="src short"><a href="#v:decodeRecordNamed">decodeRecordNamed</a> &#8759; <a href="../foldl/Control-Foldl-Text.html#t:Text" title="Control.Foldl.Text">Text</a> &#8594; (a &#8594; <a href="../base/Data-Int.html#t:Int" title="Data.Int">Int</a>) &#8594; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a &#8594; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a</li><li class="src short"><a href="#v:decodeRecordNamedT">decodeRecordNamedT</a> &#8759; (<a href="../mmorph/Control-Monad-Morph.html#t:MonadTrans" title="Control.Monad.Morph">MonadTrans</a> m, <a href="../base/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (m (<a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s))) &#8658; <a href="../foldl/Control-Foldl-Text.html#t:Text" title="Control.Foldl.Text">Text</a> &#8594; (a &#8594; <a href="../base/Data-Int.html#t:Int" title="Data.Int">Int</a>) &#8594; m (<a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s) a &#8594; m (<a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s) a</li><li class="src short"><a href="#v:decodeRecordSum">decodeRecordSum</a> &#8759; <a href="../foldl/Control-Foldl-Text.html#t:Text" title="Control.Foldl.Text">Text</a> &#8594; (<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="../base/Data-Int.html#t:Int" title="Data.Int">Int</a>, a)) &#8594; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a</li><li class="src short"><a href="#v:invalidKey">invalidKey</a> &#8759; &#8704; a m. (<a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a, <a href="../base/Control-Monad-Fail.html#t:MonadFail" title="Control.Monad.Fail">MonadFail</a> m) &#8658; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; m a</li><li class="src short"><a href="#v:unusedRequiredKeys">unusedRequiredKeys</a> &#8759; <a href="../containers/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; [(<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a>, <a href="../base/Data-String.html#t:String" title="Data.String">String</a>)] &#8594; <a href="../base/Data-String.html#t:String" title="Data.String">String</a> &#8594; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a</li><li class="src short"><a href="#v:duplicateKey">duplicateKey</a> &#8759; <a href="../base/Data-String.html#t:String" title="Data.String">String</a> &#8594; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a</li><li class="src short"><a href="#v:guardUntilAtLeast">guardUntilAtLeast</a> &#8759; <a href="Cardano-Ledger-Binary-Decoding.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding">DecCBOR</a> a &#8658; <a href="../base/Data-String.html#t:String" title="Data.String">String</a> &#8594; <a href="Cardano-Ledger-Binary-Version.html#t:Version" title="Cardano.Ledger.Binary.Version">Version</a> &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) a</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Creating encoders.</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Encode" class="def">Encode</a> (w &#8759; <a href="Cardano-Ledger-Binary-Coders.html#t:Wrapped" title="Cardano.Ledger.Binary.Coders">Wrapped</a>) t <span class="keyword">where</span> <a href="src/Cardano.Ledger.Binary.Encoding.Coders.html#Encode" class="link">Source</a> <a href="#t:Encode" class="selflink">#</a></p><div class="doc"><p>A first-order domain specific langage for describing EncCBOR instances. Applying
   the interpreter <code><a href="Cardano-Ledger-Binary-Coders.html#v:encode" title="Cardano.Ledger.Binary.Coders">encode</a></code> to a well-typed <code>(Encode w T)</code> always produces a valid encoding for <code>T</code>.
   Constructing an Encode of type T is just like building a value of type T, applying a constructor
   of <code>T</code> to the correctly typed arguments. For example</p><pre>data T = T Bool Word

instance EncCBOR T where
  encCBOR (T b w) = encode (Rec T !&gt; To b !&gt; To w)
</pre><p>Note the similarity of</p><p><code>(<em>T</em> <em>b</em> <em>w</em>)</code> and <code>(<em>T</em> $ <em>b</em> $ <em>w</em>)</code> and <code>(Rec <em>T</em> !&gt; To <em>b</em> !&gt; To <em>w</em>)</code></p><p>Where (<code><a href="Cardano-Ledger-Binary-Coders.html#v:-33--62-" title="Cardano.Ledger.Binary.Coders">!&gt;</a></code>) is the infx version of <code><a href="Cardano-Ledger-Binary-Coders.html#v:ApplyE" title="Cardano.Ledger.Binary.Coders">ApplyE</a></code> with the same infixity and precedence as (<code><a href="../base/Data-Function.html#v:-36-" title="Data.Function">$</a></code>). Note
 how the constructor and each (component, field, argument) is labeled with one of the constructors
 of <code><a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a></code>, and are combined with the application operator (<code><a href="Cardano-Ledger-Binary-Coders.html#v:-33--62-" title="Cardano.Ledger.Binary.Coders">!&gt;</a></code>). Using different constructors supports
 different styles of encoding.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Rec" class="def">Rec</a> &#8759; t &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) t</td><td class="doc"><p>Label the constructor of a Record-like datatype (one with exactly 1 constructor) as an Encode.</p></td></tr><tr><td class="src"><a id="v:Sum" class="def">Sum</a> &#8759; t &#8594; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Open" title="Cardano.Ledger.Binary.Coders">Open</a> t</td><td class="doc"><p>Label one of the constructors of a sum datatype (one with multiple constructors) as an Encode</p></td></tr><tr><td class="src"><a id="v:Keyed" class="def">Keyed</a> &#8759; t &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Sparse" title="Cardano.Ledger.Binary.Coders">Sparse</a>) t</td><td class="doc"><p>Label the constructor of a Record-like datatype as being encoded sparsely (storing only non-default values).</p></td></tr><tr><td class="src"><a id="v:To" class="def">To</a> &#8759; <a href="Cardano-Ledger-Binary-Encoding.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding">EncCBOR</a> a &#8658; a &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) a</td><td class="doc"><p>Label an (component, field, argument) to be encoded using an existing EncCBOR instance.</p></td></tr><tr><td class="src"><a id="v:ToGroup" class="def">ToGroup</a> &#8759; <a href="Cardano-Ledger-Binary-Group.html#t:EncCBORGroup" title="Cardano.Ledger.Binary.Group">EncCBORGroup</a> t &#8658; t &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) t</td><td class="doc"><p>Label components, set of fields, or arguments to be encoded using an existing EncCBORGroup instance.</p></td></tr><tr><td class="src"><a id="v:E" class="def">E</a> &#8759; (t &#8594; <a href="Cardano-Ledger-Binary-Encoding.html#t:Encoding" title="Cardano.Ledger.Binary.Encoding">Encoding</a>) &#8594; t &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) t</td><td class="doc"><p>Label an (component, field, argument) to be encoded using an existing EncCBOR instance.</p></td></tr><tr><td class="src"><a id="v:MapE" class="def">MapE</a> &#8759; (a &#8594; b) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> w a &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> w b</td><td class="doc"><p>Lift one Encode to another with a different type. Used to make a Functor instance of (Encode w).</p></td></tr><tr><td class="src"><a id="v:OmitC" class="def">OmitC</a> &#8759; t &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> w t</td><td class="doc"><p>Skip over the  (component,field, argument), don't encode it at all (used in sparse encoding).</p></td></tr><tr><td class="src"><a id="v:Tag" class="def">Tag</a> &#8759; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> x) t &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> x) t</td><td class="doc"><p>Precede the given encoding (in the produced bytes) with the given tag Word.</p></td></tr><tr><td class="src"><a id="v:Omit" class="def">Omit</a> &#8759; (t &#8594; <a href="../base/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Sparse" title="Cardano.Ledger.Binary.Coders">Sparse</a>) t &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Sparse" title="Cardano.Ledger.Binary.Coders">Sparse</a>) t</td><td class="doc"><p>Omit the  (component,field, argument) if the function is True, otherwise encode with the given encoding.</p></td></tr><tr><td class="src"><a id="v:Key" class="def">Key</a> &#8759; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) t &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Sparse" title="Cardano.Ledger.Binary.Coders">Sparse</a>) t</td><td class="doc"><p>Precede the encoding (in the produced bytes) with the key Word. Analagous to <code><a href="Cardano-Ledger-Binary-Coders.html#v:Tag" title="Cardano.Ledger.Binary.Coders">Tag</a></code>, but lifts a <code><a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a></code> encoding to a <code><a href="Cardano-Ledger-Binary-Coders.html#v:Sparse" title="Cardano.Ledger.Binary.Coders">Sparse</a></code> encoding.</p></td></tr><tr><td class="src"><a id="v:ApplyE" class="def">ApplyE</a> &#8759; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> w (a &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> r) a &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> w t</td><td class="doc"><p>Apply a functional encoding (arising from <code><a href="Cardano-Ledger-Binary-Coders.html#v:Rec" title="Cardano.Ledger.Binary.Coders">Rec</a></code> or <code><a href="Cardano-Ledger-Binary-Coders.html#v:Sum" title="Cardano.Ledger.Binary.Coders">Sum</a></code>) to get (type wise) smaller encoding. A fully saturated chain of <code><a href="Cardano-Ledger-Binary-Coders.html#v:ApplyE" title="Cardano.Ledger.Binary.Coders">ApplyE</a></code> will be a complete encoding. See also <code><a href="Cardano-Ledger-Binary-Coders.html#v:-33--62-" title="Cardano.Ledger.Binary.Coders">!&gt;</a></code> which is infix <code><a href="Cardano-Ledger-Binary-Coders.html#v:ApplyE" title="Cardano.Ledger.Binary.Coders">ApplyE</a></code>.</p></td></tr></table></div></div><div class="top"><p class="src"><a id="v:-33--62-" class="def">(!&gt;)</a> &#8759; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> w (a &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> r) a &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> w t <span class="fixity">infixl 4</span><span class="rightedge"></span> <a href="src/Cardano.Ledger.Binary.Encoding.Coders.html#%21%3E" class="link">Source</a> <a href="#v:-33--62-" class="selflink">#</a></p><div class="doc"><p>Infix operator version of <code>ApplyE</code>. Has the same infxity and operator precedence as <code><a href="../base/Data-Function.html#v:-36-" title="Data.Function">$</a></code></p></div></div><div class="top"><p class="src"><a id="v:encode" class="def">encode</a> &#8759; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> w t &#8594; <a href="Cardano-Ledger-Binary-Encoding.html#t:Encoding" title="Cardano.Ledger.Binary.Encoding">Encoding</a> <a href="src/Cardano.Ledger.Binary.Encoding.Coders.html#encode" class="link">Source</a> <a href="#v:encode" class="selflink">#</a></p><div class="doc"><p>Translate a first-order @(Encode w d) domain specific langage program, into an <code><a href="Cardano-Ledger-Binary-Encoding.html#t:Encoding" title="Cardano.Ledger.Binary.Encoding">Encoding</a></code> .</p></div></div><a href="#g:2" id="g:2"><h1>Index types for well-formed Coders.</h1></a><div class="top"><p class="src"><a id="v:runE" class="def">runE</a> &#8759; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> w t &#8594; t <a href="src/Cardano.Ledger.Binary.Encoding.Coders.html#runE" class="link">Source</a> <a href="#v:runE" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:encodeDual" class="def">encodeDual</a> &#8759; &#8704; t. (<a href="Cardano-Ledger-Binary-Encoding.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding">EncCBOR</a> t, <a href="Cardano-Ledger-Binary-Decoding.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding">DecCBOR</a> t) &#8658; t &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) t <a href="src/Cardano.Ledger.Binary.Encoding.Coders.html#encodeDual" class="link">Source</a> <a href="#v:encodeDual" class="selflink">#</a></p><div class="doc"><p>Use <code><a href="Cardano-Ledger-Binary-Coders.html#v:encodeDual" title="Cardano.Ledger.Binary.Coders">encodeDual</a></code> and <code><a href="Cardano-Ledger-Binary-Coders.html#v:decodeDual" title="Cardano.Ledger.Binary.Coders">decodeDual</a></code>, when you want to
 guarantee that a type has both <code><a href="Cardano-Ledger-Binary-Encoding.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding">EncCBOR</a></code> and <code>FromCBR</code> instances.</p></div></div><a href="#g:3" id="g:3"><h1>Containers, Combinators, Annotators</h1></a><div class="top"><p class="src"><a id="v:encodeKeyedStrictMaybeWith" class="def">encodeKeyedStrictMaybeWith</a> &#8759; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; (a &#8594; <a href="Cardano-Ledger-Binary-Encoding.html#t:Encoding" title="Cardano.Ledger.Binary.Encoding">Encoding</a>) &#8594; <a href="../cardano-strict-containers/Data-Maybe-Strict.html#t:StrictMaybe" title="Data.Maybe.Strict">StrictMaybe</a> a &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Sparse" title="Cardano.Ledger.Binary.Coders">Sparse</a>) (<a href="../cardano-strict-containers/Data-Maybe-Strict.html#t:StrictMaybe" title="Data.Maybe.Strict">StrictMaybe</a> a) <a href="src/Cardano.Ledger.Binary.Encoding.Coders.html#encodeKeyedStrictMaybeWith" class="link">Source</a> <a href="#v:encodeKeyedStrictMaybeWith" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:encodeKeyedStrictMaybe" class="def">encodeKeyedStrictMaybe</a> &#8759; <a href="Cardano-Ledger-Binary-Encoding.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding">EncCBOR</a> a &#8658; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="../cardano-strict-containers/Data-Maybe-Strict.html#t:StrictMaybe" title="Data.Maybe.Strict">StrictMaybe</a> a &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Sparse" title="Cardano.Ledger.Binary.Coders">Sparse</a>) (<a href="../cardano-strict-containers/Data-Maybe-Strict.html#t:StrictMaybe" title="Data.Maybe.Strict">StrictMaybe</a> a) <a href="src/Cardano.Ledger.Binary.Encoding.Coders.html#encodeKeyedStrictMaybe" class="link">Source</a> <a href="#v:encodeKeyedStrictMaybe" class="selflink">#</a></p></div><a href="#g:4" id="g:4"><h1>Creating decoders.</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Decode" class="def">Decode</a> (w &#8759; <a href="Cardano-Ledger-Binary-Coders.html#t:Wrapped" title="Cardano.Ledger.Binary.Coders">Wrapped</a>) t <span class="keyword">where</span> <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#Decode" class="link">Source</a> <a href="#t:Decode" class="selflink">#</a></p><div class="doc"><p>The type <code>(<code><a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a></code> t)</code> is designed to be dual to <code>(<code>Encode</code> t)</code>. It was designed so that
 in many cases a decoder can be extracted from an encoder by visual inspection. We now give some
 example of <code>(Decode t)</code>  and  <code>(Encode t)</code> pairs.</p><p>An example with 1 constructor (a record) uses <code>Rec</code> and <code><a href="Cardano-Ledger-Binary-Coders.html#v:RecD" title="Cardano.Ledger.Binary.Coders">RecD</a></code></p><p>In this example, let <code>Int</code> and <code>C</code> have <code><a href="Cardano-Ledger-Binary-Encoding.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding">EncCBOR</a></code> instances.</p><pre>data C = C { unC :: Text.Text }
instance EncCBOR C where
  encCBOR (C t) = encCBOR t
instance DecCBOR C where
  decCBOR = C <a href="$">$</a> decCBOR

data B = B { unB :: Text.Text }

data A = ACon Int B C

encodeA :: A -&gt; Encode ('Closed 'Dense) A
encodeA (ACon i b c) = Rec ACon !&gt; To i !&gt; E (encCBOR . unB) b !&gt; To c

decodeA :: Decode ('Closed 'Dense) A
decodeA = RecD ACon <a href="!">From &lt;! D (B &lt;$</a> decCBOR) &lt;! From

instance EncCBOR A where
  encCBOR = encode . encodeA
instance DecCBOR A where
  decCBOR = decode decodeA
</pre><p>An example with multiple constructors uses <code>Sum</code>, <code><a href="Cardano-Ledger-Binary-Coders.html#v:SumD" title="Cardano.Ledger.Binary.Coders">SumD</a></code>, and <code><a href="Cardano-Ledger-Binary-Coders.html#v:Summands" title="Cardano.Ledger.Binary.Coders">Summands</a></code>.</p><pre>data N = N1 Int | N2 B Bool | N3 A

encodeN :: N -&gt; Encode 'Open N
encodeN (N1 i)    = Sum N1 0 !&gt; To i
encodeN (N2 b tf) = Sum N2 1 !&gt; E (encCBOR . unB) b !&gt; To tf
encodeN (N3 a)    = Sum N3 2 !&gt; To a

decodeN :: Decode ('Closed 'Dense) N    -- Note each clause has an 'Open decoder,
decodeN = Summands <a href="N.html">N</a> decodeNx           -- But Summands returns a ('Closed 'Dense) decoder
  where decodeNx 0 = SumD N1 &lt;! From
        decodeNx 1 = SumD N2 <a href="!">D (B &lt;$</a> decCBOR) &lt;! From
        decodeNx 3 = SumD N3 &lt;! From
        decodeNx k = Invalid k

instance EncCBOR N   where encCBOR x = encode(encodeN x)
instance DecCBOR N where decCBOR = decode decodeN
</pre><p>Two examples using variants of sparse encoding for records, i.e. those datatypes with only one constructor.
 The Virtual constructor approach using <code><a href="Cardano-Ledger-Binary-Coders.html#v:Summands" title="Cardano.Ledger.Binary.Coders">Summands</a></code>, <code>OmitC</code>, <code><a href="Cardano-Ledger-Binary-Coders.html#v:Emit" title="Cardano.Ledger.Binary.Coders">Emit</a></code>.
 The Sparse field approach using <code>Keyed</code>, <code>Key</code> and <code>Omit</code>. The approaches work
 because encoders and decoders don't put
 fields with default values in the Encoding, and reconstruct the default values on the decoding side.
 We will illustrate the two approaches using the datatype M</p><pre>data M = M Int [Bool] Text.Text
  deriving (Show, Typeable)

a0, a1, a2, a3 :: M  -- Some illustrative examples, using things that might be given default values.
a0 = M 0 [] <a href="ABC.html">ABC</a>
a1 = M 0 [True] <a href="ABC.html">ABC</a>
a2 = M 9 [] <a href="ABC.html">ABC</a>
a3 = M 9 [False] <a href="ABC.html">ABC</a>
</pre><p>The virtual constructor strategy pretends there are mutiple constructors
 Even though there is only one. We use invariants about the data to avoid
 encoding some of the values. Note the use of <code>Sum</code> with virtual constructor tags 0,1,2,3</p><pre>encM :: M -&gt; Encode 'Open M
encM (M 0 [] t) = Sum M 0 !&gt; OmitC 0 !&gt; OmitC [] !&gt; To t
encM (M 0 bs t) = Sum M 1 !&gt; OmitC 0 !&gt; To bs !&gt; To t
encM (M n [] t) = Sum M 2 !&gt; To n !&gt; OmitC [] !&gt; To t
encM (M n bs t) = Sum M 3 !&gt; To n !&gt; To bs !&gt; To t

decM :: Word -&gt; Decode 'Open M
decM 0 = SumD M &lt;! Emit 0 &lt;! Emit [] &lt;! From  -- The virtual constructors tell which fields have been Omited
decM 1 = SumD M &lt;! Emit 0 &lt;! From &lt;! From     -- So those fields are reconstructed using <code><a href="Cardano-Ledger-Binary-Coders.html#v:Emit" title="Cardano.Ledger.Binary.Coders">Emit</a></code>.
decM 2 = SumD M &lt;! From &lt;! Emit [] &lt;! From
decM 3 = SumD M &lt;! From &lt;! From &lt;! From
decM n = Invalid n

instance EncCBOR M where
  encCBOR m = encode (encM m)

instance DecCBOR M where
  decCBOR = decode (Summands <a href="M.html">M</a> decM)
</pre><p>The Sparse field approach uses N keys, one for each field that is not defaulted. For example
 <code>(M 9 [True] (pack &quot;hi&quot;)))</code>. Here zero fields are defaulted, so there should be 3 keys.
 Encoding this example would look something like this.</p><pre>[TkMapLen 3,TkInt 0,TkInt 9,TkInt 1,TkListBegin,TkBool True,TkBreak,TkInt 2,TkString &quot;hi&quot;]
                  ^key            ^key                                    ^key
</pre><p>So the user supplies a function, that encodes every field, each field must use a unique
 key, and fields with default values have Omit wrapped around the Key encoding.
 The user must ensure that there is NOT an Omit on a required field. <code>encM2</code> is an example.</p><pre>encM2:: M -&gt; Encode ('Closed 'Sparse) M
encM2 (M n xs t) =
    Keyed M
       !&gt; Omit (== 0) (Key 0 (To n))    -- Omit if n is zero
       !&gt; Omit null (Key 1 (To xs))     -- Omit if xs is null
       !&gt; Key 2 (To t)                  -- Always encode t
</pre><p>To write an Decoder we must pair a decoder for each field, with a function that updates only
 that field. We use the <code><a href="Cardano-Ledger-Binary-Coders.html#t:Field" title="Cardano.Ledger.Binary.Coders">Field</a></code> GADT to construct these pairs, and we must write a function, that
 for each field tag, picks out the correct pair. If the Encode and Decode don't agree on how the
 tags correspond to a particular field, things will fail.</p><pre>boxM :: Word -&gt; Field M
boxM 0 = field update0 From
  where
    update0 n (M _ xs t) = M n xs t
boxM 1 = field update1 From
  where
    update1 xs (M n _ t) = M n xs t
boxM 2 = field update2 From
  where
    update2 t (M n xs _) = M n xs t
boxM n = invalidField n
</pre><p>Finally there is a new constructor for <code><a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a></code>, called <code><a href="Cardano-Ledger-Binary-Coders.html#v:SparseKeyed" title="Cardano.Ledger.Binary.Coders">SparseKeyed</a></code>, that decodes field
 keyed sparse objects. The user supplies an initial value and field function, and a list
 of tags of the required fields. The initial value should have default values and
 any well type value in required fields. If the encode function (baz above) is
 encoded properly the required fields in the initial value should always be over
 overwritten. If it is not written properly, or a bad encoding comes from somewhere
 else, the intial values in the required fields might survive decoding. The list
 of required fields is checked.</p><pre>instance DecCBOR M where
  decCBOR = decode (SparseKeyed
                      <a href="TT.html">TT</a>                        -- ^ Name of the type being decoded
                      (M 0 [] (Text.pack &quot;a&quot;))  -- ^ The default value
                      boxM                      -- ^ The Field function
                      [(2, <a href="Stringpart.html">Stringpart</a>)]         -- ^ The required Fields
                    )

instance EncCBOR M where
  encCBOR m = encode(encM2 m)
</pre></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:RecD" class="def">RecD</a> &#8759; t &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) t</td><td class="doc"><p>Label the constructor of a Record-like datatype (one with exactly 1 constructor) as a Decode.</p></td></tr><tr><td class="src"><a id="v:SumD" class="def">SumD</a> &#8759; t &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Open" title="Cardano.Ledger.Binary.Coders">Open</a> t</td><td class="doc"><p>Label the constructor of a Record-like datatype (one with multiple constructors) as an Decode.</p></td></tr><tr><td class="src"><a id="v:Summands" class="def">Summands</a> &#8759; <a href="../foldl/Control-Foldl-Text.html#t:Text" title="Control.Foldl.Text">Text</a> &#8594; (<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Open" title="Cardano.Ledger.Binary.Coders">Open</a> t) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) t</td><td class="doc"><p>Lift a Word to Decode function into a DeCode for a type with multiple constructors.</p></td></tr><tr><td class="src"><a id="v:SparseKeyed" class="def">SparseKeyed</a></td><td class="doc"><p>Lift a Word to Field function into a DeCode for a type with 1 constructor stored sparsely</p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src">&#8759; <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> t</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src">&#8658; <a href="../base/Data-String.html#t:String" title="Data.String">String</a></dfn><div class="doc"><p>Name of the Type (for error messages)</p></div></li><li><dfn class="src">&#8594; t</dfn><div class="doc"><p>The type with default values in all fields</p></div></li><li><dfn class="src">&#8594; (<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Field" title="Cardano.Ledger.Binary.Coders">Field</a> t)</dfn><div class="doc"><p>What to do with key in the <code>Word</code></p></div></li><li><dfn class="src">&#8594; [(<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a>, <a href="../base/Data-String.html#t:String" title="Data.String">String</a>)]</dfn><div class="doc"><p>Pairs of keys and Strings which must be there (default values not allowed)</p></div></li><li><dfn class="src">&#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) t</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:KeyedD" class="def">KeyedD</a> &#8759; t &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Sparse" title="Cardano.Ledger.Binary.Coders">Sparse</a>) t</td><td class="doc"><p>Label a (component, field, argument) as sparsely stored, which will be populated
 with the default value.</p></td></tr><tr><td class="src"><a id="v:From" class="def">From</a> &#8759; <a href="Cardano-Ledger-Binary-Decoding.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding">DecCBOR</a> t &#8658; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w t</td><td class="doc"><p>Label a (component, field, argument). It will be decoded using the existing
 DecCBOR instance at <code>t</code></p></td></tr><tr><td class="src"><a id="v:FromGroup" class="def">FromGroup</a> &#8759; (<a href="Cardano-Ledger-Binary-Group.html#t:EncCBORGroup" title="Cardano.Ledger.Binary.Group">EncCBORGroup</a> t, <a href="Cardano-Ledger-Binary-Group.html#t:DecCBORGroup" title="Cardano.Ledger.Binary.Group">DecCBORGroup</a> t) &#8658; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w t</td><td class="doc"><p>Label components, fields, arguments. It will be decoded using the existing
 DecCBORGroup instance at <code>t</code></p></td></tr><tr><td class="src"><a id="v:D" class="def">D</a> &#8759; (&#8704; s. <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s t) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) t</td><td class="doc"><p>Label a (component, field, argument). It will be decoded using the given decoder.</p></td></tr><tr><td class="src"><a id="v:ApplyD" class="def">ApplyD</a> &#8759; <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a &#8658; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w1 (a &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> d) a &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w1 t</td><td class="doc"><p>Apply a functional decoding (arising from <code><a href="Cardano-Ledger-Binary-Coders.html#v:RecD" title="Cardano.Ledger.Binary.Coders">RecD</a></code> or <code><a href="Cardano-Ledger-Binary-Coders.html#v:SumD" title="Cardano.Ledger.Binary.Coders">SumD</a></code>) to get (type wise)
 smaller decoding.</p></td></tr><tr><td class="src"><a id="v:Invalid" class="def">Invalid</a> &#8759; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w t</td><td class="doc"><p>Mark a Word as a Decoding which is not a valid Decoding. Used when decoding sums
 that are tagged out of range.</p></td></tr><tr><td class="src"><a id="v:Map" class="def">Map</a> &#8759; <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a &#8658; (a &#8594; b) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w a &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w b</td><td class="doc"><p>Used to make (Decode w) an instance of Functor.</p></td></tr><tr><td class="src"><a id="v:TagD" class="def">TagD</a> &#8759; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> x) t &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> x) t</td><td class="doc"><p>Assert that the next thing decoded must be tagged with the given word.</p></td></tr><tr><td class="src"><a id="v:Emit" class="def">Emit</a> &#8759; t &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w t</td><td class="doc"><p>Decode the next thing, not by inspecting the bytes, but pulled out of thin air,
 returning <code>t</code>. Used in sparse decoding.</p></td></tr><tr><td class="src"><a id="v:Ann" class="def">Ann</a> &#8759; <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> t &#8658; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w t &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> t)</td><td class="doc"><p>Lift a <code>(Decode w t)</code> to a <code>(Decode w (Annotator t))</code>. Used on a (component, field,
 argument) that was not Annotator encoded, but contained in Record or Sum which is
 Annotator encoded.</p></td></tr><tr><td class="src"><a id="v:ApplyAnn" class="def">ApplyAnn</a></td><td class="doc"><p>Apply a functional decoding (arising from <code><a href="Cardano-Ledger-Binary-Coders.html#v:RecD" title="Cardano.Ledger.Binary.Coders">RecD</a></code> or <code><a href="Cardano-Ledger-Binary-Coders.html#v:SumD" title="Cardano.Ledger.Binary.Coders">SumD</a></code> that needs to be
 Annotator decoded) to get (type wise) smaller decoding.</p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src">&#8759; (<a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a, <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> t)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src">&#8658; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w1 (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> (a &#8594; t))</dfn><div class="doc"><p>A functional Decode</p></div></li><li><dfn class="src">&#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> d) (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> a)</dfn><div class="doc"><p>An Decoder for an Annotator</p></div></li><li><dfn class="src">&#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w1 (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> t)</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:ApplyErr" class="def">ApplyErr</a> &#8759; <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a &#8658; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w1 (a &#8594; <a href="../base/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../base/Data-String.html#t:String" title="Data.String">String</a> t) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> d) a &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w1 t</td><td class="doc"><p>the function to Either can raise an error when applied by returning (Left errorMessage)</p></td></tr></table></div></div><div class="top"><p class="src"><a id="v:-60--33-" class="def">(&lt;!)</a> &#8759; <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a &#8658; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w1 (a &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> w) a &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w1 t <span class="fixity">infixl 4</span><span class="rightedge"></span> <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#%3C%21" class="link">Source</a> <a href="#v:-60--33-" class="selflink">#</a></p><div class="doc"><p>Infix form of <code>ApplyD</code> with the same infixity and precedence as <code>($)</code>.</p></div></div><div class="top"><p class="src"><a id="v:-60--42--33-" class="def">(&lt;*!)</a> &#8759; (<a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a, <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> t) &#8658; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w1 (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> (a &#8594; t)) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> d) (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> a) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w1 (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> t) <span class="fixity">infixl 4</span><span class="rightedge"></span> <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#%3C%2A%21" class="link">Source</a> <a href="#v:-60--42--33-" class="selflink">#</a></p><div class="doc"><p>Infix form of <code>ApplyAnn</code> with the same infixity and precedence as <code>($)</code>.</p></div></div><div class="top"><p class="src"><a id="v:-60--63-" class="def">(&lt;?)</a> &#8759; <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a &#8658; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w1 (a &#8594; <a href="../base/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../base/Data-String.html#t:String" title="Data.String">String</a> t) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> d) a &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w1 t <span class="fixity">infixl 4</span><span class="rightedge"></span> <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#%3C%3F" class="link">Source</a> <a href="#v:-60--63-" class="selflink">#</a></p><div class="doc"><p>Infix form of <code>ApplyErr</code> with the same infixity and precedence as <code>($)</code>.</p></div></div><div class="top"><p class="src"><a id="v:decode" class="def">decode</a> &#8759; <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> t &#8658; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w t &#8594; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s t <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#decode" class="link">Source</a> <a href="#v:decode" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeSparse" class="def">decodeSparse</a> &#8759; <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a &#8658; <a href="../base/Data-String.html#t:String" title="Data.String">String</a> &#8594; a &#8594; (<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Field" title="Cardano.Ledger.Binary.Coders">Field</a> a) &#8594; [(<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a>, <a href="../base/Data-String.html#t:String" title="Data.String">String</a>)] &#8594; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#decodeSparse" class="link">Source</a> <a href="#v:decodeSparse" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mapCoder" class="def">mapCoder</a> &#8759; <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a &#8658; (a &#8594; b) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w a &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> w b <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#mapCoder" class="link">Source</a> <a href="#v:mapCoder" class="selflink">#</a></p></div><a href="#g:5" id="g:5"><h1>Index types for well-formed Coders.</h1></a><div class="doc"><p>Some CBOR instances wrap encoding sequences with prefixes and suffixes. I.e.
  prefix , encode, encode, encode , ... , suffix.
  There are two kinds of wrapping coders: Nary sums, and Sparsely encoded products.
  Coders in these classes can only be decoded when they are wrapped by their
  closing forms <code><a href="Cardano-Ledger-Binary-Coders.html#v:Summands" title="Cardano.Ledger.Binary.Coders">Summands</a></code> and <code><a href="Cardano-Ledger-Binary-Coders.html#v:SparseKeyed" title="Cardano.Ledger.Binary.Coders">SparseKeyed</a></code>. Another dimension, where we use indexes
  to maintain type safety, are records which can be
  encoded densely (all their fields serialised) or sparsely (only some of their
  fields). We use indexes to types to try and mark (and enforce) these distinctions.</p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Density" class="def">Density</a> <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#Density" class="link">Source</a> <a href="#t:Density" class="selflink">#</a></p><div class="doc"><p>Index for record density. Distinguishing (all the fields) from (some of the fields).</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Dense" class="def">Dense</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Sparse" class="def">Sparse</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Wrapped" class="def">Wrapped</a> <span class="keyword">where</span> <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#Wrapped" class="link">Source</a> <a href="#t:Wrapped" class="selflink">#</a></p><div class="doc"><p>Index for a wrapped Coder. Wrapping is necessary for <code><a href="Cardano-Ledger-Binary-Coders.html#v:Summands" title="Cardano.Ledger.Binary.Coders">Summands</a></code> and <code><a href="Cardano-Ledger-Binary-Coders.html#v:SparseKeyed" title="Cardano.Ledger.Binary.Coders">SparseKeyed</a></code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Open" class="def">Open</a> &#8759; <a href="Cardano-Ledger-Binary-Coders.html#t:Wrapped" title="Cardano.Ledger.Binary.Coders">Wrapped</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Closed" class="def">Closed</a> &#8759; <a href="Cardano-Ledger-Binary-Coders.html#t:Density" title="Cardano.Ledger.Binary.Coders">Density</a> &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Wrapped" title="Cardano.Ledger.Binary.Coders">Wrapped</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Field" class="def">Field</a> t <span class="keyword">where</span> <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#Field" class="link">Source</a> <a href="#t:Field" class="selflink">#</a></p><div class="doc"><p>A Field pairs an update function and a decoder for one field of a Sparse record.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Field" class="def">Field</a> &#8759; (x &#8594; t &#8594; t) &#8594; (&#8704; s. <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s x) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Field" title="Cardano.Ledger.Binary.Coders">Field</a> t</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:ofield" class="def">ofield</a> &#8759; <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> x &#8658; (<a href="../cardano-strict-containers/Data-Maybe-Strict.html#t:StrictMaybe" title="Data.Maybe.Strict">StrictMaybe</a> x &#8594; t &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> d) x &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Field" title="Cardano.Ledger.Binary.Coders">Field</a> t <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#ofield" class="link">Source</a> <a href="#v:ofield" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:invalidField" class="def">invalidField</a> &#8759; &#8704; t. <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Field" title="Cardano.Ledger.Binary.Coders">Field</a> t <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#invalidField" class="link">Source</a> <a href="#v:invalidField" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:field" class="def">field</a> &#8759; <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> x &#8658; (x &#8594; t &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> d) x &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Field" title="Cardano.Ledger.Binary.Coders">Field</a> t <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#field" class="link">Source</a> <a href="#v:field" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:fieldGuarded" class="def">fieldGuarded</a> <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#fieldGuarded" class="link">Source</a> <a href="#v:fieldGuarded" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">&#8759; <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> x</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8658; <a href="../base/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc"><p>The message to use if the condition fails</p></td></tr><tr><td class="src">&#8594; (x &#8594; <a href="../base/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>)</td><td class="doc"><p>The condition to guard against</p></td></tr><tr><td class="src">&#8594; (x &#8594; t &#8594; t)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> d) x</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Field" title="Cardano.Ledger.Binary.Coders">Field</a> t</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:fieldA" class="def">fieldA</a> &#8759; (<a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> x, <a href="../base/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> ann) &#8658; (x &#8594; t &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> d) x &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Field" title="Cardano.Ledger.Binary.Coders">Field</a> (ann t) <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#fieldA" class="link">Source</a> <a href="#v:fieldA" class="selflink">#</a></p><div class="doc"><p>Sparse decode something with a (DecCBOR (Annotator t)) instance
 A special case of <code><a href="Cardano-Ledger-Binary-Coders.html#v:field" title="Cardano.Ledger.Binary.Coders">field</a></code></p></div></div><div class="top"><p class="src"><a id="v:fieldAA" class="def">fieldAA</a> &#8759; (<a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> x, <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> ann, <a href="../base/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> ann) &#8658; (x &#8594; t &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> d) (ann x) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Field" title="Cardano.Ledger.Binary.Coders">Field</a> (ann t) <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#fieldAA" class="link">Source</a> <a href="#v:fieldAA" class="selflink">#</a></p><div class="doc"><p>Sparse decode something with a (DecCBOR (Annotator t)) instance</p></div></div><a href="#g:6" id="g:6"><h1>Using Duals</h1></a><div class="top"><p class="src"><a id="v:decodeDual" class="def">decodeDual</a> &#8759; &#8704; t. (<a href="Cardano-Ledger-Binary-Encoding.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding">EncCBOR</a> t, <a href="Cardano-Ledger-Binary-Decoding.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding">DecCBOR</a> t) &#8658; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) t <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#decodeDual" class="link">Source</a> <a href="#v:decodeDual" class="selflink">#</a></p><div class="doc"><p>Use <code><a href="Cardano-Ledger-Binary-Coders.html#v:encodeDual" title="Cardano.Ledger.Binary.Coders">encodeDual</a></code> and <code><a href="Cardano-Ledger-Binary-Coders.html#v:decodeDual" title="Cardano.Ledger.Binary.Coders">decodeDual</a></code>, when you want to
 guarantee that a type has both <code><a href="Cardano-Ledger-Binary-Encoding.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding">EncCBOR</a></code> and <code>FromCBR</code> instances.</p></div></div><a href="#g:7" id="g:7"><h1>Containers, Combinators</h1></a><div class="top"><p class="src"><a id="v:listDecodeA" class="def">listDecodeA</a> &#8759; <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> x &#8658; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> x) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> [x]) <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#listDecodeA" class="link">Source</a> <a href="#v:listDecodeA" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mapDecodeA" class="def">mapDecodeA</a> &#8759; (<a href="../base/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k, <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> k, <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> v) &#8658; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> k) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> v) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> (<a href="../containers/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> k v)) <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#mapDecodeA" class="link">Source</a> <a href="#v:mapDecodeA" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:setDecodeA" class="def">setDecodeA</a> &#8759; (<a href="../base/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> x, <a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> x) &#8658; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> x) &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> (<a href="../containers/Data-Set.html#t:Set" title="Data.Set">Set</a> x)) <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#setDecodeA" class="link">Source</a> <a href="#v:setDecodeA" class="selflink">#</a></p></div><a href="#g:8" id="g:8"><h1>Low level (Encoding/Decoder) utility functions</h1></a><div class="top"><p class="src"><a id="v:decodeRecordNamed" class="def">decodeRecordNamed</a> &#8759; <a href="../foldl/Control-Foldl-Text.html#t:Text" title="Control.Foldl.Text">Text</a> &#8594; (a &#8594; <a href="../base/Data-Int.html#t:Int" title="Data.Int">Int</a>) &#8594; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a &#8594; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a <a href="src/Cardano.Ledger.Binary.Decoding.Decoder.html#decodeRecordNamed" class="link">Source</a> <a href="#v:decodeRecordNamed" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeRecordNamedT" class="def">decodeRecordNamedT</a> &#8759; (<a href="../mmorph/Control-Monad-Morph.html#t:MonadTrans" title="Control.Monad.Morph">MonadTrans</a> m, <a href="../base/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (m (<a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s))) &#8658; <a href="../foldl/Control-Foldl-Text.html#t:Text" title="Control.Foldl.Text">Text</a> &#8594; (a &#8594; <a href="../base/Data-Int.html#t:Int" title="Data.Int">Int</a>) &#8594; m (<a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s) a &#8594; m (<a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s) a <a href="src/Cardano.Ledger.Binary.Decoding.Decoder.html#decodeRecordNamedT" class="link">Source</a> <a href="#v:decodeRecordNamedT" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeRecordSum" class="def">decodeRecordSum</a> &#8759; <a href="../foldl/Control-Foldl-Text.html#t:Text" title="Control.Foldl.Text">Text</a> &#8594; (<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="../base/Data-Int.html#t:Int" title="Data.Int">Int</a>, a)) &#8594; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a <a href="src/Cardano.Ledger.Binary.Decoding.Decoder.html#decodeRecordSum" class="link">Source</a> <a href="#v:decodeRecordSum" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:invalidKey" class="def">invalidKey</a> &#8759; &#8704; a m. (<a href="../base/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a, <a href="../base/Control-Monad-Fail.html#t:MonadFail" title="Control.Monad.Fail">MonadFail</a> m) &#8658; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; m a <a href="src/Cardano.Ledger.Binary.Plain.html#invalidKey" class="link">Source</a> <a href="#v:invalidKey" class="selflink">#</a></p><div class="doc"><p>Report an error when a numeric key of the type constructor doesn't match.</p></div></div><div class="top"><p class="src"><a id="v:unusedRequiredKeys" class="def">unusedRequiredKeys</a> &#8759; <a href="../containers/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; [(<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a>, <a href="../base/Data-String.html#t:String" title="Data.String">String</a>)] &#8594; <a href="../base/Data-String.html#t:String" title="Data.String">String</a> &#8594; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#unusedRequiredKeys" class="link">Source</a> <a href="#v:unusedRequiredKeys" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:duplicateKey" class="def">duplicateKey</a> &#8759; <a href="../base/Data-String.html#t:String" title="Data.String">String</a> &#8594; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#duplicateKey" class="link">Source</a> <a href="#v:duplicateKey" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:guardUntilAtLeast" class="def">guardUntilAtLeast</a> &#8759; <a href="Cardano-Ledger-Binary-Decoding.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding">DecCBOR</a> a &#8658; <a href="../base/Data-String.html#t:String" title="Data.String">String</a> &#8594; <a href="Cardano-Ledger-Binary-Version.html#t:Version" title="Cardano.Ledger.Binary.Version">Version</a> &#8594; <a href="Cardano-Ledger-Binary-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Coders">Dense</a>) a <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#guardUntilAtLeast" class="link">Source</a> <a href="#v:guardUntilAtLeast" class="selflink">#</a></p><div class="doc"><p>Prevent decoding until the <code><a href="Cardano-Ledger-Binary-Version.html#t:Version" title="Cardano.Ledger.Binary.Version">Version</a></code> is at least the provided version.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>