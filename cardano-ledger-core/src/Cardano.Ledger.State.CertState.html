<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE BangPatterns #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE DerivingVia #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE GeneralizedNewtypeDeriving #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE RecordWildCards #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE StandaloneDeriving #-}</span><span>
</span><span id="line-14"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-15"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilyDependencies #-}</span><span>
</span><span id="line-16"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators #-}</span><span>
</span><span id="line-17"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-18"></span><span class="hs-pragma">{-# LANGUAGE UndecidableSuperClasses #-}</span><span>
</span><span id="line-19"></span><span>
</span><span id="line-20"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Cardano.Ledger.State.CertState</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-21"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#EraCertState"><span class="hs-identifier">EraCertState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CommitteeAuthorization"><span class="hs-identifier">CommitteeAuthorization</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#DState"><span class="hs-identifier">DState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#PState"><span class="hs-identifier">PState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#InstantaneousRewards"><span class="hs-identifier">InstantaneousRewards</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#FutureGenDeleg"><span class="hs-identifier">FutureGenDeleg</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.BaseTypes.html#Anchor"><span class="hs-identifier">Anchor</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.DRep.html#DRepState"><span class="hs-identifier">DRepState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.DRep.html#DRep"><span class="hs-identifier">DRep</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CommitteeState"><span class="hs-identifier">CommitteeState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#authorizedHotCommitteeCredentials"><span class="hs-identifier">authorizedHotCommitteeCredentials</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.BaseTypes.html#AnchorData"><span class="hs-identifier">AnchorData</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#lookupDepositDState"><span class="hs-identifier">lookupDepositDState</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#lookupRewardDState"><span class="hs-identifier">lookupRewardDState</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#Obligations"><span class="hs-identifier">Obligations</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#sumObligation"><span class="hs-identifier">sumObligation</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>  </span><span class="hs-comment">-- Lenses</span><span>
</span><span id="line-38"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#dsGenDelegsL"><span class="hs-identifier">dsGenDelegsL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#dsIRewardsL"><span class="hs-identifier">dsIRewardsL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#dsFutureGenDelegsL"><span class="hs-identifier">dsFutureGenDelegsL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#psStakePoolsL"><span class="hs-identifier">psStakePoolsL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#psFutureStakePoolsL"><span class="hs-identifier">psFutureStakePoolsL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#psRetiringL"><span class="hs-identifier">psRetiringL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#psVRFKeyHashesL"><span class="hs-identifier">psVRFKeyHashesL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-46"></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Ledger.BaseTypes.html"><span class="hs-identifier">Cardano.Ledger.BaseTypes</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-48"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.BaseTypes.html#Anchor"><span class="hs-identifier">Anchor</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.BaseTypes.html#AnchorData"><span class="hs-identifier">AnchorData</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.BaseTypes.html#KeyValuePairs"><span class="hs-identifier">KeyValuePairs</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.BaseTypes.NonZero.html#NonZero"><span class="hs-identifier">NonZero</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-strict-containers-0.1.5.0-d2741b9ef9564f4a1a3151d17a0f69b9663f5795dd47dab0bbd6117738fcce96/share/doc/html/src/Data.Maybe.Strict.html#StrictMaybe"><span class="hs-identifier">StrictMaybe</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-53"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.BaseTypes.html#ToKeyValuePairs"><span class="hs-identifier">ToKeyValuePairs</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-54"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.html"><span class="hs-identifier">Cardano.Ledger.Binary</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-56"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#DecCBOR"><span class="hs-identifier">DecCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#DecShareCBOR"><span class="hs-identifier">DecShareCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-58"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#EncCBOR"><span class="hs-identifier">EncCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-59"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#Interns"><span class="hs-identifier">Interns</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-60"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-binary-1.7.2.0-a8823886ffd0b2d51904ce75fd27e0a08a953fdc80b3ee2bc40708ca6dbab289/share/doc/html/src/Cardano.Binary.ToCBOR.html#ToCBOR"><span class="hs-identifier">ToCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-61"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#decNoShareCBOR"><span class="hs-identifier">decNoShareCBOR</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-62"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#decSharePlusCBOR"><span class="hs-identifier">decSharePlusCBOR</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-63"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#decSharePlusLensCBOR"><span class="hs-identifier">decSharePlusLensCBOR</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-64"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Decoder.html#decodeRecordNamed"><span class="hs-identifier">decodeRecordNamed</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-65"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Decoder.html#decodeRecordNamedT"><span class="hs-identifier">decodeRecordNamedT</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-66"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Encoder.html#encodeListLen"><span class="hs-identifier">encodeListLen</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-67"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#internsFromSet"><span class="hs-identifier">internsFromSet</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-68"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#toMemptyLens"><span class="hs-identifier">toMemptyLens</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-69"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Coders.html"><span class="hs-identifier">Cardano.Ledger.Binary.Coders</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Coders.html#Decode"><span class="hs-identifier">Decode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Coders.html#Encode"><span class="hs-identifier">Encode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Coders.html#decode"><span class="hs-identifier">decode</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Coders.html#encode"><span class="hs-identifier">encode</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Coders.html#%21%3E"><span class="hs-operator">(!&gt;)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Coders.html#%3C%21"><span class="hs-operator">(&lt;!)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Ledger.Coin.html"><span class="hs-identifier">Cardano.Ledger.Coin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier">Coin</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Coin.html#DeltaCoin"><span class="hs-identifier">DeltaCoin</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Ledger.Compactible.html"><span class="hs-identifier">Cardano.Ledger.Compactible</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Compactible.html#Compactible"><span class="hs-identifier">Compactible</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Compactible.html#fromCompact"><span class="hs-identifier">fromCompact</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Ledger.Core.html"><span class="hs-identifier">Cardano.Ledger.Core</span></a></span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Ledger.Credential.html"><span class="hs-identifier">Cardano.Ledger.Credential</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier">Credential</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Credential.html#StakeCredential"><span class="hs-identifier">StakeCredential</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Ledger.DRep.html"><span class="hs-identifier">Cardano.Ledger.DRep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.DRep.html#DRep"><span class="hs-identifier">DRep</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.DRep.html#DRepState"><span class="hs-identifier">DRepState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Ledger.Hashes.html"><span class="hs-identifier">Cardano.Ledger.Hashes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Hashes.html#GenDelegPair"><span class="hs-identifier">GenDelegPair</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Hashes.html#GenDelegs"><span class="hs-identifier">GenDelegs</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Ledger.Slot.html"><span class="hs-identifier">Cardano.Ledger.Slot</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-slotting-0.2.0.1-cbaa0d455a08b054bafb132b87b34221d87bbbacf98d60661b1ed3cfc20b13c4/share/doc/html/src/Cardano.Slotting.Slot.html#EpochNo"><span class="hs-identifier">EpochNo</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-slotting-0.2.0.1-cbaa0d455a08b054bafb132b87b34221d87bbbacf98d60661b1ed3cfc20b13c4/share/doc/html/src/Cardano.Slotting.Slot.html#SlotNo"><span class="hs-identifier">SlotNo</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-78"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Ledger.State.Account.html"><span class="hs-identifier">Cardano.Ledger.State.Account</span></a></span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Ledger.State.StakePool.html"><span class="hs-identifier">Cardano.Ledger.State.StakePool</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.StakePool.html#StakePoolState"><span class="hs-identifier">StakePoolState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.DeepSeq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">NFData</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans</span></span><span>
</span><span id="line-82"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.html"><span class="hs-identifier">Data.Aeson</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#ToJSON"><span class="hs-identifier">ToJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.Internal.html#object"><span class="hs-identifier">object</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#.%3D"><span class="hs-operator">(.=)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-default-0.8.0.1-9291b190c5bc542cf17f99ce44e9365d143d76b9889465ad3d362701e6cc609e/share/doc/html/src/Data.Default.html"><span class="hs-identifier">Data.Default</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-default-0.8.0.1-9291b190c5bc542cf17f99ce44e9365d143d76b9889465ad3d362701e6cc609e/share/doc/html/src/Data.Default.Internal.html#Default"><span class="hs-identifier">Default</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-default-0.8.0.1-9291b190c5bc542cf17f99ce44e9365d143d76b9889465ad3d362701e6cc609e/share/doc/html/src/Data.Default.Internal.html#def"><span class="hs-identifier">def</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Foldable</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">F</span></span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Kind</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Type</span></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map.Strict</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Map</span></span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map.Strict</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-88"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-89"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Word</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Word64</span></span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Generics</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Generic</span></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html"><span class="hs-identifier">Lens.Micro</span></a></span><span>
</span><span id="line-92"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/nothunks-0.2.1.1-0663c3283fb5dee9e67d41860072fab0227b6d69ef882303baddf309058f8618/share/doc/html/src/NoThunks.Class.html"><span class="hs-identifier">NoThunks.Class</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/nothunks-0.2.1.1-0663c3283fb5dee9e67d41860072fab0227b6d69ef882303baddf309058f8618/share/doc/html/src/NoThunks.Class.html#NoThunks"><span class="hs-identifier">NoThunks</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span class="hs-keyword">data</span><span> </span><span id="FutureGenDeleg"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#FutureGenDeleg"><span class="hs-identifier hs-var">FutureGenDeleg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="FutureGenDeleg"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#FutureGenDeleg"><span class="hs-identifier hs-var">FutureGenDeleg</span></a></span></span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="fGenDelegSlot"><span class="annot"><span class="annottext">FutureGenDeleg -&gt; SlotNo
</span><a href="Cardano.Ledger.State.CertState.html#fGenDelegSlot"><span class="hs-identifier hs-var hs-var">fGenDelegSlot</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-slotting-0.2.0.1-cbaa0d455a08b054bafb132b87b34221d87bbbacf98d60661b1ed3cfc20b13c4/share/doc/html/src/Cardano.Slotting.Slot.html#SlotNo"><span class="hs-identifier hs-type">SlotNo</span></a></span><span>
</span><span id="line-96"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="fGenDelegGenKeyHash"><span class="annot"><span class="annottext">FutureGenDeleg -&gt; KeyHash 'Genesis
</span><a href="Cardano.Ledger.State.CertState.html#fGenDelegGenKeyHash"><span class="hs-identifier hs-var hs-var">fGenDelegGenKeyHash</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Hashes.html#KeyHash"><span class="hs-identifier hs-type">KeyHash</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Ledger.Keys.Internal.html#Genesis"><span class="hs-identifier hs-type">Genesis</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-98"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679465958"><span id="local-6989586621679465966"><span id="local-6989586621679465970"><span class="annot"><span class="annottext">Int -&gt; FutureGenDeleg -&gt; ShowS
[FutureGenDeleg] -&gt; ShowS
FutureGenDeleg -&gt; String
(Int -&gt; FutureGenDeleg -&gt; ShowS)
-&gt; (FutureGenDeleg -&gt; String)
-&gt; ([FutureGenDeleg] -&gt; ShowS)
-&gt; Show FutureGenDeleg
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; FutureGenDeleg -&gt; ShowS
showsPrec :: Int -&gt; FutureGenDeleg -&gt; ShowS
$cshow :: FutureGenDeleg -&gt; String
show :: FutureGenDeleg -&gt; String
$cshowList :: [FutureGenDeleg] -&gt; ShowS
showList :: [FutureGenDeleg] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679465974"><span id="local-6989586621679465980"><span class="annot"><span class="annottext">FutureGenDeleg -&gt; FutureGenDeleg -&gt; Bool
(FutureGenDeleg -&gt; FutureGenDeleg -&gt; Bool)
-&gt; (FutureGenDeleg -&gt; FutureGenDeleg -&gt; Bool) -&gt; Eq FutureGenDeleg
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: FutureGenDeleg -&gt; FutureGenDeleg -&gt; Bool
== :: FutureGenDeleg -&gt; FutureGenDeleg -&gt; Bool
$c/= :: FutureGenDeleg -&gt; FutureGenDeleg -&gt; Bool
/= :: FutureGenDeleg -&gt; FutureGenDeleg -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679465987"><span id="local-6989586621679465993"><span id="local-6989586621679465997"><span id="local-6989586621679466001"><span id="local-6989586621679466004"><span id="local-6989586621679466007"><span id="local-6989586621679466010"><span class="annot"><span class="annottext">Eq FutureGenDeleg
Eq FutureGenDeleg =&gt;
(FutureGenDeleg -&gt; FutureGenDeleg -&gt; Ordering)
-&gt; (FutureGenDeleg -&gt; FutureGenDeleg -&gt; Bool)
-&gt; (FutureGenDeleg -&gt; FutureGenDeleg -&gt; Bool)
-&gt; (FutureGenDeleg -&gt; FutureGenDeleg -&gt; Bool)
-&gt; (FutureGenDeleg -&gt; FutureGenDeleg -&gt; Bool)
-&gt; (FutureGenDeleg -&gt; FutureGenDeleg -&gt; FutureGenDeleg)
-&gt; (FutureGenDeleg -&gt; FutureGenDeleg -&gt; FutureGenDeleg)
-&gt; Ord FutureGenDeleg
FutureGenDeleg -&gt; FutureGenDeleg -&gt; Bool
FutureGenDeleg -&gt; FutureGenDeleg -&gt; Ordering
FutureGenDeleg -&gt; FutureGenDeleg -&gt; FutureGenDeleg
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: FutureGenDeleg -&gt; FutureGenDeleg -&gt; Ordering
compare :: FutureGenDeleg -&gt; FutureGenDeleg -&gt; Ordering
$c&lt; :: FutureGenDeleg -&gt; FutureGenDeleg -&gt; Bool
&lt; :: FutureGenDeleg -&gt; FutureGenDeleg -&gt; Bool
$c&lt;= :: FutureGenDeleg -&gt; FutureGenDeleg -&gt; Bool
&lt;= :: FutureGenDeleg -&gt; FutureGenDeleg -&gt; Bool
$c&gt; :: FutureGenDeleg -&gt; FutureGenDeleg -&gt; Bool
&gt; :: FutureGenDeleg -&gt; FutureGenDeleg -&gt; Bool
$c&gt;= :: FutureGenDeleg -&gt; FutureGenDeleg -&gt; Bool
&gt;= :: FutureGenDeleg -&gt; FutureGenDeleg -&gt; Bool
$cmax :: FutureGenDeleg -&gt; FutureGenDeleg -&gt; FutureGenDeleg
max :: FutureGenDeleg -&gt; FutureGenDeleg -&gt; FutureGenDeleg
$cmin :: FutureGenDeleg -&gt; FutureGenDeleg -&gt; FutureGenDeleg
min :: FutureGenDeleg -&gt; FutureGenDeleg -&gt; FutureGenDeleg
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679466014"><span id="local-6989586621679466016"><span class="annot"><span class="annottext">(forall x. FutureGenDeleg -&gt; Rep FutureGenDeleg x)
-&gt; (forall x. Rep FutureGenDeleg x -&gt; FutureGenDeleg)
-&gt; Generic FutureGenDeleg
forall x. Rep FutureGenDeleg x -&gt; FutureGenDeleg
forall x. FutureGenDeleg -&gt; Rep FutureGenDeleg x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. FutureGenDeleg -&gt; Rep FutureGenDeleg x
from :: forall x. FutureGenDeleg -&gt; Rep FutureGenDeleg x
$cto :: forall x. Rep FutureGenDeleg x -&gt; FutureGenDeleg
to :: forall x. Rep FutureGenDeleg x -&gt; FutureGenDeleg
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679466020"><span id="local-6989586621679466024"><span id="local-6989586621679466030"><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/nothunks-0.2.1.1-0663c3283fb5dee9e67d41860072fab0227b6d69ef882303baddf309058f8618/share/doc/html/src/NoThunks.Class.html#NoThunks"><span class="hs-identifier hs-type">NoThunks</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#FutureGenDeleg"><span class="hs-identifier hs-type">FutureGenDeleg</span></a></span></span></span></span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679466067"><span class="annot"><span class="hs-identifier hs-type">NFData</span></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#FutureGenDeleg"><span class="hs-identifier hs-type">FutureGenDeleg</span></a></span></span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679466091"><span id="local-6989586621679466095"><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#EncCBOR"><span class="hs-identifier hs-type">EncCBOR</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#FutureGenDeleg"><span class="hs-identifier hs-type">FutureGenDeleg</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-105"></span><span>  </span><span id="local-6989586621679466106"><span class="annot"><span class="annottext">encCBOR :: FutureGenDeleg -&gt; Encoding
</span><a href="#local-6989586621679466106"><span class="hs-identifier hs-var hs-var hs-var hs-var">encCBOR</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#FutureGenDeleg"><span class="hs-identifier hs-type">FutureGenDeleg</span></a></span><span> </span><span id="local-6989586621679466108"><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679466108"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679466109"><span class="annot"><span class="annottext">KeyHash 'Genesis
</span><a href="#local-6989586621679466109"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-106"></span><span>    </span><span class="annot"><span class="annottext">Word -&gt; Encoding
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Encoder.html#encodeListLen"><span class="hs-identifier hs-var">encodeListLen</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Encoding -&gt; Encoding -&gt; Encoding
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">SlotNo -&gt; Encoding
forall a. EncCBOR a =&gt; a -&gt; Encoding
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#encCBOR"><span class="hs-identifier hs-var">encCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679466108"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Encoding -&gt; Encoding -&gt; Encoding
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">KeyHash 'Genesis -&gt; Encoding
forall a. EncCBOR a =&gt; a -&gt; Encoding
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#encCBOR"><span class="hs-identifier hs-var">encCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">KeyHash 'Genesis
</span><a href="#local-6989586621679466109"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679466114"><span id="local-6989586621679466118"><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#DecCBOR"><span class="hs-identifier hs-type">DecCBOR</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#FutureGenDeleg"><span class="hs-identifier hs-type">FutureGenDeleg</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-109"></span><span>  </span><span id="local-6989586621679466134"><span class="annot"><span class="annottext">decCBOR :: forall s. Decoder s FutureGenDeleg
</span><a href="#local-6989586621679466134"><span class="hs-identifier hs-var hs-var hs-var hs-var">decCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-110"></span><span>    </span><span class="annot"><span class="annottext">Text
-&gt; (FutureGenDeleg -&gt; Int)
-&gt; Decoder s FutureGenDeleg
-&gt; Decoder s FutureGenDeleg
forall a s. Text -&gt; (a -&gt; Int) -&gt; Decoder s a -&gt; Decoder s a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Decoder.html#decodeRecordNamed"><span class="hs-identifier hs-var">decodeRecordNamed</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;FutureGenDeleg&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; FutureGenDeleg -&gt; Int
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Decoder s FutureGenDeleg -&gt; Decoder s FutureGenDeleg)
-&gt; Decoder s FutureGenDeleg -&gt; Decoder s FutureGenDeleg
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-111"></span><span>      </span><span class="annot"><span class="annottext">SlotNo -&gt; KeyHash 'Genesis -&gt; FutureGenDeleg
</span><a href="Cardano.Ledger.State.CertState.html#FutureGenDeleg"><span class="hs-identifier hs-var">FutureGenDeleg</span></a></span><span> </span><span class="annot"><span class="annottext">(SlotNo -&gt; KeyHash 'Genesis -&gt; FutureGenDeleg)
-&gt; Decoder s SlotNo
-&gt; Decoder s (KeyHash 'Genesis -&gt; FutureGenDeleg)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Decoder s SlotNo
forall s. Decoder s SlotNo
forall a s. DecCBOR a =&gt; Decoder s a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#decCBOR"><span class="hs-identifier hs-var">decCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">Decoder s (KeyHash 'Genesis -&gt; FutureGenDeleg)
-&gt; Decoder s (KeyHash 'Genesis) -&gt; Decoder s FutureGenDeleg
forall a b. Decoder s (a -&gt; b) -&gt; Decoder s a -&gt; Decoder s b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Decoder s (KeyHash 'Genesis)
forall s. Decoder s (KeyHash 'Genesis)
forall a s. DecCBOR a =&gt; Decoder s a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#decCBOR"><span class="hs-identifier hs-var">decCBOR</span></a></span><span>
</span><span id="line-112"></span><span>
</span><span id="line-113"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679466140"><span id="local-6989586621679466144"><span id="local-6989586621679466147"><span id="local-6989586621679466150"><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#ToJSON"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#FutureGenDeleg"><span class="hs-identifier hs-type">FutureGenDeleg</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-114"></span><span>  </span><span id="local-6989586621679466165"><span class="annot"><span class="annottext">toJSON :: FutureGenDeleg -&gt; Value
</span><a href="#local-6989586621679466165"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span id="local-6989586621679466167"><span class="annot"><span class="annottext">FutureGenDeleg
</span><a href="#local-6989586621679466167"><span class="hs-identifier hs-var">fGenDeleg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-115"></span><span>    </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.Internal.html#object"><span class="hs-identifier hs-var">object</span></a></span><span>
</span><span id="line-116"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;fGenDelegSlot&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; SlotNo -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#.%3D"><span class="hs-operator hs-var">.=</span></a></span><span> </span><span class="annot"><span class="annottext">FutureGenDeleg -&gt; SlotNo
</span><a href="Cardano.Ledger.State.CertState.html#fGenDelegSlot"><span class="hs-identifier hs-var">fGenDelegSlot</span></a></span><span> </span><span class="annot"><span class="annottext">FutureGenDeleg
</span><a href="#local-6989586621679466167"><span class="hs-identifier hs-var">fGenDeleg</span></a></span><span>
</span><span id="line-117"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;fGenDelegGenKeyHash&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; KeyHash 'Genesis -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#.%3D"><span class="hs-operator hs-var">.=</span></a></span><span> </span><span class="annot"><span class="annottext">FutureGenDeleg -&gt; KeyHash 'Genesis
</span><a href="Cardano.Ledger.State.CertState.html#fGenDelegGenKeyHash"><span class="hs-identifier hs-var">fGenDelegGenKeyHash</span></a></span><span> </span><span class="annot"><span class="annottext">FutureGenDeleg
</span><a href="#local-6989586621679466167"><span class="hs-identifier hs-var">fGenDeleg</span></a></span><span>
</span><span id="line-118"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span class="hs-comment">-- | InstantaneousRewards captures the pending changes to the ledger</span><span>
</span><span id="line-121"></span><span class="hs-comment">-- state caused by MIR certificates. It consists of two mappings,</span><span>
</span><span id="line-122"></span><span class="hs-comment">-- the rewards which will be paid out from the reserves and the rewards</span><span>
</span><span id="line-123"></span><span class="hs-comment">-- which will be paid out from the treasury. It also consists of</span><span>
</span><span id="line-124"></span><span class="hs-comment">-- two coin values which represent the transfer of coins from</span><span>
</span><span id="line-125"></span><span class="hs-comment">-- one pot to the other pot.</span><span>
</span><span id="line-126"></span><span class="hs-comment">-- NOTE that the following property should always hold:</span><span>
</span><span id="line-127"></span><span class="hs-comment">--   deltaReserves + deltaTreasury = 0</span><span>
</span><span id="line-128"></span><span class="hs-keyword">data</span><span> </span><span id="InstantaneousRewards"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#InstantaneousRewards"><span class="hs-identifier hs-var">InstantaneousRewards</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="InstantaneousRewards"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#InstantaneousRewards"><span class="hs-identifier hs-var">InstantaneousRewards</span></a></span></span><span>
</span><span id="line-129"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="iRReserves"><span class="annot"><span class="annottext">InstantaneousRewards -&gt; Map (Credential 'Staking) Coin
</span><a href="Cardano.Ledger.State.CertState.html#iRReserves"><span class="hs-identifier hs-var hs-var">iRReserves</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Ledger.Keys.Internal.html#Staking"><span class="hs-identifier hs-type">Staking</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-130"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="iRTreasury"><span class="annot"><span class="annottext">InstantaneousRewards -&gt; Map (Credential 'Staking) Coin
</span><a href="Cardano.Ledger.State.CertState.html#iRTreasury"><span class="hs-identifier hs-var hs-var">iRTreasury</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Ledger.Keys.Internal.html#Staking"><span class="hs-identifier hs-type">Staking</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-131"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="deltaReserves"><span class="annot"><span class="annottext">InstantaneousRewards -&gt; DeltaCoin
</span><a href="Cardano.Ledger.State.CertState.html#deltaReserves"><span class="hs-identifier hs-var hs-var">deltaReserves</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Cardano.Ledger.Coin.html#DeltaCoin"><span class="hs-identifier hs-type">DeltaCoin</span></a></span><span>
</span><span id="line-132"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="deltaTreasury"><span class="annot"><span class="annottext">InstantaneousRewards -&gt; DeltaCoin
</span><a href="Cardano.Ledger.State.CertState.html#deltaTreasury"><span class="hs-identifier hs-var hs-var">deltaTreasury</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Cardano.Ledger.Coin.html#DeltaCoin"><span class="hs-identifier hs-type">DeltaCoin</span></a></span><span>
</span><span id="line-133"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-134"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679466174"><span id="local-6989586621679466185"><span id="local-6989586621679466189"><span class="annot"><span class="annottext">Int -&gt; InstantaneousRewards -&gt; ShowS
[InstantaneousRewards] -&gt; ShowS
InstantaneousRewards -&gt; String
(Int -&gt; InstantaneousRewards -&gt; ShowS)
-&gt; (InstantaneousRewards -&gt; String)
-&gt; ([InstantaneousRewards] -&gt; ShowS)
-&gt; Show InstantaneousRewards
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; InstantaneousRewards -&gt; ShowS
showsPrec :: Int -&gt; InstantaneousRewards -&gt; ShowS
$cshow :: InstantaneousRewards -&gt; String
show :: InstantaneousRewards -&gt; String
$cshowList :: [InstantaneousRewards] -&gt; ShowS
showList :: [InstantaneousRewards] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679466194"><span id="local-6989586621679466204"><span class="annot"><span class="annottext">InstantaneousRewards -&gt; InstantaneousRewards -&gt; Bool
(InstantaneousRewards -&gt; InstantaneousRewards -&gt; Bool)
-&gt; (InstantaneousRewards -&gt; InstantaneousRewards -&gt; Bool)
-&gt; Eq InstantaneousRewards
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: InstantaneousRewards -&gt; InstantaneousRewards -&gt; Bool
== :: InstantaneousRewards -&gt; InstantaneousRewards -&gt; Bool
$c/= :: InstantaneousRewards -&gt; InstantaneousRewards -&gt; Bool
/= :: InstantaneousRewards -&gt; InstantaneousRewards -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679466210"><span id="local-6989586621679466212"><span class="annot"><span class="annottext">(forall x. InstantaneousRewards -&gt; Rep InstantaneousRewards x)
-&gt; (forall x. Rep InstantaneousRewards x -&gt; InstantaneousRewards)
-&gt; Generic InstantaneousRewards
forall x. Rep InstantaneousRewards x -&gt; InstantaneousRewards
forall x. InstantaneousRewards -&gt; Rep InstantaneousRewards x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. InstantaneousRewards -&gt; Rep InstantaneousRewards x
from :: forall x. InstantaneousRewards -&gt; Rep InstantaneousRewards x
$cto :: forall x. Rep InstantaneousRewards x -&gt; InstantaneousRewards
to :: forall x. Rep InstantaneousRewards x -&gt; InstantaneousRewards
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-135"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679466215"><span id="local-6989586621679466221"><span id="local-6989586621679466226"><span id="local-6989586621679466231"><span id="local-6989586621679466236"><span class="annot"><span class="annottext">[InstantaneousRewards] -&gt; Value
[InstantaneousRewards] -&gt; Encoding
InstantaneousRewards -&gt; Bool
InstantaneousRewards -&gt; Value
InstantaneousRewards -&gt; Encoding
(InstantaneousRewards -&gt; Value)
-&gt; (InstantaneousRewards -&gt; Encoding)
-&gt; ([InstantaneousRewards] -&gt; Value)
-&gt; ([InstantaneousRewards] -&gt; Encoding)
-&gt; (InstantaneousRewards -&gt; Bool)
-&gt; ToJSON InstantaneousRewards
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; (a -&gt; Bool)
-&gt; ToJSON a
$ctoJSON :: InstantaneousRewards -&gt; Value
toJSON :: InstantaneousRewards -&gt; Value
$ctoEncoding :: InstantaneousRewards -&gt; Encoding
toEncoding :: InstantaneousRewards -&gt; Encoding
$ctoJSONList :: [InstantaneousRewards] -&gt; Value
toJSONList :: [InstantaneousRewards] -&gt; Value
$ctoEncodingList :: [InstantaneousRewards] -&gt; Encoding
toEncodingList :: [InstantaneousRewards] -&gt; Encoding
$comitField :: InstantaneousRewards -&gt; Bool
omitField :: InstantaneousRewards -&gt; Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#ToJSON"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><a href="Cardano.Ledger.BaseTypes.html#KeyValuePairs"><span class="hs-identifier hs-type">KeyValuePairs</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#InstantaneousRewards"><span class="hs-identifier hs-type">InstantaneousRewards</span></a></span><span>
</span><span id="line-136"></span><span>
</span><span id="line-137"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679466243"><span id="local-6989586621679466247"><span id="local-6989586621679466253"><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/nothunks-0.2.1.1-0663c3283fb5dee9e67d41860072fab0227b6d69ef882303baddf309058f8618/share/doc/html/src/NoThunks.Class.html#NoThunks"><span class="hs-identifier hs-type">NoThunks</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#InstantaneousRewards"><span class="hs-identifier hs-type">InstantaneousRewards</span></a></span></span></span></span><span>
</span><span id="line-138"></span><span>
</span><span id="line-139"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679466292"><span class="annot"><span class="hs-identifier hs-type">NFData</span></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#InstantaneousRewards"><span class="hs-identifier hs-type">InstantaneousRewards</span></a></span></span><span>
</span><span id="line-140"></span><span>
</span><span id="line-141"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Cardano.Ledger.BaseTypes.html#ToKeyValuePairs"><span class="hs-identifier hs-type">ToKeyValuePairs</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#InstantaneousRewards"><span class="hs-identifier hs-type">InstantaneousRewards</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-142"></span><span>  </span><span id="local-6989586621679466337"><span class="annot"><span class="annottext">toKeyValuePairs :: forall e kv. KeyValue e kv =&gt; InstantaneousRewards -&gt; [kv]
</span><a href="#local-6989586621679466337"><span class="hs-identifier hs-var hs-var hs-var hs-var">toKeyValuePairs</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#InstantaneousRewards"><span class="hs-identifier hs-type">InstantaneousRewards</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621679466339"><span id="local-6989586621679466340"><span id="local-6989586621679466341"><span id="local-6989586621679466342"><span class="annot"><span class="annottext">Map (Credential 'Staking) Coin
DeltaCoin
iRReserves :: InstantaneousRewards -&gt; Map (Credential 'Staking) Coin
iRTreasury :: InstantaneousRewards -&gt; Map (Credential 'Staking) Coin
deltaReserves :: InstantaneousRewards -&gt; DeltaCoin
deltaTreasury :: InstantaneousRewards -&gt; DeltaCoin
iRReserves :: Map (Credential 'Staking) Coin
iRTreasury :: Map (Credential 'Staking) Coin
deltaReserves :: DeltaCoin
deltaTreasury :: DeltaCoin
</span><a href="Cardano.Ledger.State.CertState.html#iRReserves"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-143"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;iRReserves&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Map (Credential 'Staking) Coin -&gt; kv
forall v. ToJSON v =&gt; Key -&gt; v -&gt; kv
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#.%3D"><span class="hs-operator hs-var">.=</span></a></span><span> </span><span class="annot"><span class="annottext">Map (Credential 'Staking) Coin
</span><a href="#local-6989586621679466339"><span class="hs-identifier hs-var">iRReserves</span></a></span><span>
</span><span id="line-144"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;iRTreasury&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Map (Credential 'Staking) Coin -&gt; kv
forall v. ToJSON v =&gt; Key -&gt; v -&gt; kv
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#.%3D"><span class="hs-operator hs-var">.=</span></a></span><span> </span><span class="annot"><span class="annottext">Map (Credential 'Staking) Coin
</span><a href="#local-6989586621679466340"><span class="hs-identifier hs-var">iRTreasury</span></a></span><span>
</span><span id="line-145"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;deltaReserves&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; DeltaCoin -&gt; kv
forall v. ToJSON v =&gt; Key -&gt; v -&gt; kv
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#.%3D"><span class="hs-operator hs-var">.=</span></a></span><span> </span><span class="annot"><span class="annottext">DeltaCoin
</span><a href="#local-6989586621679466341"><span class="hs-identifier hs-var">deltaReserves</span></a></span><span>
</span><span id="line-146"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;deltaTreasury&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; DeltaCoin -&gt; kv
forall v. ToJSON v =&gt; Key -&gt; v -&gt; kv
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#.%3D"><span class="hs-operator hs-var">.=</span></a></span><span> </span><span class="annot"><span class="annottext">DeltaCoin
</span><a href="#local-6989586621679466342"><span class="hs-identifier hs-var">deltaTreasury</span></a></span><span>
</span><span id="line-147"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-148"></span><span>
</span><span id="line-149"></span><span class="hs-comment">-- | The state used by the DELEG rule, which roughly tracks stake</span><span>
</span><span id="line-150"></span><span class="hs-comment">-- delegation and some governance features.</span><span>
</span><span id="line-151"></span><span class="hs-keyword">data</span><span> </span><span id="DState"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#DState"><span class="hs-identifier hs-var">DState</span></a></span></span><span> </span><span id="local-6989586621679465414"><span class="annot"><a href="#local-6989586621679465414"><span class="hs-identifier hs-type">era</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="DState"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#DState"><span class="hs-identifier hs-var">DState</span></a></span></span><span>
</span><span id="line-152"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="dsAccounts"><span class="annot"><span class="annottext">forall era. DState era -&gt; Accounts era
</span><a href="Cardano.Ledger.State.CertState.html#dsAccounts"><span class="hs-identifier hs-var hs-var">dsAccounts</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.Account.html#Accounts"><span class="hs-identifier hs-type">Accounts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465414"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-153"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Keep track of the account state (eg. balance, deposit, stake-pool delegation, etc.) for all registered stake credentials.</span></span><span>
</span><span id="line-154"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="dsFutureGenDelegs"><span class="annot"><span class="annottext">forall era. DState era -&gt; Map FutureGenDeleg GenDelegPair
</span><a href="Cardano.Ledger.State.CertState.html#dsFutureGenDelegs"><span class="hs-identifier hs-var hs-var">dsFutureGenDelegs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#FutureGenDeleg"><span class="hs-identifier hs-type">FutureGenDeleg</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Hashes.html#GenDelegPair"><span class="hs-identifier hs-type">GenDelegPair</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-155"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Future genesis key delegations</span></span><span>
</span><span id="line-156"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="dsGenDelegs"><span class="annot"><span class="annottext">forall era. DState era -&gt; GenDelegs
</span><a href="Cardano.Ledger.State.CertState.html#dsGenDelegs"><span class="hs-identifier hs-var hs-var">dsGenDelegs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Cardano.Ledger.Hashes.html#GenDelegs"><span class="hs-identifier hs-type">GenDelegs</span></a></span><span>
</span><span id="line-157"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Genesis key delegations</span></span><span>
</span><span id="line-158"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="dsIRewards"><span class="annot"><span class="annottext">forall era. DState era -&gt; InstantaneousRewards
</span><a href="Cardano.Ledger.State.CertState.html#dsIRewards"><span class="hs-identifier hs-var hs-var">dsIRewards</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#InstantaneousRewards"><span class="hs-identifier hs-type">InstantaneousRewards</span></a></span><span>
</span><span id="line-159"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Instantaneous Rewards</span></span><span>
</span><span id="line-160"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-161"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679466349"><span id="local-6989586621679466351"><span class="annot"><span class="annottext">(forall x. DState era -&gt; Rep (DState era) x)
-&gt; (forall x. Rep (DState era) x -&gt; DState era)
-&gt; Generic (DState era)
forall x. Rep (DState era) x -&gt; DState era
forall x. DState era -&gt; Rep (DState era) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall era x. Rep (DState era) x -&gt; DState era
forall era x. DState era -&gt; Rep (DState era) x
$cfrom :: forall era x. DState era -&gt; Rep (DState era) x
from :: forall x. DState era -&gt; Rep (DState era) x
$cto :: forall era x. Rep (DState era) x -&gt; DState era
to :: forall x. Rep (DState era) x -&gt; DState era
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-162"></span><span>
</span><span id="line-163"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679466354"><span class="annot"><a href="Cardano.Ledger.State.Account.html#CanGetAccounts"><span class="hs-identifier hs-type">CanGetAccounts</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#DState"><span class="hs-identifier hs-type">DState</span></a></span></span><span>
</span><span id="line-164"></span><span>
</span><span id="line-165"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Cardano.Ledger.State.Account.html#CanSetAccounts"><span class="hs-identifier hs-type">CanSetAccounts</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#DState"><span class="hs-identifier hs-type">DState</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-166"></span><span>  </span><span id="local-6989586621679466366"><span class="annot"><span class="annottext">accountsL :: forall era. Lens' (DState era) (Accounts era)
</span><a href="#local-6989586621679466366"><span class="hs-identifier hs-var hs-var hs-var hs-var">accountsL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-167"></span><span>    </span><span class="annot"><span class="annottext">(DState era -&gt; Accounts era)
-&gt; (DState era -&gt; Accounts era -&gt; DState era)
-&gt; Lens (DState era) (DState era) (Accounts era) (Accounts era)
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#lens"><span class="hs-identifier hs-var">lens</span></a></span><span> </span><span class="annot"><span class="annottext">DState era -&gt; Accounts era
forall era. DState era -&gt; Accounts era
</span><a href="Cardano.Ledger.State.CertState.html#dsAccounts"><span class="hs-identifier hs-var">dsAccounts</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679466369"><span class="annot"><span class="annottext">DState era
</span><a href="#local-6989586621679466369"><span class="hs-identifier hs-var">dState</span></a></span></span><span> </span><span id="local-6989586621679466370"><span class="annot"><span class="annottext">Accounts era
</span><a href="#local-6989586621679466370"><span class="hs-identifier hs-var">accounts</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DState era
</span><a href="#local-6989586621679466369"><span class="hs-identifier hs-var">dState</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#dsAccounts"><span class="hs-identifier hs-var">dsAccounts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679466370"><span class="hs-identifier hs-type">accounts</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-168"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.State.Account.html#accountsL"><span class="hs-pragma hs-type">accountsL</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span id="local-6989586621679465441"><span id="local-6989586621679466373"><span id="local-6989586621679466382"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.Account.html#Accounts"><span class="hs-identifier hs-type">Accounts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465441"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#DState"><span class="hs-identifier hs-type">DState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465441"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-171"></span><span>
</span><span id="line-172"></span><span id="local-6989586621679465443"><span id="local-6989586621679466388"><span id="local-6989586621679466398"><span id="local-6989586621679466402"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.Account.html#Accounts"><span class="hs-identifier hs-type">Accounts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465443"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#DState"><span class="hs-identifier hs-type">DState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465443"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-173"></span><span>
</span><span id="line-174"></span><span id="local-6989586621679466407"><span id="local-6989586621679466412"><span id="local-6989586621679466417"><span id="local-6989586621679466422"><span id="local-6989586621679466427"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span>
</span><span id="line-175"></span><span>  </span><span id="local-6989586621679465446"><span class="annot"><a href="Cardano.Ledger.BaseTypes.html#KeyValuePairs"><span class="hs-identifier hs-type">KeyValuePairs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#DState"><span class="hs-identifier hs-type">DState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465446"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-176"></span><span>  </span><span class="hs-keyword">instance</span><span>
</span><span id="line-177"></span><span>    </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#ToJSON"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.Account.html#Accounts"><span class="hs-identifier hs-type">Accounts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465446"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#ToJSON"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#DState"><span class="hs-identifier hs-type">DState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465446"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679465448"><span id="local-6989586621679466435"><span id="local-6989586621679466439"><span id="local-6989586621679466445"><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/nothunks-0.2.1.1-0663c3283fb5dee9e67d41860072fab0227b6d69ef882303baddf309058f8618/share/doc/html/src/NoThunks.Class.html#NoThunks"><span class="hs-identifier hs-type">NoThunks</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.Account.html#Accounts"><span class="hs-identifier hs-type">Accounts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465448"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/nothunks-0.2.1.1-0663c3283fb5dee9e67d41860072fab0227b6d69ef882303baddf309058f8618/share/doc/html/src/NoThunks.Class.html#NoThunks"><span class="hs-identifier hs-type">NoThunks</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#DState"><span class="hs-identifier hs-type">DState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465448"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-180"></span><span>
</span><span id="line-181"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679465450"><span id="local-6989586621679466488"><span class="annot"><span class="hs-identifier hs-type">NFData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.Account.html#Accounts"><span class="hs-identifier hs-type">Accounts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465450"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NFData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#DState"><span class="hs-identifier hs-type">DState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465450"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-182"></span><span>
</span><span id="line-183"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679465454"><span id="local-6989586621679466521"><span id="local-6989586621679466525"><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#Era"><span class="hs-identifier hs-type">Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465454"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#EncCBOR"><span class="hs-identifier hs-type">EncCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.Account.html#Accounts"><span class="hs-identifier hs-type">Accounts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465454"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#EncCBOR"><span class="hs-identifier hs-type">EncCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#DState"><span class="hs-identifier hs-type">DState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465454"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-184"></span><span>  </span><span id="local-6989586621679466543"><span class="annot"><span class="annottext">encCBOR :: DState era -&gt; Encoding
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#encCBOR"><span class="hs-identifier hs-var hs-var hs-var hs-var">encCBOR</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#DState"><span class="hs-identifier hs-type">DState</span></a></span><span> </span><span id="local-6989586621679466544"><span class="annot"><span class="annottext">Accounts era
</span><a href="#local-6989586621679466544"><span class="hs-identifier hs-var">unified</span></a></span></span><span> </span><span id="local-6989586621679466545"><span class="annot"><span class="annottext">Map FutureGenDeleg GenDelegPair
</span><a href="#local-6989586621679466545"><span class="hs-identifier hs-var">fgs</span></a></span></span><span> </span><span id="local-6989586621679466546"><span class="annot"><span class="annottext">GenDelegs
</span><a href="#local-6989586621679466546"><span class="hs-identifier hs-var">gs</span></a></span></span><span> </span><span id="local-6989586621679466547"><span class="annot"><span class="annottext">InstantaneousRewards
</span><a href="#local-6989586621679466547"><span class="hs-identifier hs-var">ir</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-185"></span><span>    </span><span class="annot"><span class="annottext">Word -&gt; Encoding
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Encoder.html#encodeListLen"><span class="hs-identifier hs-var">encodeListLen</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">4</span></span><span>
</span><span id="line-186"></span><span>      </span><span class="annot"><span class="annottext">Encoding -&gt; Encoding -&gt; Encoding
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Accounts era -&gt; Encoding
forall a. EncCBOR a =&gt; a -&gt; Encoding
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#encCBOR"><span class="hs-identifier hs-var">encCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">Accounts era
</span><a href="#local-6989586621679466544"><span class="hs-identifier hs-var">unified</span></a></span><span>
</span><span id="line-187"></span><span>      </span><span class="annot"><span class="annottext">Encoding -&gt; Encoding -&gt; Encoding
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Map FutureGenDeleg GenDelegPair -&gt; Encoding
forall a. EncCBOR a =&gt; a -&gt; Encoding
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#encCBOR"><span class="hs-identifier hs-var">encCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">Map FutureGenDeleg GenDelegPair
</span><a href="#local-6989586621679466545"><span class="hs-identifier hs-var">fgs</span></a></span><span>
</span><span id="line-188"></span><span>      </span><span class="annot"><span class="annottext">Encoding -&gt; Encoding -&gt; Encoding
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">GenDelegs -&gt; Encoding
forall a. EncCBOR a =&gt; a -&gt; Encoding
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#encCBOR"><span class="hs-identifier hs-var">encCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">GenDelegs
</span><a href="#local-6989586621679466546"><span class="hs-identifier hs-var">gs</span></a></span><span>
</span><span id="line-189"></span><span>      </span><span class="annot"><span class="annottext">Encoding -&gt; Encoding -&gt; Encoding
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">InstantaneousRewards -&gt; Encoding
forall a. EncCBOR a =&gt; a -&gt; Encoding
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#encCBOR"><span class="hs-identifier hs-var">encCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">InstantaneousRewards
</span><a href="#local-6989586621679466547"><span class="hs-identifier hs-var">ir</span></a></span><span>
</span><span id="line-190"></span><span>
</span><span id="line-191"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679465473"><span id="local-6989586621679466553"><span id="local-6989586621679466557"><span class="annot"><a href="Cardano.Ledger.State.Account.html#EraAccounts"><span class="hs-identifier hs-type">EraAccounts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465473"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#DecShareCBOR"><span class="hs-identifier hs-type">DecShareCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#DState"><span class="hs-identifier hs-type">DState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465473"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-192"></span><span>  </span><span class="hs-keyword">type</span><span>
</span><span id="line-193"></span><span>    </span><span id="Share"><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#Share"><span class="hs-identifier hs-var">Share</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#DState"><span class="hs-identifier hs-type">DState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465473"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-194"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#Interns"><span class="hs-identifier hs-type">Interns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Ledger.Keys.Internal.html#Staking"><span class="hs-identifier hs-type">Staking</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#Interns"><span class="hs-identifier hs-type">Interns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Hashes.html#KeyHash"><span class="hs-identifier hs-type">KeyHash</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Ledger.Keys.Internal.html#StakePool"><span class="hs-identifier hs-type">StakePool</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#Interns"><span class="hs-identifier hs-type">Interns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Ledger.Keys.Internal.html#DRepRole"><span class="hs-identifier hs-type">DRepRole</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-195"></span><span>  </span><span id="local-6989586621679466603"><span class="annot"><span class="annottext">decSharePlusCBOR :: forall s. StateT (Share (DState era)) (Decoder s) (DState era)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#decSharePlusCBOR"><span class="hs-identifier hs-var hs-var hs-var hs-var">decSharePlusCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-196"></span><span>    </span><span class="annot"><span class="annottext">Text
-&gt; (DState era -&gt; Int)
-&gt; StateT (Share (DState era)) (Decoder s) (DState era)
-&gt; StateT (Share (DState era)) (Decoder s) (DState era)
forall (m :: (* -&gt; *) -&gt; * -&gt; *) s a.
(MonadTrans m, Monad (m (Decoder s))) =&gt;
Text -&gt; (a -&gt; Int) -&gt; m (Decoder s) a -&gt; m (Decoder s) a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Decoder.html#decodeRecordNamedT"><span class="hs-identifier hs-var">decodeRecordNamedT</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;DState&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; DState era -&gt; Int
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(StateT (Share (DState era)) (Decoder s) (DState era)
 -&gt; StateT (Share (DState era)) (Decoder s) (DState era))
-&gt; StateT (Share (DState era)) (Decoder s) (DState era)
-&gt; StateT (Share (DState era)) (Decoder s) (DState era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-197"></span><span>      </span><span id="local-6989586621679466604"><span class="annot"><span class="annottext">Accounts era
</span><a href="#local-6989586621679466604"><span class="hs-identifier hs-var">unified</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">StateT
  (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
   Interns (Credential 'DRepRole))
  (Decoder s)
  (Accounts era)
StateT (Share (Accounts era)) (Decoder s) (Accounts era)
forall s. StateT (Share (Accounts era)) (Decoder s) (Accounts era)
forall a s. DecShareCBOR a =&gt; StateT (Share a) (Decoder s) a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#decSharePlusCBOR"><span class="hs-identifier hs-var">decSharePlusCBOR</span></a></span><span>
</span><span id="line-198"></span><span>      </span><span id="local-6989586621679466605"><span class="annot"><span class="annottext">Map FutureGenDeleg GenDelegPair
</span><a href="#local-6989586621679466605"><span class="hs-identifier hs-var">fgs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Decoder s (Map FutureGenDeleg GenDelegPair)
-&gt; StateT
     (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
      Interns (Credential 'DRepRole))
     (Decoder s)
     (Map FutureGenDeleg GenDelegPair)
forall (m :: * -&gt; *) a.
Monad m =&gt;
m a
-&gt; StateT
     (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
      Interns (Credential 'DRepRole))
     m
     a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">Decoder s (Map FutureGenDeleg GenDelegPair)
forall s. Decoder s (Map FutureGenDeleg GenDelegPair)
forall a s. DecCBOR a =&gt; Decoder s a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#decCBOR"><span class="hs-identifier hs-var">decCBOR</span></a></span><span>
</span><span id="line-199"></span><span>      </span><span id="local-6989586621679466607"><span class="annot"><span class="annottext">GenDelegs
</span><a href="#local-6989586621679466607"><span class="hs-identifier hs-var">gs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Decoder s GenDelegs
-&gt; StateT
     (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
      Interns (Credential 'DRepRole))
     (Decoder s)
     GenDelegs
forall (m :: * -&gt; *) a.
Monad m =&gt;
m a
-&gt; StateT
     (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
      Interns (Credential 'DRepRole))
     m
     a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">Decoder s GenDelegs
forall s. Decoder s GenDelegs
forall a s. DecCBOR a =&gt; Decoder s a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#decCBOR"><span class="hs-identifier hs-var">decCBOR</span></a></span><span>
</span><span id="line-200"></span><span>      </span><span id="local-6989586621679466608"><span class="annot"><span class="annottext">InstantaneousRewards
</span><a href="#local-6989586621679466608"><span class="hs-identifier hs-var">ir</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Lens'
  (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
   Interns (Credential 'DRepRole))
  (Share InstantaneousRewards)
-&gt; StateT
     (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
      Interns (Credential 'DRepRole))
     (Decoder s)
     InstantaneousRewards
forall b bs s.
DecShareCBOR b =&gt;
Lens' bs (Share b) -&gt; StateT bs (Decoder s) b
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#decSharePlusLensCBOR"><span class="hs-identifier hs-var">decSharePlusLensCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">(Share InstantaneousRewards -&gt; f (Share InstantaneousRewards))
-&gt; (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
    Interns (Credential 'DRepRole))
-&gt; f (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
      Interns (Credential 'DRepRole))
(Interns (Credential 'Staking)
 -&gt; f (Interns (Credential 'Staking)))
-&gt; (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
    Interns (Credential 'DRepRole))
-&gt; f (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
      Interns (Credential 'DRepRole))
forall s t a b. Field1 s t a b =&gt; Lens s t a b
Lens'
  (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
   Interns (Credential 'DRepRole))
  (Share InstantaneousRewards)
Lens
  (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
   Interns (Credential 'DRepRole))
  (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
   Interns (Credential 'DRepRole))
  (Interns (Credential 'Staking))
  (Interns (Credential 'Staking))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Internal.html#_1"><span class="hs-identifier hs-var">_1</span></a></span><span>
</span><span id="line-201"></span><span>      </span><span class="annot"><span class="annottext">DState era
-&gt; StateT
     (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
      Interns (Credential 'DRepRole))
     (Decoder s)
     (DState era)
forall a.
a
-&gt; StateT
     (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
      Interns (Credential 'DRepRole))
     (Decoder s)
     a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(DState era
 -&gt; StateT
      (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
       Interns (Credential 'DRepRole))
      (Decoder s)
      (DState era))
-&gt; DState era
-&gt; StateT
     (Interns (Credential 'Staking), Interns (KeyHash 'StakePool),
      Interns (Credential 'DRepRole))
     (Decoder s)
     (DState era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Accounts era
-&gt; Map FutureGenDeleg GenDelegPair
-&gt; GenDelegs
-&gt; InstantaneousRewards
-&gt; DState era
forall era.
Accounts era
-&gt; Map FutureGenDeleg GenDelegPair
-&gt; GenDelegs
-&gt; InstantaneousRewards
-&gt; DState era
</span><a href="Cardano.Ledger.State.CertState.html#DState"><span class="hs-identifier hs-var">DState</span></a></span><span> </span><span class="annot"><span class="annottext">Accounts era
</span><a href="#local-6989586621679466604"><span class="hs-identifier hs-var">unified</span></a></span><span> </span><span class="annot"><span class="annottext">Map FutureGenDeleg GenDelegPair
</span><a href="#local-6989586621679466605"><span class="hs-identifier hs-var">fgs</span></a></span><span> </span><span class="annot"><span class="annottext">GenDelegs
</span><a href="#local-6989586621679466607"><span class="hs-identifier hs-var">gs</span></a></span><span> </span><span class="annot"><span class="annottext">InstantaneousRewards
</span><a href="#local-6989586621679466608"><span class="hs-identifier hs-var">ir</span></a></span><span>
</span><span id="line-202"></span><span>
</span><span id="line-203"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679465445"><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#ToJSON"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.Account.html#Accounts"><span class="hs-identifier hs-type">Accounts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465445"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Ledger.BaseTypes.html#ToKeyValuePairs"><span class="hs-identifier hs-type">ToKeyValuePairs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#DState"><span class="hs-identifier hs-type">DState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465445"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-204"></span><span>  </span><span id="local-6989586621679466636"><span class="annot"><span class="annottext">toKeyValuePairs :: forall e kv. KeyValue e kv =&gt; DState era -&gt; [kv]
</span><a href="Cardano.Ledger.BaseTypes.html#toKeyValuePairs"><span class="hs-identifier hs-var hs-var hs-var hs-var">toKeyValuePairs</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#DState"><span class="hs-identifier hs-type">DState</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621679466637"><span id="local-6989586621679466638"><span id="local-6989586621679466639"><span id="local-6989586621679466640"><span class="annot"><span class="annottext">Map FutureGenDeleg GenDelegPair
GenDelegs
Accounts era
InstantaneousRewards
dsAccounts :: forall era. DState era -&gt; Accounts era
dsFutureGenDelegs :: forall era. DState era -&gt; Map FutureGenDeleg GenDelegPair
dsGenDelegs :: forall era. DState era -&gt; GenDelegs
dsIRewards :: forall era. DState era -&gt; InstantaneousRewards
dsAccounts :: Accounts era
dsFutureGenDelegs :: Map FutureGenDeleg GenDelegPair
dsGenDelegs :: GenDelegs
dsIRewards :: InstantaneousRewards
</span><a href="Cardano.Ledger.State.CertState.html#dsAccounts"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-205"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;accounts&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Accounts era -&gt; kv
forall v. ToJSON v =&gt; Key -&gt; v -&gt; kv
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#.%3D"><span class="hs-operator hs-var">.=</span></a></span><span> </span><span class="annot"><span class="annottext">Accounts era
</span><a href="#local-6989586621679466637"><span class="hs-identifier hs-var">dsAccounts</span></a></span><span>
</span><span id="line-206"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;fGenDelegs&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; [(FutureGenDeleg, GenDelegPair)] -&gt; kv
forall v. ToJSON v =&gt; Key -&gt; v -&gt; kv
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#.%3D"><span class="hs-operator hs-var">.=</span></a></span><span> </span><span class="annot"><span class="annottext">Map FutureGenDeleg GenDelegPair -&gt; [(FutureGenDeleg, GenDelegPair)]
forall k a. Map k a -&gt; [(k, a)]
</span><span class="hs-identifier hs-var">Map.toList</span></span><span> </span><span class="annot"><span class="annottext">Map FutureGenDeleg GenDelegPair
</span><a href="#local-6989586621679466638"><span class="hs-identifier hs-var">dsFutureGenDelegs</span></a></span><span>
</span><span id="line-207"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;genDelegs&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; GenDelegs -&gt; kv
forall v. ToJSON v =&gt; Key -&gt; v -&gt; kv
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#.%3D"><span class="hs-operator hs-var">.=</span></a></span><span> </span><span class="annot"><span class="annottext">GenDelegs
</span><a href="#local-6989586621679466639"><span class="hs-identifier hs-var">dsGenDelegs</span></a></span><span>
</span><span id="line-208"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;irwd&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; InstantaneousRewards -&gt; kv
forall v. ToJSON v =&gt; Key -&gt; v -&gt; kv
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#.%3D"><span class="hs-operator hs-var">.=</span></a></span><span> </span><span class="annot"><span class="annottext">InstantaneousRewards
</span><a href="#local-6989586621679466640"><span class="hs-identifier hs-var">dsIRewards</span></a></span><span>
</span><span id="line-209"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-210"></span><span>
</span><span id="line-211"></span><span class="annot"><span class="hs-comment">-- | Function that looks up the deposit for currently delegated staking credential</span></span><span>
</span><span id="line-212"></span><span id="local-6989586621679465512"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#lookupDepositDState"><span class="hs-identifier hs-type">lookupDepositDState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.State.Account.html#EraAccounts"><span class="hs-identifier hs-type">EraAccounts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465512"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#DState"><span class="hs-identifier hs-type">DState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465512"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Credential.html#StakeCredential"><span class="hs-identifier hs-type">StakeCredential</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-213"></span><span id="lookupDepositDState"><span class="annot"><span class="annottext">lookupDepositDState :: forall era.
EraAccounts era =&gt;
DState era -&gt; Credential 'Staking -&gt; Maybe Coin
</span><a href="Cardano.Ledger.State.CertState.html#lookupDepositDState"><span class="hs-identifier hs-var hs-var">lookupDepositDState</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#DState"><span class="hs-identifier hs-type">DState</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621679466654"><span class="annot"><span class="annottext">Accounts era
dsAccounts :: forall era. DState era -&gt; Accounts era
dsAccounts :: Accounts era
</span><a href="Cardano.Ledger.State.CertState.html#dsAccounts"><span class="hs-identifier hs-var hs-var">dsAccounts</span></a></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621679466655"><span class="annot"><span class="annottext">Credential 'Staking
</span><a href="#local-6989586621679466655"><span class="hs-identifier hs-var">cred</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-214"></span><span>  </span><span id="local-6989586621679466656"><span class="annot"><span class="annottext">AccountState era
</span><a href="#local-6989586621679466656"><span class="hs-identifier hs-var">accountState</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Credential 'Staking
-&gt; Map (Credential 'Staking) (AccountState era)
-&gt; Maybe (AccountState era)
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Map.lookup</span></span><span> </span><span class="annot"><span class="annottext">Credential 'Staking
</span><a href="#local-6989586621679466655"><span class="hs-identifier hs-var">cred</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Accounts era
</span><a href="#local-6989586621679466654"><span class="hs-identifier hs-var">dsAccounts</span></a></span><span> </span><span class="annot"><span class="annottext">Accounts era
-&gt; Getting
     (Map (Credential 'Staking) (AccountState era))
     (Accounts era)
     (Map (Credential 'Staking) (AccountState era))
-&gt; Map (Credential 'Staking) (AccountState era)
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting
  (Map (Credential 'Staking) (AccountState era))
  (Accounts era)
  (Map (Credential 'Staking) (AccountState era))
forall era.
EraAccounts era =&gt;
Lens' (Accounts era) (Map (Credential 'Staking) (AccountState era))
Lens' (Accounts era) (Map (Credential 'Staking) (AccountState era))
</span><a href="Cardano.Ledger.State.Account.html#accountsMapL"><span class="hs-identifier hs-var">accountsMapL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-215"></span><span>  </span><span class="annot"><span class="annottext">Coin -&gt; Maybe Coin
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Coin -&gt; Maybe Coin) -&gt; Coin -&gt; Maybe Coin
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">CompactForm Coin -&gt; Coin
forall a. Compactible a =&gt; CompactForm a -&gt; a
</span><a href="Cardano.Ledger.Compactible.html#fromCompact"><span class="hs-identifier hs-var">fromCompact</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AccountState era
</span><a href="#local-6989586621679466656"><span class="hs-identifier hs-var">accountState</span></a></span><span> </span><span class="annot"><span class="annottext">AccountState era
-&gt; Getting (CompactForm Coin) (AccountState era) (CompactForm Coin)
-&gt; CompactForm Coin
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (CompactForm Coin) (AccountState era) (CompactForm Coin)
forall era.
EraAccounts era =&gt;
Lens' (AccountState era) (CompactForm Coin)
Lens' (AccountState era) (CompactForm Coin)
</span><a href="Cardano.Ledger.State.Account.html#depositAccountStateL"><span class="hs-identifier hs-var">depositAccountStateL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-216"></span><span>
</span><span id="line-217"></span><span class="annot"><span class="hs-comment">-- | Function that looks up curret reward for the delegated staking credential.</span></span><span>
</span><span id="line-218"></span><span id="local-6989586621679466662"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#lookupRewardDState"><span class="hs-identifier hs-type">lookupRewardDState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.State.Account.html#EraAccounts"><span class="hs-identifier hs-type">EraAccounts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679466662"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#DState"><span class="hs-identifier hs-type">DState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679466662"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Credential.html#StakeCredential"><span class="hs-identifier hs-type">StakeCredential</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-219"></span><span id="lookupRewardDState"><span class="annot"><span class="annottext">lookupRewardDState :: forall era.
EraAccounts era =&gt;
DState era -&gt; Credential 'Staking -&gt; Maybe Coin
</span><a href="Cardano.Ledger.State.CertState.html#lookupRewardDState"><span class="hs-identifier hs-var hs-var">lookupRewardDState</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#DState"><span class="hs-identifier hs-type">DState</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621679466671"><span class="annot"><span class="annottext">Accounts era
dsAccounts :: forall era. DState era -&gt; Accounts era
dsAccounts :: Accounts era
</span><a href="Cardano.Ledger.State.CertState.html#dsAccounts"><span class="hs-identifier hs-var hs-var">dsAccounts</span></a></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621679466672"><span class="annot"><span class="annottext">Credential 'Staking
</span><a href="#local-6989586621679466672"><span class="hs-identifier hs-var">cred</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-220"></span><span>  </span><span id="local-6989586621679466673"><span class="annot"><span class="annottext">AccountState era
</span><a href="#local-6989586621679466673"><span class="hs-identifier hs-var">accountState</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Credential 'Staking
-&gt; Map (Credential 'Staking) (AccountState era)
-&gt; Maybe (AccountState era)
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Map.lookup</span></span><span> </span><span class="annot"><span class="annottext">Credential 'Staking
</span><a href="#local-6989586621679466672"><span class="hs-identifier hs-var">cred</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Accounts era
</span><a href="#local-6989586621679466671"><span class="hs-identifier hs-var">dsAccounts</span></a></span><span> </span><span class="annot"><span class="annottext">Accounts era
-&gt; Getting
     (Map (Credential 'Staking) (AccountState era))
     (Accounts era)
     (Map (Credential 'Staking) (AccountState era))
-&gt; Map (Credential 'Staking) (AccountState era)
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting
  (Map (Credential 'Staking) (AccountState era))
  (Accounts era)
  (Map (Credential 'Staking) (AccountState era))
forall era.
EraAccounts era =&gt;
Lens' (Accounts era) (Map (Credential 'Staking) (AccountState era))
Lens' (Accounts era) (Map (Credential 'Staking) (AccountState era))
</span><a href="Cardano.Ledger.State.Account.html#accountsMapL"><span class="hs-identifier hs-var">accountsMapL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-221"></span><span>  </span><span class="annot"><span class="annottext">Coin -&gt; Maybe Coin
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Coin -&gt; Maybe Coin) -&gt; Coin -&gt; Maybe Coin
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">CompactForm Coin -&gt; Coin
forall a. Compactible a =&gt; CompactForm a -&gt; a
</span><a href="Cardano.Ledger.Compactible.html#fromCompact"><span class="hs-identifier hs-var">fromCompact</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AccountState era
</span><a href="#local-6989586621679466673"><span class="hs-identifier hs-var">accountState</span></a></span><span> </span><span class="annot"><span class="annottext">AccountState era
-&gt; Getting (CompactForm Coin) (AccountState era) (CompactForm Coin)
-&gt; CompactForm Coin
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (CompactForm Coin) (AccountState era) (CompactForm Coin)
forall era.
EraAccounts era =&gt;
Lens' (AccountState era) (CompactForm Coin)
Lens' (AccountState era) (CompactForm Coin)
</span><a href="Cardano.Ledger.State.Account.html#balanceAccountStateL"><span class="hs-identifier hs-var">balanceAccountStateL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span>
</span><span id="line-223"></span><span class="annot"><span class="hs-comment">-- | The state used by the POOL rule, which tracks stake pool information.</span></span><span>
</span><span id="line-224"></span><span class="hs-keyword">data</span><span> </span><span id="PState"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#PState"><span class="hs-identifier hs-var">PState</span></a></span></span><span> </span><span id="local-6989586621679465527"><span class="annot"><a href="#local-6989586621679465527"><span class="hs-identifier hs-type">era</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="PState"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#PState"><span class="hs-identifier hs-var">PState</span></a></span></span><span>
</span><span id="line-225"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="psVRFKeyHashes"><span class="annot"><span class="annottext">forall era.
PState era -&gt; Map (VRFVerKeyHash 'StakePoolVRF) (NonZero Word64)
</span><a href="Cardano.Ledger.State.CertState.html#psVRFKeyHashes"><span class="hs-identifier hs-var hs-var">psVRFKeyHashes</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Hashes.html#VRFVerKeyHash"><span class="hs-identifier hs-type">VRFVerKeyHash</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Ledger.Hashes.html#StakePoolVRF"><span class="hs-identifier hs-type">StakePoolVRF</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.BaseTypes.NonZero.html#NonZero"><span class="hs-identifier hs-type">NonZero</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-226"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ VRF key hashes that have been registered via PoolParams</span></span><span>
</span><span id="line-227"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="psStakePools"><span class="annot"><span class="annottext">forall era. PState era -&gt; Map (KeyHash 'StakePool) StakePoolState
</span><a href="Cardano.Ledger.State.CertState.html#psStakePools"><span class="hs-identifier hs-var hs-var">psStakePools</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Hashes.html#KeyHash"><span class="hs-identifier hs-type">KeyHash</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Ledger.Keys.Internal.html#StakePool"><span class="hs-identifier hs-type">StakePool</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Cardano.Ledger.State.StakePool.html#StakePoolState"><span class="hs-identifier hs-type">StakePoolState</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-228"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ The state of current stake pools.</span></span><span>
</span><span id="line-229"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="psFutureStakePools"><span class="annot"><span class="annottext">forall era. PState era -&gt; Map (KeyHash 'StakePool) StakePoolState
</span><a href="Cardano.Ledger.State.CertState.html#psFutureStakePools"><span class="hs-identifier hs-var hs-var">psFutureStakePools</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Hashes.html#KeyHash"><span class="hs-identifier hs-type">KeyHash</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Ledger.Keys.Internal.html#StakePool"><span class="hs-identifier hs-type">StakePool</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Cardano.Ledger.State.StakePool.html#StakePoolState"><span class="hs-identifier hs-type">StakePoolState</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-230"></span><span>  </span><span class="hs-comment">-- ^ The state of future stake pools.</span><span>
</span><span id="line-231"></span><span>  </span><span class="hs-comment">-- Changes to existing stake pool parameters are staged in order</span><span>
</span><span id="line-232"></span><span>  </span><span class="hs-comment">-- to give delegators time to react to changes.</span><span>
</span><span id="line-233"></span><span>  </span><span class="hs-comment">-- See section 11.2, &quot;Example Illustration of the Reward Cycle&quot;,</span><span>
</span><span id="line-234"></span><span>  </span><span class="hs-comment">-- of the Shelley Ledger Specification for a sequence diagram.</span><span>
</span><span id="line-235"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="psRetiring"><span class="annot"><span class="annottext">forall era. PState era -&gt; Map (KeyHash 'StakePool) EpochNo
</span><a href="Cardano.Ledger.State.CertState.html#psRetiring"><span class="hs-identifier hs-var hs-var">psRetiring</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Hashes.html#KeyHash"><span class="hs-identifier hs-type">KeyHash</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Ledger.Keys.Internal.html#StakePool"><span class="hs-identifier hs-type">StakePool</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-slotting-0.2.0.1-cbaa0d455a08b054bafb132b87b34221d87bbbacf98d60661b1ed3cfc20b13c4/share/doc/html/src/Cardano.Slotting.Slot.html#EpochNo"><span class="hs-identifier hs-type">EpochNo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-236"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ A map of retiring stake pools to the epoch when they retire.</span></span><span>
</span><span id="line-237"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-238"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679466681"><span id="local-6989586621679466693"><span id="local-6989586621679466697"><span class="annot"><span class="annottext">Int -&gt; PState era -&gt; ShowS
[PState era] -&gt; ShowS
PState era -&gt; String
(Int -&gt; PState era -&gt; ShowS)
-&gt; (PState era -&gt; String)
-&gt; ([PState era] -&gt; ShowS)
-&gt; Show (PState era)
forall era. Int -&gt; PState era -&gt; ShowS
forall era. [PState era] -&gt; ShowS
forall era. PState era -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: forall era. Int -&gt; PState era -&gt; ShowS
showsPrec :: Int -&gt; PState era -&gt; ShowS
$cshow :: forall era. PState era -&gt; String
show :: PState era -&gt; String
$cshowList :: forall era. [PState era] -&gt; ShowS
showList :: [PState era] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679466706"><span id="local-6989586621679466717"><span class="annot"><span class="annottext">PState era -&gt; PState era -&gt; Bool
(PState era -&gt; PState era -&gt; Bool)
-&gt; (PState era -&gt; PState era -&gt; Bool) -&gt; Eq (PState era)
forall era. PState era -&gt; PState era -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: forall era. PState era -&gt; PState era -&gt; Bool
== :: PState era -&gt; PState era -&gt; Bool
$c/= :: forall era. PState era -&gt; PState era -&gt; Bool
/= :: PState era -&gt; PState era -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679466727"><span id="local-6989586621679466729"><span class="annot"><span class="annottext">(forall x. PState era -&gt; Rep (PState era) x)
-&gt; (forall x. Rep (PState era) x -&gt; PState era)
-&gt; Generic (PState era)
forall x. Rep (PState era) x -&gt; PState era
forall x. PState era -&gt; Rep (PState era) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall era x. Rep (PState era) x -&gt; PState era
forall era x. PState era -&gt; Rep (PState era) x
$cfrom :: forall era x. PState era -&gt; Rep (PState era) x
from :: forall x. PState era -&gt; Rep (PState era) x
$cto :: forall era x. Rep (PState era) x -&gt; PState era
to :: forall x. Rep (PState era) x -&gt; PState era
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-239"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679466732"><span id="local-6989586621679466737"><span id="local-6989586621679466742"><span id="local-6989586621679466747"><span id="local-6989586621679466752"><span class="annot"><span class="annottext">[PState era] -&gt; Value
[PState era] -&gt; Encoding
PState era -&gt; Bool
PState era -&gt; Value
PState era -&gt; Encoding
(PState era -&gt; Value)
-&gt; (PState era -&gt; Encoding)
-&gt; ([PState era] -&gt; Value)
-&gt; ([PState era] -&gt; Encoding)
-&gt; (PState era -&gt; Bool)
-&gt; ToJSON (PState era)
forall era. [PState era] -&gt; Value
forall era. [PState era] -&gt; Encoding
forall era. PState era -&gt; Bool
forall era. PState era -&gt; Value
forall era. PState era -&gt; Encoding
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; (a -&gt; Bool)
-&gt; ToJSON a
$ctoJSON :: forall era. PState era -&gt; Value
toJSON :: PState era -&gt; Value
$ctoEncoding :: forall era. PState era -&gt; Encoding
toEncoding :: PState era -&gt; Encoding
$ctoJSONList :: forall era. [PState era] -&gt; Value
toJSONList :: [PState era] -&gt; Value
$ctoEncodingList :: forall era. [PState era] -&gt; Encoding
toEncodingList :: [PState era] -&gt; Encoding
$comitField :: forall era. PState era -&gt; Bool
omitField :: PState era -&gt; Bool
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#ToJSON"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><a href="Cardano.Ledger.BaseTypes.html#KeyValuePairs"><span class="hs-identifier hs-type">KeyValuePairs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#PState"><span class="hs-identifier hs-type">PState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465527"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-240"></span><span>
</span><span id="line-241"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679465555"><span id="local-6989586621679466759"><span id="local-6989586621679466763"><span id="local-6989586621679466769"><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/nothunks-0.2.1.1-0663c3283fb5dee9e67d41860072fab0227b6d69ef882303baddf309058f8618/share/doc/html/src/NoThunks.Class.html#NoThunks"><span class="hs-identifier hs-type">NoThunks</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#PState"><span class="hs-identifier hs-type">PState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465555"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679465559"><span id="local-6989586621679466816"><span class="annot"><span class="hs-identifier hs-type">NFData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#PState"><span class="hs-identifier hs-type">PState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465559"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-244"></span><span>
</span><span id="line-245"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679465561"><span id="local-6989586621679466854"><span id="local-6989586621679466858"><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#Era"><span class="hs-identifier hs-type">Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465561"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#EncCBOR"><span class="hs-identifier hs-type">EncCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#PState"><span class="hs-identifier hs-type">PState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465561"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-246"></span><span>  </span><span id="local-6989586621679466884"><span class="annot"><span class="annottext">encCBOR :: PState era -&gt; Encoding
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#encCBOR"><span class="hs-identifier hs-var hs-var hs-var hs-var">encCBOR</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#PState"><span class="hs-identifier hs-type">PState</span></a></span><span> </span><span id="local-6989586621679466885"><span class="annot"><span class="annottext">Map (VRFVerKeyHash 'StakePoolVRF) (NonZero Word64)
</span><a href="#local-6989586621679466885"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679466886"><span class="annot"><span class="annottext">Map (KeyHash 'StakePool) StakePoolState
</span><a href="#local-6989586621679466886"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679466887"><span class="annot"><span class="annottext">Map (KeyHash 'StakePool) StakePoolState
</span><a href="#local-6989586621679466887"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679466888"><span class="annot"><span class="annottext">Map (KeyHash 'StakePool) EpochNo
</span><a href="#local-6989586621679466888"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-247"></span><span>    </span><span class="annot"><span class="annottext">Word -&gt; Encoding
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Encoder.html#encodeListLen"><span class="hs-identifier hs-var">encodeListLen</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">4</span></span><span> </span><span class="annot"><span class="annottext">Encoding -&gt; Encoding -&gt; Encoding
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Map (VRFVerKeyHash 'StakePoolVRF) (NonZero Word64) -&gt; Encoding
forall a. EncCBOR a =&gt; a -&gt; Encoding
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#encCBOR"><span class="hs-identifier hs-var">encCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">Map (VRFVerKeyHash 'StakePoolVRF) (NonZero Word64)
</span><a href="#local-6989586621679466885"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Encoding -&gt; Encoding -&gt; Encoding
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Map (KeyHash 'StakePool) StakePoolState -&gt; Encoding
forall a. EncCBOR a =&gt; a -&gt; Encoding
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#encCBOR"><span class="hs-identifier hs-var">encCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">Map (KeyHash 'StakePool) StakePoolState
</span><a href="#local-6989586621679466886"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Encoding -&gt; Encoding -&gt; Encoding
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Map (KeyHash 'StakePool) StakePoolState -&gt; Encoding
forall a. EncCBOR a =&gt; a -&gt; Encoding
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#encCBOR"><span class="hs-identifier hs-var">encCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">Map (KeyHash 'StakePool) StakePoolState
</span><a href="#local-6989586621679466887"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Encoding -&gt; Encoding -&gt; Encoding
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Map (KeyHash 'StakePool) EpochNo -&gt; Encoding
forall a. EncCBOR a =&gt; a -&gt; Encoding
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#encCBOR"><span class="hs-identifier hs-var">encCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">Map (KeyHash 'StakePool) EpochNo
</span><a href="#local-6989586621679466888"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-248"></span><span>
</span><span id="line-249"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679465568"><span id="local-6989586621679466893"><span id="local-6989586621679466897"><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#DecShareCBOR"><span class="hs-identifier hs-type">DecShareCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#PState"><span class="hs-identifier hs-type">PState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465568"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-250"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="Share"><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#Share"><span class="hs-identifier hs-var">Share</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#PState"><span class="hs-identifier hs-type">PState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465568"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#Interns"><span class="hs-identifier hs-type">Interns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Hashes.html#VRFVerKeyHash"><span class="hs-identifier hs-type">VRFVerKeyHash</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Ledger.Hashes.html#StakePoolVRF"><span class="hs-identifier hs-type">StakePoolVRF</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#Interns"><span class="hs-identifier hs-type">Interns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Hashes.html#KeyHash"><span class="hs-identifier hs-type">KeyHash</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Ledger.Keys.Internal.html#StakePool"><span class="hs-identifier hs-type">StakePool</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-251"></span><span>
</span><span id="line-252"></span><span>  </span><span id="local-6989586621679466939"><span class="annot"><span class="annottext">decSharePlusCBOR :: forall s. StateT (Share (PState era)) (Decoder s) (PState era)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#decSharePlusCBOR"><span class="hs-identifier hs-var hs-var hs-var hs-var">decSharePlusCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
-&gt; (PState era -&gt; Int)
-&gt; StateT (Share (PState era)) (Decoder s) (PState era)
-&gt; StateT (Share (PState era)) (Decoder s) (PState era)
forall (m :: (* -&gt; *) -&gt; * -&gt; *) s a.
(MonadTrans m, Monad (m (Decoder s))) =&gt;
Text -&gt; (a -&gt; Int) -&gt; m (Decoder s) a -&gt; m (Decoder s) a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Decoder.html#decodeRecordNamedT"><span class="hs-identifier hs-var">decodeRecordNamedT</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;PState&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; PState era -&gt; Int
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(StateT (Share (PState era)) (Decoder s) (PState era)
 -&gt; StateT (Share (PState era)) (Decoder s) (PState era))
-&gt; StateT (Share (PState era)) (Decoder s) (PState era)
-&gt; StateT (Share (PState era)) (Decoder s) (PState era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-253"></span><span>    </span><span id="local-6989586621679466940"><span class="annot"><span class="annottext">Map (VRFVerKeyHash 'StakePoolVRF) (NonZero Word64)
</span><a href="#local-6989586621679466940"><span class="hs-identifier hs-var">psVRFKeyHashes</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Lens'
  (Interns (VRFVerKeyHash 'StakePoolVRF),
   Interns (KeyHash 'StakePool))
  (Share (Map (VRFVerKeyHash 'StakePoolVRF) (NonZero Word64)))
-&gt; StateT
     (Interns (VRFVerKeyHash 'StakePoolVRF),
      Interns (KeyHash 'StakePool))
     (Decoder s)
     (Map (VRFVerKeyHash 'StakePoolVRF) (NonZero Word64))
forall b bs s.
DecShareCBOR b =&gt;
Lens' bs (Share b) -&gt; StateT bs (Decoder s) b
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#decSharePlusLensCBOR"><span class="hs-identifier hs-var">decSharePlusLensCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Lens'
  (Interns (VRFVerKeyHash 'StakePoolVRF), Interns (NonZero Word64))
  (Interns (VRFVerKeyHash 'StakePoolVRF))
-&gt; Lens'
     (Interns (VRFVerKeyHash 'StakePoolVRF),
      Interns (KeyHash 'StakePool))
     (Interns (VRFVerKeyHash 'StakePoolVRF))
-&gt; Lens'
     (Interns (VRFVerKeyHash 'StakePoolVRF),
      Interns (KeyHash 'StakePool))
     (Interns (VRFVerKeyHash 'StakePoolVRF), Interns (NonZero Word64))
forall a b c. Monoid a =&gt; Lens' a b -&gt; Lens' c b -&gt; Lens' c a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#toMemptyLens"><span class="hs-identifier hs-var">toMemptyLens</span></a></span><span> </span><span class="annot"><span class="annottext">(Interns (VRFVerKeyHash 'StakePoolVRF)
 -&gt; f (Interns (VRFVerKeyHash 'StakePoolVRF)))
-&gt; (Interns (VRFVerKeyHash 'StakePoolVRF),
    Interns (NonZero Word64))
-&gt; f (Interns (VRFVerKeyHash 'StakePoolVRF),
      Interns (NonZero Word64))
forall s t a b. Field1 s t a b =&gt; Lens s t a b
Lens'
  (Interns (VRFVerKeyHash 'StakePoolVRF), Interns (NonZero Word64))
  (Interns (VRFVerKeyHash 'StakePoolVRF))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Internal.html#_1"><span class="hs-identifier hs-var">_1</span></a></span><span> </span><span class="annot"><span class="annottext">(Interns (VRFVerKeyHash 'StakePoolVRF)
 -&gt; f (Interns (VRFVerKeyHash 'StakePoolVRF)))
-&gt; (Interns (VRFVerKeyHash 'StakePoolVRF),
    Interns (KeyHash 'StakePool))
-&gt; f (Interns (VRFVerKeyHash 'StakePoolVRF),
      Interns (KeyHash 'StakePool))
forall s t a b. Field1 s t a b =&gt; Lens s t a b
Lens'
  (Interns (VRFVerKeyHash 'StakePoolVRF),
   Interns (KeyHash 'StakePool))
  (Interns (VRFVerKeyHash 'StakePoolVRF))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Internal.html#_1"><span class="hs-identifier hs-var">_1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-254"></span><span>    </span><span id="local-6989586621679466953"><span class="annot"><span class="annottext">Map (KeyHash 'StakePool) StakePoolState
</span><a href="#local-6989586621679466953"><span class="hs-identifier hs-var">psStakePools</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Lens'
  (Interns (VRFVerKeyHash 'StakePoolVRF),
   Interns (KeyHash 'StakePool))
  (Share (Map (KeyHash 'StakePool) StakePoolState))
-&gt; StateT
     (Interns (VRFVerKeyHash 'StakePoolVRF),
      Interns (KeyHash 'StakePool))
     (Decoder s)
     (Map (KeyHash 'StakePool) StakePoolState)
forall b bs s.
DecShareCBOR b =&gt;
Lens' bs (Share b) -&gt; StateT bs (Decoder s) b
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#decSharePlusLensCBOR"><span class="hs-identifier hs-var">decSharePlusLensCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Lens'
  (Interns (KeyHash 'StakePool), Interns StakePoolState)
  (Interns (KeyHash 'StakePool))
-&gt; Lens'
     (Interns (VRFVerKeyHash 'StakePoolVRF),
      Interns (KeyHash 'StakePool))
     (Interns (KeyHash 'StakePool))
-&gt; Lens'
     (Interns (VRFVerKeyHash 'StakePoolVRF),
      Interns (KeyHash 'StakePool))
     (Interns (KeyHash 'StakePool), Interns StakePoolState)
forall a b c. Monoid a =&gt; Lens' a b -&gt; Lens' c b -&gt; Lens' c a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#toMemptyLens"><span class="hs-identifier hs-var">toMemptyLens</span></a></span><span> </span><span class="annot"><span class="annottext">(Interns (KeyHash 'StakePool) -&gt; f (Interns (KeyHash 'StakePool)))
-&gt; (Interns (KeyHash 'StakePool), Interns StakePoolState)
-&gt; f (Interns (KeyHash 'StakePool), Interns StakePoolState)
forall s t a b. Field1 s t a b =&gt; Lens s t a b
Lens'
  (Interns (KeyHash 'StakePool), Interns StakePoolState)
  (Interns (KeyHash 'StakePool))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Internal.html#_1"><span class="hs-identifier hs-var">_1</span></a></span><span> </span><span class="annot"><span class="annottext">(Interns (KeyHash 'StakePool) -&gt; f (Interns (KeyHash 'StakePool)))
-&gt; (Interns (VRFVerKeyHash 'StakePoolVRF),
    Interns (KeyHash 'StakePool))
-&gt; f (Interns (VRFVerKeyHash 'StakePoolVRF),
      Interns (KeyHash 'StakePool))
forall s t a b. Field2 s t a b =&gt; Lens s t a b
Lens'
  (Interns (VRFVerKeyHash 'StakePoolVRF),
   Interns (KeyHash 'StakePool))
  (Interns (KeyHash 'StakePool))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Internal.html#_2"><span class="hs-identifier hs-var">_2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-255"></span><span>    </span><span id="local-6989586621679466967"><span class="annot"><span class="annottext">Map (KeyHash 'StakePool) StakePoolState
</span><a href="#local-6989586621679466967"><span class="hs-identifier hs-var">psFutureStakePools</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Lens'
  (Interns (VRFVerKeyHash 'StakePoolVRF),
   Interns (KeyHash 'StakePool))
  (Share (Map (KeyHash 'StakePool) StakePoolState))
-&gt; StateT
     (Interns (VRFVerKeyHash 'StakePoolVRF),
      Interns (KeyHash 'StakePool))
     (Decoder s)
     (Map (KeyHash 'StakePool) StakePoolState)
forall b bs s.
DecShareCBOR b =&gt;
Lens' bs (Share b) -&gt; StateT bs (Decoder s) b
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#decSharePlusLensCBOR"><span class="hs-identifier hs-var">decSharePlusLensCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Lens'
  (Interns (KeyHash 'StakePool), Interns StakePoolState)
  (Interns (KeyHash 'StakePool))
-&gt; Lens'
     (Interns (VRFVerKeyHash 'StakePoolVRF),
      Interns (KeyHash 'StakePool))
     (Interns (KeyHash 'StakePool))
-&gt; Lens'
     (Interns (VRFVerKeyHash 'StakePoolVRF),
      Interns (KeyHash 'StakePool))
     (Interns (KeyHash 'StakePool), Interns StakePoolState)
forall a b c. Monoid a =&gt; Lens' a b -&gt; Lens' c b -&gt; Lens' c a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#toMemptyLens"><span class="hs-identifier hs-var">toMemptyLens</span></a></span><span> </span><span class="annot"><span class="annottext">(Interns (KeyHash 'StakePool) -&gt; f (Interns (KeyHash 'StakePool)))
-&gt; (Interns (KeyHash 'StakePool), Interns StakePoolState)
-&gt; f (Interns (KeyHash 'StakePool), Interns StakePoolState)
forall s t a b. Field1 s t a b =&gt; Lens s t a b
Lens'
  (Interns (KeyHash 'StakePool), Interns StakePoolState)
  (Interns (KeyHash 'StakePool))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Internal.html#_1"><span class="hs-identifier hs-var">_1</span></a></span><span> </span><span class="annot"><span class="annottext">(Interns (KeyHash 'StakePool) -&gt; f (Interns (KeyHash 'StakePool)))
-&gt; (Interns (VRFVerKeyHash 'StakePoolVRF),
    Interns (KeyHash 'StakePool))
-&gt; f (Interns (VRFVerKeyHash 'StakePoolVRF),
      Interns (KeyHash 'StakePool))
forall s t a b. Field2 s t a b =&gt; Lens s t a b
Lens'
  (Interns (VRFVerKeyHash 'StakePoolVRF),
   Interns (KeyHash 'StakePool))
  (Interns (KeyHash 'StakePool))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Internal.html#_2"><span class="hs-identifier hs-var">_2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-256"></span><span>    </span><span id="local-6989586621679466979"><span class="annot"><span class="annottext">Map (KeyHash 'StakePool) EpochNo
</span><a href="#local-6989586621679466979"><span class="hs-identifier hs-var">psRetiring</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Lens'
  (Interns (VRFVerKeyHash 'StakePoolVRF),
   Interns (KeyHash 'StakePool))
  (Share (Map (KeyHash 'StakePool) EpochNo))
-&gt; StateT
     (Interns (VRFVerKeyHash 'StakePoolVRF),
      Interns (KeyHash 'StakePool))
     (Decoder s)
     (Map (KeyHash 'StakePool) EpochNo)
forall b bs s.
DecShareCBOR b =&gt;
Lens' bs (Share b) -&gt; StateT bs (Decoder s) b
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#decSharePlusLensCBOR"><span class="hs-identifier hs-var">decSharePlusLensCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Lens'
  (Interns (KeyHash 'StakePool), Interns EpochNo)
  (Interns (KeyHash 'StakePool))
-&gt; Lens'
     (Interns (VRFVerKeyHash 'StakePoolVRF),
      Interns (KeyHash 'StakePool))
     (Interns (KeyHash 'StakePool))
-&gt; Lens'
     (Interns (VRFVerKeyHash 'StakePoolVRF),
      Interns (KeyHash 'StakePool))
     (Interns (KeyHash 'StakePool), Interns EpochNo)
forall a b c. Monoid a =&gt; Lens' a b -&gt; Lens' c b -&gt; Lens' c a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#toMemptyLens"><span class="hs-identifier hs-var">toMemptyLens</span></a></span><span> </span><span class="annot"><span class="annottext">(Interns (KeyHash 'StakePool) -&gt; f (Interns (KeyHash 'StakePool)))
-&gt; (Interns (KeyHash 'StakePool), Interns EpochNo)
-&gt; f (Interns (KeyHash 'StakePool), Interns EpochNo)
forall s t a b. Field1 s t a b =&gt; Lens s t a b
Lens'
  (Interns (KeyHash 'StakePool), Interns EpochNo)
  (Interns (KeyHash 'StakePool))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Internal.html#_1"><span class="hs-identifier hs-var">_1</span></a></span><span> </span><span class="annot"><span class="annottext">(Interns (KeyHash 'StakePool) -&gt; f (Interns (KeyHash 'StakePool)))
-&gt; (Interns (VRFVerKeyHash 'StakePoolVRF),
    Interns (KeyHash 'StakePool))
-&gt; f (Interns (VRFVerKeyHash 'StakePoolVRF),
      Interns (KeyHash 'StakePool))
forall s t a b. Field2 s t a b =&gt; Lens s t a b
Lens'
  (Interns (VRFVerKeyHash 'StakePoolVRF),
   Interns (KeyHash 'StakePool))
  (Interns (KeyHash 'StakePool))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Internal.html#_2"><span class="hs-identifier hs-var">_2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-257"></span><span>    </span><span class="annot"><span class="annottext">PState era
-&gt; StateT
     (Interns (VRFVerKeyHash 'StakePoolVRF),
      Interns (KeyHash 'StakePool))
     (Decoder s)
     (PState era)
forall a.
a
-&gt; StateT
     (Interns (VRFVerKeyHash 'StakePoolVRF),
      Interns (KeyHash 'StakePool))
     (Decoder s)
     a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#PState"><span class="hs-identifier hs-type">PState</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">Map (VRFVerKeyHash 'StakePoolVRF) (NonZero Word64)
psVRFKeyHashes :: Map (VRFVerKeyHash 'StakePoolVRF) (NonZero Word64)
psVRFKeyHashes :: Map (VRFVerKeyHash 'StakePoolVRF) (NonZero Word64)
</span><a href="Cardano.Ledger.State.CertState.html#psVRFKeyHashes"><span class="hs-identifier hs-var hs-var">psVRFKeyHashes</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Map (KeyHash 'StakePool) StakePoolState
psStakePools :: Map (KeyHash 'StakePool) StakePoolState
psStakePools :: Map (KeyHash 'StakePool) StakePoolState
</span><a href="Cardano.Ledger.State.CertState.html#psStakePools"><span class="hs-identifier hs-var hs-var">psStakePools</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Map (KeyHash 'StakePool) StakePoolState
psFutureStakePools :: Map (KeyHash 'StakePool) StakePoolState
psFutureStakePools :: Map (KeyHash 'StakePool) StakePoolState
</span><a href="Cardano.Ledger.State.CertState.html#psFutureStakePools"><span class="hs-identifier hs-var hs-var">psFutureStakePools</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Map (KeyHash 'StakePool) EpochNo
psRetiring :: Map (KeyHash 'StakePool) EpochNo
psRetiring :: Map (KeyHash 'StakePool) EpochNo
</span><a href="Cardano.Ledger.State.CertState.html#psRetiring"><span class="hs-identifier hs-var hs-var">psRetiring</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-258"></span><span>
</span><span id="line-259"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679465602"><span id="local-6989586621679466999"><span id="local-6989586621679467003"><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#Era"><span class="hs-identifier hs-type">Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465602"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#DecShareCBOR"><span class="hs-identifier hs-type">DecShareCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#PState"><span class="hs-identifier hs-type">PState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465602"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#DecCBOR"><span class="hs-identifier hs-type">DecCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#PState"><span class="hs-identifier hs-type">PState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465602"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-260"></span><span>  </span><span id="local-6989586621679467006"><span class="annot"><span class="annottext">decCBOR :: forall s. Decoder s (PState era)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#decCBOR"><span class="hs-identifier hs-var hs-var hs-var hs-var">decCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Decoder s (PState era)
forall a s. DecShareCBOR a =&gt; Decoder s a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#decNoShareCBOR"><span class="hs-identifier hs-var">decNoShareCBOR</span></a></span><span>
</span><span id="line-261"></span><span>
</span><span id="line-262"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679465550"><span class="annot"><a href="Cardano.Ledger.BaseTypes.html#ToKeyValuePairs"><span class="hs-identifier hs-type">ToKeyValuePairs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#PState"><span class="hs-identifier hs-type">PState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465550"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-263"></span><span>  </span><span id="local-6989586621679467033"><span class="annot"><span class="annottext">toKeyValuePairs :: forall e kv. KeyValue e kv =&gt; PState era -&gt; [kv]
</span><a href="Cardano.Ledger.BaseTypes.html#toKeyValuePairs"><span class="hs-identifier hs-var hs-var hs-var hs-var">toKeyValuePairs</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#PState"><span class="hs-identifier hs-type">PState</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621679467034"><span id="local-6989586621679467035"><span id="local-6989586621679467036"><span id="local-6989586621679467037"><span class="annot"><span class="annottext">Map (VRFVerKeyHash 'StakePoolVRF) (NonZero Word64)
Map (KeyHash 'StakePool) EpochNo
Map (KeyHash 'StakePool) StakePoolState
psVRFKeyHashes :: forall era.
PState era -&gt; Map (VRFVerKeyHash 'StakePoolVRF) (NonZero Word64)
psStakePools :: forall era. PState era -&gt; Map (KeyHash 'StakePool) StakePoolState
psFutureStakePools :: forall era. PState era -&gt; Map (KeyHash 'StakePool) StakePoolState
psRetiring :: forall era. PState era -&gt; Map (KeyHash 'StakePool) EpochNo
psVRFKeyHashes :: Map (VRFVerKeyHash 'StakePoolVRF) (NonZero Word64)
psStakePools :: Map (KeyHash 'StakePool) StakePoolState
psFutureStakePools :: Map (KeyHash 'StakePool) StakePoolState
psRetiring :: Map (KeyHash 'StakePool) EpochNo
</span><a href="Cardano.Ledger.State.CertState.html#psVRFKeyHashes"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-264"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;vrfKeyHashes&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Map (VRFVerKeyHash 'StakePoolVRF) (NonZero Word64) -&gt; kv
forall v. ToJSON v =&gt; Key -&gt; v -&gt; kv
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#.%3D"><span class="hs-operator hs-var">.=</span></a></span><span> </span><span class="annot"><span class="annottext">Map (VRFVerKeyHash 'StakePoolVRF) (NonZero Word64)
</span><a href="#local-6989586621679467034"><span class="hs-identifier hs-var">psVRFKeyHashes</span></a></span><span>
</span><span id="line-265"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;stakePools&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Map (KeyHash 'StakePool) StakePoolState -&gt; kv
forall v. ToJSON v =&gt; Key -&gt; v -&gt; kv
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#.%3D"><span class="hs-operator hs-var">.=</span></a></span><span> </span><span class="annot"><span class="annottext">Map (KeyHash 'StakePool) StakePoolState
</span><a href="#local-6989586621679467035"><span class="hs-identifier hs-var">psStakePools</span></a></span><span>
</span><span id="line-266"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;futureStakePools&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Map (KeyHash 'StakePool) StakePoolState -&gt; kv
forall v. ToJSON v =&gt; Key -&gt; v -&gt; kv
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#.%3D"><span class="hs-operator hs-var">.=</span></a></span><span> </span><span class="annot"><span class="annottext">Map (KeyHash 'StakePool) StakePoolState
</span><a href="#local-6989586621679467036"><span class="hs-identifier hs-var">psFutureStakePools</span></a></span><span>
</span><span id="line-267"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;retiring&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Map (KeyHash 'StakePool) EpochNo -&gt; kv
forall v. ToJSON v =&gt; Key -&gt; v -&gt; kv
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#.%3D"><span class="hs-operator hs-var">.=</span></a></span><span> </span><span class="annot"><span class="annottext">Map (KeyHash 'StakePool) EpochNo
</span><a href="#local-6989586621679467037"><span class="hs-identifier hs-var">psRetiring</span></a></span><span>
</span><span id="line-268"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-269"></span><span>
</span><span id="line-270"></span><span class="hs-keyword">data</span><span> </span><span id="CommitteeAuthorization"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CommitteeAuthorization"><span class="hs-identifier hs-var">CommitteeAuthorization</span></a></span></span><span>
</span><span id="line-271"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-comment">-- | Member authorized with a Hot credential acting on behalf of their Cold credential</span></span><span>
</span><span id="line-272"></span><span>    </span><span id="CommitteeHotCredential"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CommitteeHotCredential"><span class="hs-identifier hs-var">CommitteeHotCredential</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Ledger.Keys.Internal.html#HotCommitteeRole"><span class="hs-identifier hs-type">HotCommitteeRole</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-273"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-comment">-- | Member resigned with a potential explanation in Anchor</span></span><span>
</span><span id="line-274"></span><span>    </span><span id="CommitteeMemberResigned"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CommitteeMemberResigned"><span class="hs-identifier hs-var">CommitteeMemberResigned</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-strict-containers-0.1.5.0-d2741b9ef9564f4a1a3151d17a0f69b9663f5795dd47dab0bbd6117738fcce96/share/doc/html/src/Data.Maybe.Strict.html#StrictMaybe"><span class="hs-identifier hs-type">StrictMaybe</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.BaseTypes.html#Anchor"><span class="hs-identifier hs-type">Anchor</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-275"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679467041"><span id="local-6989586621679467047"><span class="annot"><span class="annottext">CommitteeAuthorization -&gt; CommitteeAuthorization -&gt; Bool
(CommitteeAuthorization -&gt; CommitteeAuthorization -&gt; Bool)
-&gt; (CommitteeAuthorization -&gt; CommitteeAuthorization -&gt; Bool)
-&gt; Eq CommitteeAuthorization
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: CommitteeAuthorization -&gt; CommitteeAuthorization -&gt; Bool
== :: CommitteeAuthorization -&gt; CommitteeAuthorization -&gt; Bool
$c/= :: CommitteeAuthorization -&gt; CommitteeAuthorization -&gt; Bool
/= :: CommitteeAuthorization -&gt; CommitteeAuthorization -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679467054"><span id="local-6989586621679467060"><span id="local-6989586621679467065"><span id="local-6989586621679467069"><span id="local-6989586621679467072"><span id="local-6989586621679467075"><span id="local-6989586621679467078"><span class="annot"><span class="annottext">Eq CommitteeAuthorization
Eq CommitteeAuthorization =&gt;
(CommitteeAuthorization -&gt; CommitteeAuthorization -&gt; Ordering)
-&gt; (CommitteeAuthorization -&gt; CommitteeAuthorization -&gt; Bool)
-&gt; (CommitteeAuthorization -&gt; CommitteeAuthorization -&gt; Bool)
-&gt; (CommitteeAuthorization -&gt; CommitteeAuthorization -&gt; Bool)
-&gt; (CommitteeAuthorization -&gt; CommitteeAuthorization -&gt; Bool)
-&gt; (CommitteeAuthorization
    -&gt; CommitteeAuthorization -&gt; CommitteeAuthorization)
-&gt; (CommitteeAuthorization
    -&gt; CommitteeAuthorization -&gt; CommitteeAuthorization)
-&gt; Ord CommitteeAuthorization
CommitteeAuthorization -&gt; CommitteeAuthorization -&gt; Bool
CommitteeAuthorization -&gt; CommitteeAuthorization -&gt; Ordering
CommitteeAuthorization
-&gt; CommitteeAuthorization -&gt; CommitteeAuthorization
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: CommitteeAuthorization -&gt; CommitteeAuthorization -&gt; Ordering
compare :: CommitteeAuthorization -&gt; CommitteeAuthorization -&gt; Ordering
$c&lt; :: CommitteeAuthorization -&gt; CommitteeAuthorization -&gt; Bool
&lt; :: CommitteeAuthorization -&gt; CommitteeAuthorization -&gt; Bool
$c&lt;= :: CommitteeAuthorization -&gt; CommitteeAuthorization -&gt; Bool
&lt;= :: CommitteeAuthorization -&gt; CommitteeAuthorization -&gt; Bool
$c&gt; :: CommitteeAuthorization -&gt; CommitteeAuthorization -&gt; Bool
&gt; :: CommitteeAuthorization -&gt; CommitteeAuthorization -&gt; Bool
$c&gt;= :: CommitteeAuthorization -&gt; CommitteeAuthorization -&gt; Bool
&gt;= :: CommitteeAuthorization -&gt; CommitteeAuthorization -&gt; Bool
$cmax :: CommitteeAuthorization
-&gt; CommitteeAuthorization -&gt; CommitteeAuthorization
max :: CommitteeAuthorization
-&gt; CommitteeAuthorization -&gt; CommitteeAuthorization
$cmin :: CommitteeAuthorization
-&gt; CommitteeAuthorization -&gt; CommitteeAuthorization
min :: CommitteeAuthorization
-&gt; CommitteeAuthorization -&gt; CommitteeAuthorization
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679467082"><span id="local-6989586621679467090"><span id="local-6989586621679467094"><span class="annot"><span class="annottext">Int -&gt; CommitteeAuthorization -&gt; ShowS
[CommitteeAuthorization] -&gt; ShowS
CommitteeAuthorization -&gt; String
(Int -&gt; CommitteeAuthorization -&gt; ShowS)
-&gt; (CommitteeAuthorization -&gt; String)
-&gt; ([CommitteeAuthorization] -&gt; ShowS)
-&gt; Show CommitteeAuthorization
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; CommitteeAuthorization -&gt; ShowS
showsPrec :: Int -&gt; CommitteeAuthorization -&gt; ShowS
$cshow :: CommitteeAuthorization -&gt; String
show :: CommitteeAuthorization -&gt; String
$cshowList :: [CommitteeAuthorization] -&gt; ShowS
showList :: [CommitteeAuthorization] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679467098"><span id="local-6989586621679467100"><span class="annot"><span class="annottext">(forall x. CommitteeAuthorization -&gt; Rep CommitteeAuthorization x)
-&gt; (forall x.
    Rep CommitteeAuthorization x -&gt; CommitteeAuthorization)
-&gt; Generic CommitteeAuthorization
forall x. Rep CommitteeAuthorization x -&gt; CommitteeAuthorization
forall x. CommitteeAuthorization -&gt; Rep CommitteeAuthorization x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. CommitteeAuthorization -&gt; Rep CommitteeAuthorization x
from :: forall x. CommitteeAuthorization -&gt; Rep CommitteeAuthorization x
$cto :: forall x. Rep CommitteeAuthorization x -&gt; CommitteeAuthorization
to :: forall x. Rep CommitteeAuthorization x -&gt; CommitteeAuthorization
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-276"></span><span>
</span><span id="line-277"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679467103"><span id="local-6989586621679467107"><span id="local-6989586621679467113"><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/nothunks-0.2.1.1-0663c3283fb5dee9e67d41860072fab0227b6d69ef882303baddf309058f8618/share/doc/html/src/NoThunks.Class.html#NoThunks"><span class="hs-identifier hs-type">NoThunks</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CommitteeAuthorization"><span class="hs-identifier hs-type">CommitteeAuthorization</span></a></span></span></span></span><span>
</span><span id="line-278"></span><span>
</span><span id="line-279"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679467138"><span class="annot"><span class="hs-identifier hs-type">NFData</span></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CommitteeAuthorization"><span class="hs-identifier hs-type">CommitteeAuthorization</span></a></span></span><span>
</span><span id="line-280"></span><span>
</span><span id="line-281"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679467158"><span id="local-6989586621679467165"><span id="local-6989586621679467168"><span id="local-6989586621679467171"><span id="local-6989586621679467174"><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#ToJSON"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CommitteeAuthorization"><span class="hs-identifier hs-type">CommitteeAuthorization</span></a></span></span></span></span></span></span><span>
</span><span id="line-282"></span><span>
</span><span id="line-283"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679467263"><span id="local-6989586621679467267"><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#EncCBOR"><span class="hs-identifier hs-type">EncCBOR</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CommitteeAuthorization"><span class="hs-identifier hs-type">CommitteeAuthorization</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-284"></span><span>  </span><span id="local-6989586621679467276"><span class="annot"><span class="annottext">encCBOR :: CommitteeAuthorization -&gt; Encoding
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#encCBOR"><span class="hs-identifier hs-var hs-var hs-var hs-var">encCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-285"></span><span>    </span><span class="annot"><span class="annottext">Encode 'Open CommitteeAuthorization -&gt; Encoding
forall (w :: Wrapped) t. Encode w t -&gt; Encoding
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Coders.html#encode"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">(Encode 'Open CommitteeAuthorization -&gt; Encoding)
-&gt; (CommitteeAuthorization -&gt; Encode 'Open CommitteeAuthorization)
-&gt; CommitteeAuthorization
-&gt; Encoding
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-286"></span><span>      </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CommitteeHotCredential"><span class="hs-identifier hs-type">CommitteeHotCredential</span></a></span><span> </span><span id="local-6989586621679467278"><span class="annot"><span class="annottext">Credential 'HotCommitteeRole
</span><a href="#local-6989586621679467278"><span class="hs-identifier hs-var">cred</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Credential 'HotCommitteeRole -&gt; CommitteeAuthorization)
-&gt; Word
-&gt; Encode
     'Open (Credential 'HotCommitteeRole -&gt; CommitteeAuthorization)
forall t. t -&gt; Word -&gt; Encode 'Open t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Coders.html#Sum"><span class="hs-identifier hs-var">Sum</span></a></span><span> </span><span class="annot"><span class="annottext">Credential 'HotCommitteeRole -&gt; CommitteeAuthorization
</span><a href="Cardano.Ledger.State.CertState.html#CommitteeHotCredential"><span class="hs-identifier hs-var">CommitteeHotCredential</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Encode
  'Open (Credential 'HotCommitteeRole -&gt; CommitteeAuthorization)
-&gt; Encode ('Closed 'Dense) (Credential 'HotCommitteeRole)
-&gt; Encode 'Open CommitteeAuthorization
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Coders.html#%21%3E"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Credential 'HotCommitteeRole
-&gt; Encode ('Closed 'Dense) (Credential 'HotCommitteeRole)
forall t. EncCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Coders.html#To"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Credential 'HotCommitteeRole
</span><a href="#local-6989586621679467278"><span class="hs-identifier hs-var">cred</span></a></span><span>
</span><span id="line-287"></span><span>      </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CommitteeMemberResigned"><span class="hs-identifier hs-type">CommitteeMemberResigned</span></a></span><span> </span><span id="local-6989586621679467281"><span class="annot"><span class="annottext">StrictMaybe Anchor
</span><a href="#local-6989586621679467281"><span class="hs-identifier hs-var">anchor</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(StrictMaybe Anchor -&gt; CommitteeAuthorization)
-&gt; Word
-&gt; Encode 'Open (StrictMaybe Anchor -&gt; CommitteeAuthorization)
forall t. t -&gt; Word -&gt; Encode 'Open t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Coders.html#Sum"><span class="hs-identifier hs-var">Sum</span></a></span><span> </span><span class="annot"><span class="annottext">StrictMaybe Anchor -&gt; CommitteeAuthorization
</span><a href="Cardano.Ledger.State.CertState.html#CommitteeMemberResigned"><span class="hs-identifier hs-var">CommitteeMemberResigned</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Encode 'Open (StrictMaybe Anchor -&gt; CommitteeAuthorization)
-&gt; Encode ('Closed 'Dense) (StrictMaybe Anchor)
-&gt; Encode 'Open CommitteeAuthorization
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Coders.html#%21%3E"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">StrictMaybe Anchor -&gt; Encode ('Closed 'Dense) (StrictMaybe Anchor)
forall t. EncCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Coders.html#To"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">StrictMaybe Anchor
</span><a href="#local-6989586621679467281"><span class="hs-identifier hs-var">anchor</span></a></span><span>
</span><span id="line-288"></span><span>
</span><span id="line-289"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679467286"><span id="local-6989586621679467290"><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#DecCBOR"><span class="hs-identifier hs-type">DecCBOR</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CommitteeAuthorization"><span class="hs-identifier hs-type">CommitteeAuthorization</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-290"></span><span>  </span><span id="local-6989586621679467312"><span class="annot"><span class="annottext">decCBOR :: forall s. Decoder s CommitteeAuthorization
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#decCBOR"><span class="hs-identifier hs-var hs-var hs-var hs-var">decCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-291"></span><span>    </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) CommitteeAuthorization
-&gt; Decoder s CommitteeAuthorization
forall t (w :: Wrapped) s. Typeable t =&gt; Decode w t -&gt; Decoder s t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Coders.html#decode"><span class="hs-identifier hs-var">decode</span></a></span><span> </span><span class="annot"><span class="annottext">(Decode ('Closed 'Dense) CommitteeAuthorization
 -&gt; Decoder s CommitteeAuthorization)
-&gt; Decode ('Closed 'Dense) CommitteeAuthorization
-&gt; Decoder s CommitteeAuthorization
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
-&gt; (Word -&gt; Decode 'Open CommitteeAuthorization)
-&gt; Decode ('Closed 'Dense) CommitteeAuthorization
forall t.
Text -&gt; (Word -&gt; Decode 'Open t) -&gt; Decode ('Closed 'Dense) t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Coders.html#Summands"><span class="hs-identifier hs-var">Summands</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;CommitteeAuthorization&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Word -&gt; Decode 'Open CommitteeAuthorization)
 -&gt; Decode ('Closed 'Dense) CommitteeAuthorization)
-&gt; (Word -&gt; Decode 'Open CommitteeAuthorization)
-&gt; Decode ('Closed 'Dense) CommitteeAuthorization
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-292"></span><span>      </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Credential 'HotCommitteeRole -&gt; CommitteeAuthorization)
-&gt; Decode
     'Open (Credential 'HotCommitteeRole -&gt; CommitteeAuthorization)
forall t. t -&gt; Decode 'Open t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Coders.html#SumD"><span class="hs-identifier hs-var">SumD</span></a></span><span> </span><span class="annot"><span class="annottext">Credential 'HotCommitteeRole -&gt; CommitteeAuthorization
</span><a href="Cardano.Ledger.State.CertState.html#CommitteeHotCredential"><span class="hs-identifier hs-var">CommitteeHotCredential</span></a></span><span> </span><span class="annot"><span class="annottext">Decode
  'Open (Credential 'HotCommitteeRole -&gt; CommitteeAuthorization)
-&gt; Decode ('Closed Any) (Credential 'HotCommitteeRole)
-&gt; Decode 'Open CommitteeAuthorization
forall a (w1 :: Wrapped) t (w :: Density).
Typeable a =&gt;
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Coders.html#%3C%21"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) (Credential 'HotCommitteeRole)
forall t (w :: Wrapped). DecCBOR t =&gt; Decode w t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Coders.html#From"><span class="hs-identifier hs-var">From</span></a></span><span>
</span><span id="line-293"></span><span>      </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(StrictMaybe Anchor -&gt; CommitteeAuthorization)
-&gt; Decode 'Open (StrictMaybe Anchor -&gt; CommitteeAuthorization)
forall t. t -&gt; Decode 'Open t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Coders.html#SumD"><span class="hs-identifier hs-var">SumD</span></a></span><span> </span><span class="annot"><span class="annottext">StrictMaybe Anchor -&gt; CommitteeAuthorization
</span><a href="Cardano.Ledger.State.CertState.html#CommitteeMemberResigned"><span class="hs-identifier hs-var">CommitteeMemberResigned</span></a></span><span> </span><span class="annot"><span class="annottext">Decode 'Open (StrictMaybe Anchor -&gt; CommitteeAuthorization)
-&gt; Decode ('Closed Any) (StrictMaybe Anchor)
-&gt; Decode 'Open CommitteeAuthorization
forall a (w1 :: Wrapped) t (w :: Density).
Typeable a =&gt;
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Coders.html#%3C%21"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) (StrictMaybe Anchor)
forall t (w :: Wrapped). DecCBOR t =&gt; Decode w t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Coders.html#From"><span class="hs-identifier hs-var">From</span></a></span><span>
</span><span id="line-294"></span><span>      </span><span id="local-6989586621679467316"><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679467316"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word -&gt; Decode 'Open CommitteeAuthorization
forall (w :: Wrapped) t. Word -&gt; Decode w t
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Coders.html#Invalid"><span class="hs-identifier hs-var">Invalid</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679467316"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-295"></span><span>
</span><span id="line-296"></span><span class="hs-keyword">newtype</span><span> </span><span id="CommitteeState"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CommitteeState"><span class="hs-identifier hs-var">CommitteeState</span></a></span></span><span> </span><span id="local-6989586621679465758"><span class="annot"><a href="#local-6989586621679465758"><span class="hs-identifier hs-type">era</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="CommitteeState"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CommitteeState"><span class="hs-identifier hs-var">CommitteeState</span></a></span></span><span>
</span><span id="line-297"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="csCommitteeCreds"><span class="annot"><span class="annottext">forall era.
CommitteeState era
-&gt; Map (Credential 'ColdCommitteeRole) CommitteeAuthorization
</span><a href="Cardano.Ledger.State.CertState.html#csCommitteeCreds"><span class="hs-identifier hs-var hs-var">csCommitteeCreds</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Ledger.Keys.Internal.html#ColdCommitteeRole"><span class="hs-identifier hs-type">ColdCommitteeRole</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CommitteeAuthorization"><span class="hs-identifier hs-type">CommitteeAuthorization</span></a></span><span>
</span><span id="line-298"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-299"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679467321"><span id="local-6989586621679467327"><span class="annot"><span class="annottext">CommitteeState era -&gt; CommitteeState era -&gt; Bool
(CommitteeState era -&gt; CommitteeState era -&gt; Bool)
-&gt; (CommitteeState era -&gt; CommitteeState era -&gt; Bool)
-&gt; Eq (CommitteeState era)
forall era. CommitteeState era -&gt; CommitteeState era -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: forall era. CommitteeState era -&gt; CommitteeState era -&gt; Bool
== :: CommitteeState era -&gt; CommitteeState era -&gt; Bool
$c/= :: forall era. CommitteeState era -&gt; CommitteeState era -&gt; Bool
/= :: CommitteeState era -&gt; CommitteeState era -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679467336"><span id="local-6989586621679467343"><span id="local-6989586621679467349"><span id="local-6989586621679467355"><span id="local-6989586621679467361"><span id="local-6989586621679467367"><span id="local-6989586621679467373"><span class="annot"><span class="annottext">Eq (CommitteeState era)
Eq (CommitteeState era) =&gt;
(CommitteeState era -&gt; CommitteeState era -&gt; Ordering)
-&gt; (CommitteeState era -&gt; CommitteeState era -&gt; Bool)
-&gt; (CommitteeState era -&gt; CommitteeState era -&gt; Bool)
-&gt; (CommitteeState era -&gt; CommitteeState era -&gt; Bool)
-&gt; (CommitteeState era -&gt; CommitteeState era -&gt; Bool)
-&gt; (CommitteeState era -&gt; CommitteeState era -&gt; CommitteeState era)
-&gt; (CommitteeState era -&gt; CommitteeState era -&gt; CommitteeState era)
-&gt; Ord (CommitteeState era)
CommitteeState era -&gt; CommitteeState era -&gt; Bool
CommitteeState era -&gt; CommitteeState era -&gt; Ordering
CommitteeState era -&gt; CommitteeState era -&gt; CommitteeState era
forall era. Eq (CommitteeState era)
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
forall era. CommitteeState era -&gt; CommitteeState era -&gt; Bool
forall era. CommitteeState era -&gt; CommitteeState era -&gt; Ordering
forall era.
CommitteeState era -&gt; CommitteeState era -&gt; CommitteeState era
$ccompare :: forall era. CommitteeState era -&gt; CommitteeState era -&gt; Ordering
compare :: CommitteeState era -&gt; CommitteeState era -&gt; Ordering
$c&lt; :: forall era. CommitteeState era -&gt; CommitteeState era -&gt; Bool
&lt; :: CommitteeState era -&gt; CommitteeState era -&gt; Bool
$c&lt;= :: forall era. CommitteeState era -&gt; CommitteeState era -&gt; Bool
&lt;= :: CommitteeState era -&gt; CommitteeState era -&gt; Bool
$c&gt; :: forall era. CommitteeState era -&gt; CommitteeState era -&gt; Bool
&gt; :: CommitteeState era -&gt; CommitteeState era -&gt; Bool
$c&gt;= :: forall era. CommitteeState era -&gt; CommitteeState era -&gt; Bool
&gt;= :: CommitteeState era -&gt; CommitteeState era -&gt; Bool
$cmax :: forall era.
CommitteeState era -&gt; CommitteeState era -&gt; CommitteeState era
max :: CommitteeState era -&gt; CommitteeState era -&gt; CommitteeState era
$cmin :: forall era.
CommitteeState era -&gt; CommitteeState era -&gt; CommitteeState era
min :: CommitteeState era -&gt; CommitteeState era -&gt; CommitteeState era
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679467380"><span id="local-6989586621679467386"><span id="local-6989586621679467390"><span class="annot"><span class="annottext">Int -&gt; CommitteeState era -&gt; ShowS
[CommitteeState era] -&gt; ShowS
CommitteeState era -&gt; String
(Int -&gt; CommitteeState era -&gt; ShowS)
-&gt; (CommitteeState era -&gt; String)
-&gt; ([CommitteeState era] -&gt; ShowS)
-&gt; Show (CommitteeState era)
forall era. Int -&gt; CommitteeState era -&gt; ShowS
forall era. [CommitteeState era] -&gt; ShowS
forall era. CommitteeState era -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: forall era. Int -&gt; CommitteeState era -&gt; ShowS
showsPrec :: Int -&gt; CommitteeState era -&gt; ShowS
$cshow :: forall era. CommitteeState era -&gt; String
show :: CommitteeState era -&gt; String
$cshowList :: forall era. [CommitteeState era] -&gt; ShowS
showList :: [CommitteeState era] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679467393"><span id="local-6989586621679467395"><span class="annot"><span class="annottext">(forall x. CommitteeState era -&gt; Rep (CommitteeState era) x)
-&gt; (forall x. Rep (CommitteeState era) x -&gt; CommitteeState era)
-&gt; Generic (CommitteeState era)
forall x. Rep (CommitteeState era) x -&gt; CommitteeState era
forall x. CommitteeState era -&gt; Rep (CommitteeState era) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall era x. Rep (CommitteeState era) x -&gt; CommitteeState era
forall era x. CommitteeState era -&gt; Rep (CommitteeState era) x
$cfrom :: forall era x. CommitteeState era -&gt; Rep (CommitteeState era) x
from :: forall x. CommitteeState era -&gt; Rep (CommitteeState era) x
$cto :: forall era x. Rep (CommitteeState era) x -&gt; CommitteeState era
to :: forall x. Rep (CommitteeState era) x -&gt; CommitteeState era
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679467402"><span id="local-6989586621679467411"><span id="local-6989586621679467420"><span class="annot"><span class="annottext">Typeable (CommitteeState era)
Typeable (CommitteeState era) =&gt;
(CommitteeState era -&gt; Encoding)
-&gt; ((forall t. EncCBOR t =&gt; Proxy t -&gt; Size)
    -&gt; Proxy (CommitteeState era) -&gt; Size)
-&gt; ((forall t. EncCBOR t =&gt; Proxy t -&gt; Size)
    -&gt; Proxy [CommitteeState era] -&gt; Size)
-&gt; EncCBOR (CommitteeState era)
CommitteeState era -&gt; Encoding
(forall t. EncCBOR t =&gt; Proxy t -&gt; Size)
-&gt; Proxy [CommitteeState era] -&gt; Size
(forall t. EncCBOR t =&gt; Proxy t -&gt; Size)
-&gt; Proxy (CommitteeState era) -&gt; Size
forall era. Typeable era =&gt; Typeable (CommitteeState era)
forall era. Typeable era =&gt; CommitteeState era -&gt; Encoding
forall a.
Typeable a =&gt;
(a -&gt; Encoding)
-&gt; ((forall t. EncCBOR t =&gt; Proxy t -&gt; Size) -&gt; Proxy a -&gt; Size)
-&gt; ((forall t. EncCBOR t =&gt; Proxy t -&gt; Size) -&gt; Proxy [a] -&gt; Size)
-&gt; EncCBOR a
forall era.
Typeable era =&gt;
(forall t. EncCBOR t =&gt; Proxy t -&gt; Size)
-&gt; Proxy [CommitteeState era] -&gt; Size
forall era.
Typeable era =&gt;
(forall t. EncCBOR t =&gt; Proxy t -&gt; Size)
-&gt; Proxy (CommitteeState era) -&gt; Size
$cencCBOR :: forall era. Typeable era =&gt; CommitteeState era -&gt; Encoding
encCBOR :: CommitteeState era -&gt; Encoding
$cencodedSizeExpr :: forall era.
Typeable era =&gt;
(forall t. EncCBOR t =&gt; Proxy t -&gt; Size)
-&gt; Proxy (CommitteeState era) -&gt; Size
encodedSizeExpr :: (forall t. EncCBOR t =&gt; Proxy t -&gt; Size)
-&gt; Proxy (CommitteeState era) -&gt; Size
$cencodedListSizeExpr :: forall era.
Typeable era =&gt;
(forall t. EncCBOR t =&gt; Proxy t -&gt; Size)
-&gt; Proxy [CommitteeState era] -&gt; Size
encodedListSizeExpr :: (forall t. EncCBOR t =&gt; Proxy t -&gt; Size)
-&gt; Proxy [CommitteeState era] -&gt; Size
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#EncCBOR"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">EncCBOR</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679467431"><span class="annot"><span class="annottext">CommitteeState era -&gt; ()
(CommitteeState era -&gt; ()) -&gt; NFData (CommitteeState era)
forall era. CommitteeState era -&gt; ()
forall a. (a -&gt; ()) -&gt; NFData a
$crnf :: forall era. CommitteeState era -&gt; ()
rnf :: CommitteeState era -&gt; ()
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">NFData</span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679467438"><span class="annot"><span class="annottext">CommitteeState era
CommitteeState era -&gt; Default (CommitteeState era)
forall era. CommitteeState era
forall a. a -&gt; Default a
$cdef :: forall era. CommitteeState era
def :: CommitteeState era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-default-0.8.0.1-9291b190c5bc542cf17f99ce44e9365d143d76b9889465ad3d362701e6cc609e/share/doc/html/src/Data.Default.Internal.html#Default"><span class="hs-identifier hs-var hs-var hs-var hs-var">Default</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679467445"><span id="local-6989586621679467451"><span id="local-6989586621679467457"><span class="annot"><span class="annottext">Context -&gt; CommitteeState era -&gt; IO (Maybe ThunkInfo)
Proxy (CommitteeState era) -&gt; String
(Context -&gt; CommitteeState era -&gt; IO (Maybe ThunkInfo))
-&gt; (Context -&gt; CommitteeState era -&gt; IO (Maybe ThunkInfo))
-&gt; (Proxy (CommitteeState era) -&gt; String)
-&gt; NoThunks (CommitteeState era)
forall era. Context -&gt; CommitteeState era -&gt; IO (Maybe ThunkInfo)
forall era. Proxy (CommitteeState era) -&gt; String
forall a.
(Context -&gt; a -&gt; IO (Maybe ThunkInfo))
-&gt; (Context -&gt; a -&gt; IO (Maybe ThunkInfo))
-&gt; (Proxy a -&gt; String)
-&gt; NoThunks a
$cnoThunks :: forall era. Context -&gt; CommitteeState era -&gt; IO (Maybe ThunkInfo)
noThunks :: Context -&gt; CommitteeState era -&gt; IO (Maybe ThunkInfo)
$cwNoThunks :: forall era. Context -&gt; CommitteeState era -&gt; IO (Maybe ThunkInfo)
wNoThunks :: Context -&gt; CommitteeState era -&gt; IO (Maybe ThunkInfo)
$cshowTypeOf :: forall era. Proxy (CommitteeState era) -&gt; String
showTypeOf :: Proxy (CommitteeState era) -&gt; String
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/nothunks-0.2.1.1-0663c3283fb5dee9e67d41860072fab0227b6d69ef882303baddf309058f8618/share/doc/html/src/NoThunks.Class.html#NoThunks"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">NoThunks</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-300"></span><span>
</span><span id="line-301"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679465822"><span id="local-6989586621679467464"><span id="local-6989586621679467471"><span id="local-6989586621679467474"><span id="local-6989586621679467477"><span id="local-6989586621679467480"><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#ToJSON"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CommitteeState"><span class="hs-identifier hs-type">CommitteeState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465822"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-302"></span><span>
</span><span id="line-303"></span><span class="hs-comment">-- | Extract all unique hot credential authorizations for the current committee.  Note</span><span>
</span><span id="line-304"></span><span class="hs-comment">-- that there is no unique mapping from Hot to Cold credential, therefore we produce a</span><span>
</span><span id="line-305"></span><span class="hs-comment">-- Set, instead of a Map.</span><span>
</span><span id="line-306"></span><span id="local-6989586621679465823"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#authorizedHotCommitteeCredentials"><span class="hs-identifier hs-type">authorizedHotCommitteeCredentials</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CommitteeState"><span class="hs-identifier hs-type">CommitteeState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465823"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Set.Set</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Ledger.Keys.Internal.html#HotCommitteeRole"><span class="hs-identifier hs-type">HotCommitteeRole</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-307"></span><span id="authorizedHotCommitteeCredentials"><span class="annot"><span class="annottext">authorizedHotCommitteeCredentials :: forall era.
CommitteeState era -&gt; Set (Credential 'HotCommitteeRole)
</span><a href="Cardano.Ledger.State.CertState.html#authorizedHotCommitteeCredentials"><span class="hs-identifier hs-var hs-var">authorizedHotCommitteeCredentials</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CommitteeState"><span class="hs-identifier hs-type">CommitteeState</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621679467541"><span class="annot"><span class="annottext">Map (Credential 'ColdCommitteeRole) CommitteeAuthorization
csCommitteeCreds :: forall era.
CommitteeState era
-&gt; Map (Credential 'ColdCommitteeRole) CommitteeAuthorization
csCommitteeCreds :: Map (Credential 'ColdCommitteeRole) CommitteeAuthorization
</span><a href="Cardano.Ledger.State.CertState.html#csCommitteeCreds"><span class="hs-identifier hs-var hs-var">csCommitteeCreds</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-308"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679467543"><span class="annot"><span class="annottext">toHotCredSet :: Set (Credential 'HotCommitteeRole)
-&gt; CommitteeAuthorization -&gt; Set (Credential 'HotCommitteeRole)
</span><a href="#local-6989586621679467543"><span class="hs-identifier hs-var hs-var">toHotCredSet</span></a></span></span><span> </span><span id="local-6989586621679467544"><span class="annot"><span class="annottext">Set (Credential 'HotCommitteeRole)
</span><a href="#local-6989586621679467544"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-309"></span><span>        </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CommitteeHotCredential"><span class="hs-identifier hs-type">CommitteeHotCredential</span></a></span><span> </span><span id="local-6989586621679467545"><span class="annot"><span class="annottext">Credential 'HotCommitteeRole
</span><a href="#local-6989586621679467545"><span class="hs-identifier hs-var">hotCred</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Credential 'HotCommitteeRole
-&gt; Set (Credential 'HotCommitteeRole)
-&gt; Set (Credential 'HotCommitteeRole)
forall a. Ord a =&gt; a -&gt; Set a -&gt; Set a
</span><span class="hs-identifier hs-var">Set.insert</span></span><span> </span><span class="annot"><span class="annottext">Credential 'HotCommitteeRole
</span><a href="#local-6989586621679467545"><span class="hs-identifier hs-var">hotCred</span></a></span><span> </span><span class="annot"><span class="annottext">Set (Credential 'HotCommitteeRole)
</span><a href="#local-6989586621679467544"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-310"></span><span>        </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CommitteeMemberResigned"><span class="hs-identifier hs-type">CommitteeMemberResigned</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Set (Credential 'HotCommitteeRole)
</span><a href="#local-6989586621679467544"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-311"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(Set (Credential 'HotCommitteeRole)
 -&gt; CommitteeAuthorization -&gt; Set (Credential 'HotCommitteeRole))
-&gt; Set (Credential 'HotCommitteeRole)
-&gt; Map (Credential 'ColdCommitteeRole) CommitteeAuthorization
-&gt; Set (Credential 'HotCommitteeRole)
forall b a.
(b -&gt; a -&gt; b) -&gt; b -&gt; Map (Credential 'ColdCommitteeRole) a -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">F.foldl'</span></span><span> </span><span class="annot"><span class="annottext">Set (Credential 'HotCommitteeRole)
-&gt; CommitteeAuthorization -&gt; Set (Credential 'HotCommitteeRole)
</span><a href="#local-6989586621679467543"><span class="hs-identifier hs-var">toHotCredSet</span></a></span><span> </span><span class="annot"><span class="annottext">Set (Credential 'HotCommitteeRole)
forall a. Set a
</span><span class="hs-identifier hs-var">Set.empty</span></span><span> </span><span class="annot"><span class="annottext">Map (Credential 'ColdCommitteeRole) CommitteeAuthorization
</span><a href="#local-6989586621679467541"><span class="hs-identifier hs-var">csCommitteeCreds</span></a></span><span>
</span><span id="line-312"></span><span>
</span><span id="line-313"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679465833"><span id="local-6989586621679467556"><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#Era"><span class="hs-identifier hs-type">Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465833"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#DecShareCBOR"><span class="hs-identifier hs-type">DecShareCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CommitteeState"><span class="hs-identifier hs-type">CommitteeState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465833"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-314"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="Share"><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#Share"><span class="hs-identifier hs-var">Share</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CommitteeState"><span class="hs-identifier hs-type">CommitteeState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465833"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#Interns"><span class="hs-identifier hs-type">Interns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Ledger.Keys.Internal.html#HotCommitteeRole"><span class="hs-identifier hs-type">HotCommitteeRole</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-315"></span><span>  </span><span id="local-6989586621679467560"><span class="annot"><span class="annottext">getShare :: CommitteeState era -&gt; Share (CommitteeState era)
</span><a href="#local-6989586621679467560"><span class="hs-identifier hs-var hs-var hs-var hs-var">getShare</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set (Credential 'HotCommitteeRole)
-&gt; Interns (Credential 'HotCommitteeRole)
forall k. Ord k =&gt; Set k -&gt; Interns k
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#internsFromSet"><span class="hs-identifier hs-var">internsFromSet</span></a></span><span> </span><span class="annot"><span class="annottext">(Set (Credential 'HotCommitteeRole)
 -&gt; Interns (Credential 'HotCommitteeRole))
-&gt; (CommitteeState era -&gt; Set (Credential 'HotCommitteeRole))
-&gt; CommitteeState era
-&gt; Interns (Credential 'HotCommitteeRole)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">CommitteeState era -&gt; Set (Credential 'HotCommitteeRole)
forall era.
CommitteeState era -&gt; Set (Credential 'HotCommitteeRole)
</span><a href="Cardano.Ledger.State.CertState.html#authorizedHotCommitteeCredentials"><span class="hs-identifier hs-var">authorizedHotCommitteeCredentials</span></a></span><span>
</span><span id="line-316"></span><span>  </span><span id="local-6989586621679467568"><span class="annot"><span class="annottext">decShareCBOR :: forall s.
Share (CommitteeState era) -&gt; Decoder s (CommitteeState era)
</span><a href="#local-6989586621679467568"><span class="hs-identifier hs-var hs-var hs-var hs-var">decShareCBOR</span></a></span></span><span> </span><span class="annot"><span class="annottext">Share (CommitteeState era)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map (Credential 'ColdCommitteeRole) CommitteeAuthorization
-&gt; CommitteeState era
forall era.
Map (Credential 'ColdCommitteeRole) CommitteeAuthorization
-&gt; CommitteeState era
</span><a href="Cardano.Ledger.State.CertState.html#CommitteeState"><span class="hs-identifier hs-var">CommitteeState</span></a></span><span> </span><span class="annot"><span class="annottext">(Map (Credential 'ColdCommitteeRole) CommitteeAuthorization
 -&gt; CommitteeState era)
-&gt; Decoder
     s (Map (Credential 'ColdCommitteeRole) CommitteeAuthorization)
-&gt; Decoder s (CommitteeState era)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Decoder
  s (Map (Credential 'ColdCommitteeRole) CommitteeAuthorization)
forall s.
Decoder
  s (Map (Credential 'ColdCommitteeRole) CommitteeAuthorization)
forall a s. DecCBOR a =&gt; Decoder s a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#decCBOR"><span class="hs-identifier hs-var">decCBOR</span></a></span><span>
</span><span id="line-317"></span><span>
</span><span id="line-318"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679465837"><span id="local-6989586621679467577"><span id="local-6989586621679467581"><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#Era"><span class="hs-identifier hs-type">Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465837"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#DecCBOR"><span class="hs-identifier hs-type">DecCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CommitteeState"><span class="hs-identifier hs-type">CommitteeState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465837"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-319"></span><span>  </span><span id="local-6989586621679467584"><span class="annot"><span class="annottext">decCBOR :: forall s. Decoder s (CommitteeState era)
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#decCBOR"><span class="hs-identifier hs-var hs-var hs-var hs-var">decCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Decoder s (CommitteeState era)
forall a s. DecShareCBOR a =&gt; Decoder s a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#decNoShareCBOR"><span class="hs-identifier hs-var">decNoShareCBOR</span></a></span><span>
</span><span id="line-320"></span><span>
</span><span id="line-321"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679465844"><span id="local-6989586621679467592"><span id="local-6989586621679467596"><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-core-1.19.0.0/l/internal/doc/html/cardano-ledger-core/src/Cardano.Ledger.Internal.Definition.Era.html#Era"><span class="hs-identifier hs-type">Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465844"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-binary-1.7.2.0-a8823886ffd0b2d51904ce75fd27e0a08a953fdc80b3ee2bc40708ca6dbab289/share/doc/html/src/Cardano.Binary.ToCBOR.html#ToCBOR"><span class="hs-identifier hs-type">ToCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CommitteeState"><span class="hs-identifier hs-type">CommitteeState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465844"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-322"></span><span>  </span><span id="local-6989586621679467601"><span class="annot"><span class="annottext">toCBOR :: CommitteeState era -&gt; Encoding
</span><a href="#local-6989586621679467601"><span class="hs-identifier hs-var hs-var hs-var hs-var">toCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall era t. (Era era, EncCBOR t) =&gt; t -&gt; Encoding
</span><a href="Cardano.Ledger.Core.Era.html#toEraCBOR"><span class="hs-identifier hs-var">toEraCBOR</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679465844"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-323"></span><span>
</span><span id="line-324"></span><span class="hs-comment">-- | The state associated with the DELPL rule, which combines the DELEG rule</span><span>
</span><span id="line-325"></span><span class="hs-comment">-- and the POOL rule.</span><span>
</span><span id="line-326"></span><span class="hs-keyword">class</span><span>
</span><span id="line-327"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cardano.Ledger.State.Account.html#EraAccounts"><span class="hs-identifier hs-type">EraAccounts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465847"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-328"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#ToJSON"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CertState"><span class="hs-identifier hs-type">CertState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465847"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-329"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#EncCBOR"><span class="hs-identifier hs-type">EncCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CertState"><span class="hs-identifier hs-type">CertState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465847"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-330"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#DecShareCBOR"><span class="hs-identifier hs-type">DecShareCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CertState"><span class="hs-identifier hs-type">CertState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465847"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-331"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#Share"><span class="hs-identifier hs-type">Share</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CertState"><span class="hs-identifier hs-type">CertState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465847"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-332"></span><span>      </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#Interns"><span class="hs-identifier hs-type">Interns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Ledger.Keys.Internal.html#Staking"><span class="hs-identifier hs-type">Staking</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-333"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#Interns"><span class="hs-identifier hs-type">Interns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Hashes.html#KeyHash"><span class="hs-identifier hs-type">KeyHash</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Ledger.Keys.Internal.html#StakePool"><span class="hs-identifier hs-type">StakePool</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-334"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#Interns"><span class="hs-identifier hs-type">Interns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Ledger.Keys.Internal.html#DRepRole"><span class="hs-identifier hs-type">DRepRole</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-335"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#Interns"><span class="hs-identifier hs-type">Interns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Ledger.Keys.Internal.html#HotCommitteeRole"><span class="hs-identifier hs-type">HotCommitteeRole</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-336"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-337"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-default-0.8.0.1-9291b190c5bc542cf17f99ce44e9365d143d76b9889465ad3d362701e6cc609e/share/doc/html/src/Data.Default.Internal.html#Default"><span class="hs-identifier hs-type">Default</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CertState"><span class="hs-identifier hs-type">CertState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465847"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-338"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/nothunks-0.2.1.1-0663c3283fb5dee9e67d41860072fab0227b6d69ef882303baddf309058f8618/share/doc/html/src/NoThunks.Class.html#NoThunks"><span class="hs-identifier hs-type">NoThunks</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CertState"><span class="hs-identifier hs-type">CertState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465847"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-339"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NFData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CertState"><span class="hs-identifier hs-type">CertState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465847"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-340"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CertState"><span class="hs-identifier hs-type">CertState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465847"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-341"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CertState"><span class="hs-identifier hs-type">CertState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465847"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-342"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-343"></span><span>  </span><span id="EraCertState"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#EraCertState"><span class="hs-identifier hs-var">EraCertState</span></a></span></span><span> </span><span id="local-6989586621679465847"><span class="annot"><a href="#local-6989586621679465847"><span class="hs-identifier hs-type">era</span></a></span></span><span>
</span><span id="line-344"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-345"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="CertState"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CertState"><span class="hs-identifier hs-var">CertState</span></a></span></span><span> </span><span id="local-6989586621679465847"><span class="annot"><a href="#local-6989586621679465847"><span class="hs-identifier hs-type">era</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679467614"><span class="annot"><a href="#local-6989586621679467614"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679467614"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679465847"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-346"></span><span>
</span><span id="line-347"></span><span>  </span><span id="certDStateL"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#certDStateL"><span class="hs-identifier hs-type">certDStateL</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Type.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CertState"><span class="hs-identifier hs-type">CertState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465847"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#DState"><span class="hs-identifier hs-type">DState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465847"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-348"></span><span>
</span><span id="line-349"></span><span>  </span><span id="certPStateL"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#certPStateL"><span class="hs-identifier hs-type">certPStateL</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Type.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CertState"><span class="hs-identifier hs-type">CertState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465847"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#PState"><span class="hs-identifier hs-type">PState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465847"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-350"></span><span>
</span><span id="line-351"></span><span>  </span><span class="hs-comment">-- | Calculate total possible refunds in the system that are related to certificates</span><span>
</span><span id="line-352"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-353"></span><span>  </span><span class="hs-comment">-- There is an invariant that the sum of all the fields should be the same as the</span><span>
</span><span id="line-354"></span><span>  </span><span class="hs-comment">-- utxosDeposited field of the UTxOState. Note that this does not depend upon the current</span><span>
</span><span id="line-355"></span><span>  </span><span class="hs-comment">-- values of the Key and Pool deposits of the PParams.</span><span>
</span><span id="line-356"></span><span>  </span><span id="obligationCertState"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#obligationCertState"><span class="hs-identifier hs-type">obligationCertState</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CertState"><span class="hs-identifier hs-type">CertState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465847"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#Obligations"><span class="hs-identifier hs-type">Obligations</span></a></span><span>
</span><span id="line-357"></span><span>
</span><span id="line-358"></span><span>  </span><span class="hs-comment">-- | Compute the total deposits from the Certs of a TxBody.</span><span>
</span><span id="line-359"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-360"></span><span>  </span><span class="hs-comment">-- This is the contribution of a TxBody towards the deposit pot (utxosDeposit field of</span><span>
</span><span id="line-361"></span><span>  </span><span class="hs-comment">-- the UTxOState) of the system</span><span>
</span><span id="line-362"></span><span>  </span><span id="certsTotalDepositsTxBody"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#certsTotalDepositsTxBody"><span class="hs-identifier hs-type">certsTotalDepositsTxBody</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Core.html#EraTxBody"><span class="hs-identifier hs-type">EraTxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465847"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Ledger.Core.PParams.html#PParams"><span class="hs-identifier hs-type">PParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465847"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CertState"><span class="hs-identifier hs-type">CertState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465847"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Ledger.Core.html#TxBody"><span class="hs-identifier hs-type">TxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465847"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span>
</span><span id="line-363"></span><span>
</span><span id="line-364"></span><span>  </span><span class="hs-comment">-- | Compute the total refunds from the Certs of a TxBody.</span><span>
</span><span id="line-365"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-366"></span><span>  </span><span class="hs-comment">-- This is the contribution of a TxBody towards the total 'Obligations' of the system</span><span>
</span><span id="line-367"></span><span>  </span><span class="hs-comment">-- See `Obligations` and `obligationCertState` for more information.</span><span>
</span><span id="line-368"></span><span>  </span><span id="certsTotalRefundsTxBody"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#certsTotalRefundsTxBody"><span class="hs-identifier hs-type">certsTotalRefundsTxBody</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Core.html#EraTxBody"><span class="hs-identifier hs-type">EraTxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465847"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Ledger.Core.PParams.html#PParams"><span class="hs-identifier hs-type">PParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465847"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#CertState"><span class="hs-identifier hs-type">CertState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465847"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Ledger.Core.html#TxBody"><span class="hs-identifier hs-type">TxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465847"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span>
</span><span id="line-369"></span><span>
</span><span id="line-370"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679467627"><span id="local-6989586621679467630"><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#EncCBOR"><span class="hs-identifier hs-type">EncCBOR</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#InstantaneousRewards"><span class="hs-identifier hs-type">InstantaneousRewards</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-371"></span><span>  </span><span id="local-6989586621679467646"><span class="annot"><span class="annottext">encCBOR :: InstantaneousRewards -&gt; Encoding
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#encCBOR"><span class="hs-identifier hs-var hs-var hs-var hs-var">encCBOR</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#InstantaneousRewards"><span class="hs-identifier hs-type">InstantaneousRewards</span></a></span><span> </span><span id="local-6989586621679467647"><span class="annot"><span class="annottext">Map (Credential 'Staking) Coin
</span><a href="#local-6989586621679467647"><span class="hs-identifier hs-var">irR</span></a></span></span><span> </span><span id="local-6989586621679467648"><span class="annot"><span class="annottext">Map (Credential 'Staking) Coin
</span><a href="#local-6989586621679467648"><span class="hs-identifier hs-var">irT</span></a></span></span><span> </span><span id="local-6989586621679467649"><span class="annot"><span class="annottext">DeltaCoin
</span><a href="#local-6989586621679467649"><span class="hs-identifier hs-var">dR</span></a></span></span><span> </span><span id="local-6989586621679467650"><span class="annot"><span class="annottext">DeltaCoin
</span><a href="#local-6989586621679467650"><span class="hs-identifier hs-var">dT</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-372"></span><span>    </span><span class="annot"><span class="annottext">Word -&gt; Encoding
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.Encoder.html#encodeListLen"><span class="hs-identifier hs-var">encodeListLen</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">4</span></span><span> </span><span class="annot"><span class="annottext">Encoding -&gt; Encoding -&gt; Encoding
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Map (Credential 'Staking) Coin -&gt; Encoding
forall a. EncCBOR a =&gt; a -&gt; Encoding
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#encCBOR"><span class="hs-identifier hs-var">encCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">Map (Credential 'Staking) Coin
</span><a href="#local-6989586621679467647"><span class="hs-identifier hs-var">irR</span></a></span><span> </span><span class="annot"><span class="annottext">Encoding -&gt; Encoding -&gt; Encoding
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Map (Credential 'Staking) Coin -&gt; Encoding
forall a. EncCBOR a =&gt; a -&gt; Encoding
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#encCBOR"><span class="hs-identifier hs-var">encCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">Map (Credential 'Staking) Coin
</span><a href="#local-6989586621679467648"><span class="hs-identifier hs-var">irT</span></a></span><span> </span><span class="annot"><span class="annottext">Encoding -&gt; Encoding -&gt; Encoding
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">DeltaCoin -&gt; Encoding
forall a. EncCBOR a =&gt; a -&gt; Encoding
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#encCBOR"><span class="hs-identifier hs-var">encCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">DeltaCoin
</span><a href="#local-6989586621679467649"><span class="hs-identifier hs-var">dR</span></a></span><span> </span><span class="annot"><span class="annottext">Encoding -&gt; Encoding -&gt; Encoding
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">DeltaCoin -&gt; Encoding
forall a. EncCBOR a =&gt; a -&gt; Encoding
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#encCBOR"><span class="hs-identifier hs-var">encCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">DeltaCoin
</span><a href="#local-6989586621679467650"><span class="hs-identifier hs-var">dT</span></a></span><span>
</span><span id="line-373"></span><span>
</span><span id="line-374"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679467655"><span id="local-6989586621679467658"><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#DecShareCBOR"><span class="hs-identifier hs-type">DecShareCBOR</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#InstantaneousRewards"><span class="hs-identifier hs-type">InstantaneousRewards</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-375"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="Share"><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#Share"><span class="hs-identifier hs-var">Share</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#InstantaneousRewards"><span class="hs-identifier hs-type">InstantaneousRewards</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#Interns"><span class="hs-identifier hs-type">Interns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Ledger.Keys.Internal.html#Staking"><span class="hs-identifier hs-type">Staking</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-376"></span><span>  </span><span id="local-6989586621679467688"><span class="annot"><span class="annottext">decSharePlusCBOR :: forall s.
StateT
  (Share InstantaneousRewards) (Decoder s) InstantaneousRewards
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#decSharePlusCBOR"><span class="hs-identifier hs-var hs-var hs-var hs-var">decSharePlusCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-377"></span><span>    </span><span class="annot"><span class="annottext">Text
-&gt; (InstantaneousRewards -&gt; Int)
-&gt; StateT
     (Share InstantaneousRewards) (Decoder s) InstantaneousRewards
-&gt; StateT
     (Share InstantaneousRewards) (Decoder s) InstantaneousRewards
forall (m :: (* -&gt; *) -&gt; * -&gt; *) s a.
(MonadTrans m, Monad (m (Decoder s))) =&gt;
Text -&gt; (a -&gt; Int) -&gt; m (Decoder s) a -&gt; m (Decoder s) a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Decoder.html#decodeRecordNamedT"><span class="hs-identifier hs-var">decodeRecordNamedT</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;InstantaneousRewards&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; InstantaneousRewards -&gt; Int
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(StateT
   (Share InstantaneousRewards) (Decoder s) InstantaneousRewards
 -&gt; StateT
      (Share InstantaneousRewards) (Decoder s) InstantaneousRewards)
-&gt; StateT
     (Share InstantaneousRewards) (Decoder s) InstantaneousRewards
-&gt; StateT
     (Share InstantaneousRewards) (Decoder s) InstantaneousRewards
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-378"></span><span>      </span><span id="local-6989586621679467689"><span class="annot"><span class="annottext">Map (Credential 'Staking) Coin
</span><a href="#local-6989586621679467689"><span class="hs-identifier hs-var">irR</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Lens'
  (Interns (Credential 'Staking))
  (Share (Map (Credential 'Staking) Coin))
-&gt; StateT
     (Interns (Credential 'Staking))
     (Decoder s)
     (Map (Credential 'Staking) Coin)
forall b bs s.
DecShareCBOR b =&gt;
Lens' bs (Share b) -&gt; StateT bs (Decoder s) b
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#decSharePlusLensCBOR"><span class="hs-identifier hs-var">decSharePlusLensCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Lens'
  (Interns (Credential 'Staking), Interns Coin)
  (Interns (Credential 'Staking))
-&gt; Lens'
     (Interns (Credential 'Staking)) (Interns (Credential 'Staking))
-&gt; Lens'
     (Interns (Credential 'Staking))
     (Interns (Credential 'Staking), Interns Coin)
forall a b c. Monoid a =&gt; Lens' a b -&gt; Lens' c b -&gt; Lens' c a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#toMemptyLens"><span class="hs-identifier hs-var">toMemptyLens</span></a></span><span> </span><span class="annot"><span class="annottext">(Interns (Credential 'Staking)
 -&gt; f (Interns (Credential 'Staking)))
-&gt; (Interns (Credential 'Staking), Interns Coin)
-&gt; f (Interns (Credential 'Staking), Interns Coin)
forall s t a b. Field1 s t a b =&gt; Lens s t a b
Lens'
  (Interns (Credential 'Staking), Interns Coin)
  (Interns (Credential 'Staking))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Internal.html#_1"><span class="hs-identifier hs-var">_1</span></a></span><span> </span><span class="annot"><span class="annottext">(Interns (Credential 'Staking)
 -&gt; f (Interns (Credential 'Staking)))
-&gt; Interns (Credential 'Staking)
-&gt; f (Interns (Credential 'Staking))
forall a. a -&gt; a
Lens'
  (Interns (Credential 'Staking)) (Interns (Credential 'Staking))
</span><span class="hs-identifier hs-var">id</span></span><span class="hs-special">)</span><span>
</span><span id="line-379"></span><span>      </span><span id="local-6989586621679467700"><span class="annot"><span class="annottext">Map (Credential 'Staking) Coin
</span><a href="#local-6989586621679467700"><span class="hs-identifier hs-var">irT</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Lens'
  (Interns (Credential 'Staking))
  (Share (Map (Credential 'Staking) Coin))
-&gt; StateT
     (Interns (Credential 'Staking))
     (Decoder s)
     (Map (Credential 'Staking) Coin)
forall b bs s.
DecShareCBOR b =&gt;
Lens' bs (Share b) -&gt; StateT bs (Decoder s) b
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#decSharePlusLensCBOR"><span class="hs-identifier hs-var">decSharePlusLensCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Lens'
  (Interns (Credential 'Staking), Interns Coin)
  (Interns (Credential 'Staking))
-&gt; Lens'
     (Interns (Credential 'Staking)) (Interns (Credential 'Staking))
-&gt; Lens'
     (Interns (Credential 'Staking))
     (Interns (Credential 'Staking), Interns Coin)
forall a b c. Monoid a =&gt; Lens' a b -&gt; Lens' c b -&gt; Lens' c a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Sharing.html#toMemptyLens"><span class="hs-identifier hs-var">toMemptyLens</span></a></span><span> </span><span class="annot"><span class="annottext">(Interns (Credential 'Staking)
 -&gt; f (Interns (Credential 'Staking)))
-&gt; (Interns (Credential 'Staking), Interns Coin)
-&gt; f (Interns (Credential 'Staking), Interns Coin)
forall s t a b. Field1 s t a b =&gt; Lens s t a b
Lens'
  (Interns (Credential 'Staking), Interns Coin)
  (Interns (Credential 'Staking))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Internal.html#_1"><span class="hs-identifier hs-var">_1</span></a></span><span> </span><span class="annot"><span class="annottext">(Interns (Credential 'Staking)
 -&gt; f (Interns (Credential 'Staking)))
-&gt; Interns (Credential 'Staking)
-&gt; f (Interns (Credential 'Staking))
forall a. a -&gt; a
Lens'
  (Interns (Credential 'Staking)) (Interns (Credential 'Staking))
</span><span class="hs-identifier hs-var">id</span></span><span class="hs-special">)</span><span>
</span><span id="line-380"></span><span>      </span><span id="local-6989586621679467710"><span class="annot"><span class="annottext">DeltaCoin
</span><a href="#local-6989586621679467710"><span class="hs-identifier hs-var">dR</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Decoder s DeltaCoin
-&gt; StateT (Interns (Credential 'Staking)) (Decoder s) DeltaCoin
forall (m :: * -&gt; *) a.
Monad m =&gt;
m a -&gt; StateT (Interns (Credential 'Staking)) m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">Decoder s DeltaCoin
forall s. Decoder s DeltaCoin
forall a s. DecCBOR a =&gt; Decoder s a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#decCBOR"><span class="hs-identifier hs-var">decCBOR</span></a></span><span>
</span><span id="line-381"></span><span>      </span><span id="local-6989586621679467711"><span class="annot"><span class="annottext">DeltaCoin
</span><a href="#local-6989586621679467711"><span class="hs-identifier hs-var">dT</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Decoder s DeltaCoin
-&gt; StateT (Interns (Credential 'Staking)) (Decoder s) DeltaCoin
forall (m :: * -&gt; *) a.
Monad m =&gt;
m a -&gt; StateT (Interns (Credential 'Staking)) m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">Decoder s DeltaCoin
forall s. Decoder s DeltaCoin
forall a s. DecCBOR a =&gt; Decoder s a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#decCBOR"><span class="hs-identifier hs-var">decCBOR</span></a></span><span>
</span><span id="line-382"></span><span>      </span><span class="annot"><span class="annottext">InstantaneousRewards
-&gt; StateT
     (Interns (Credential 'Staking)) (Decoder s) InstantaneousRewards
forall a. a -&gt; StateT (Interns (Credential 'Staking)) (Decoder s) a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(InstantaneousRewards
 -&gt; StateT
      (Interns (Credential 'Staking)) (Decoder s) InstantaneousRewards)
-&gt; InstantaneousRewards
-&gt; StateT
     (Interns (Credential 'Staking)) (Decoder s) InstantaneousRewards
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Map (Credential 'Staking) Coin
-&gt; Map (Credential 'Staking) Coin
-&gt; DeltaCoin
-&gt; DeltaCoin
-&gt; InstantaneousRewards
</span><a href="Cardano.Ledger.State.CertState.html#InstantaneousRewards"><span class="hs-identifier hs-var">InstantaneousRewards</span></a></span><span> </span><span class="annot"><span class="annottext">Map (Credential 'Staking) Coin
</span><a href="#local-6989586621679467689"><span class="hs-identifier hs-var">irR</span></a></span><span> </span><span class="annot"><span class="annottext">Map (Credential 'Staking) Coin
</span><a href="#local-6989586621679467700"><span class="hs-identifier hs-var">irT</span></a></span><span> </span><span class="annot"><span class="annottext">DeltaCoin
</span><a href="#local-6989586621679467710"><span class="hs-identifier hs-var">dR</span></a></span><span> </span><span class="annot"><span class="annottext">DeltaCoin
</span><a href="#local-6989586621679467711"><span class="hs-identifier hs-var">dT</span></a></span><span>
</span><span id="line-383"></span><span>
</span><span id="line-384"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-default-0.8.0.1-9291b190c5bc542cf17f99ce44e9365d143d76b9889465ad3d362701e6cc609e/share/doc/html/src/Data.Default.Internal.html#Default"><span class="hs-identifier hs-type">Default</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#InstantaneousRewards"><span class="hs-identifier hs-type">InstantaneousRewards</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-385"></span><span>  </span><span id="local-6989586621679467717"><span class="annot"><span class="annottext">def :: InstantaneousRewards
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-default-0.8.0.1-9291b190c5bc542cf17f99ce44e9365d143d76b9889465ad3d362701e6cc609e/share/doc/html/src/Data.Default.Internal.html#def"><span class="hs-identifier hs-var hs-var hs-var hs-var">def</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map (Credential 'Staking) Coin
-&gt; Map (Credential 'Staking) Coin
-&gt; DeltaCoin
-&gt; DeltaCoin
-&gt; InstantaneousRewards
</span><a href="Cardano.Ledger.State.CertState.html#InstantaneousRewards"><span class="hs-identifier hs-var">InstantaneousRewards</span></a></span><span> </span><span class="annot"><span class="annottext">Map (Credential 'Staking) Coin
forall k a. Map k a
</span><span class="hs-identifier hs-var">Map.empty</span></span><span> </span><span class="annot"><span class="annottext">Map (Credential 'Staking) Coin
forall k a. Map k a
</span><span class="hs-identifier hs-var">Map.empty</span></span><span> </span><span class="annot"><span class="annottext">DeltaCoin
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span> </span><span class="annot"><span class="annottext">DeltaCoin
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-386"></span><span>
</span><span id="line-387"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679465862"><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-default-0.8.0.1-9291b190c5bc542cf17f99ce44e9365d143d76b9889465ad3d362701e6cc609e/share/doc/html/src/Data.Default.Internal.html#Default"><span class="hs-identifier hs-type">Default</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.Account.html#Accounts"><span class="hs-identifier hs-type">Accounts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465862"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-default-0.8.0.1-9291b190c5bc542cf17f99ce44e9365d143d76b9889465ad3d362701e6cc609e/share/doc/html/src/Data.Default.Internal.html#Default"><span class="hs-identifier hs-type">Default</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#DState"><span class="hs-identifier hs-type">DState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465862"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-388"></span><span>  </span><span id="local-6989586621679467724"><span class="annot"><span class="annottext">def :: DState era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-default-0.8.0.1-9291b190c5bc542cf17f99ce44e9365d143d76b9889465ad3d362701e6cc609e/share/doc/html/src/Data.Default.Internal.html#def"><span class="hs-identifier hs-var hs-var hs-var hs-var">def</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Accounts era
-&gt; Map FutureGenDeleg GenDelegPair
-&gt; GenDelegs
-&gt; InstantaneousRewards
-&gt; DState era
forall era.
Accounts era
-&gt; Map FutureGenDeleg GenDelegPair
-&gt; GenDelegs
-&gt; InstantaneousRewards
-&gt; DState era
</span><a href="Cardano.Ledger.State.CertState.html#DState"><span class="hs-identifier hs-var">DState</span></a></span><span> </span><span class="annot"><span class="annottext">Accounts era
forall a. Default a =&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-default-0.8.0.1-9291b190c5bc542cf17f99ce44e9365d143d76b9889465ad3d362701e6cc609e/share/doc/html/src/Data.Default.Internal.html#def"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="annot"><span class="annottext">Map FutureGenDeleg GenDelegPair
forall k a. Map k a
</span><span class="hs-identifier hs-var">Map.empty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map (KeyHash 'Genesis) GenDelegPair -&gt; GenDelegs
</span><a href="Cardano.Ledger.Hashes.html#GenDelegs"><span class="hs-identifier hs-var">GenDelegs</span></a></span><span> </span><span class="annot"><span class="annottext">Map (KeyHash 'Genesis) GenDelegPair
forall k a. Map k a
</span><span class="hs-identifier hs-var">Map.empty</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">InstantaneousRewards
forall a. Default a =&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-default-0.8.0.1-9291b190c5bc542cf17f99ce44e9365d143d76b9889465ad3d362701e6cc609e/share/doc/html/src/Data.Default.Internal.html#def"><span class="hs-identifier hs-var">def</span></a></span><span>
</span><span id="line-389"></span><span>
</span><span id="line-390"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679465864"><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-default-0.8.0.1-9291b190c5bc542cf17f99ce44e9365d143d76b9889465ad3d362701e6cc609e/share/doc/html/src/Data.Default.Internal.html#Default"><span class="hs-identifier hs-type">Default</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#PState"><span class="hs-identifier hs-type">PState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465864"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-391"></span><span>  </span><span id="local-6989586621679467728"><span class="annot"><span class="annottext">def :: PState era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-default-0.8.0.1-9291b190c5bc542cf17f99ce44e9365d143d76b9889465ad3d362701e6cc609e/share/doc/html/src/Data.Default.Internal.html#def"><span class="hs-identifier hs-var hs-var hs-var hs-var">def</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map (VRFVerKeyHash 'StakePoolVRF) (NonZero Word64)
-&gt; Map (KeyHash 'StakePool) StakePoolState
-&gt; Map (KeyHash 'StakePool) StakePoolState
-&gt; Map (KeyHash 'StakePool) EpochNo
-&gt; PState era
forall era.
Map (VRFVerKeyHash 'StakePoolVRF) (NonZero Word64)
-&gt; Map (KeyHash 'StakePool) StakePoolState
-&gt; Map (KeyHash 'StakePool) StakePoolState
-&gt; Map (KeyHash 'StakePool) EpochNo
-&gt; PState era
</span><a href="Cardano.Ledger.State.CertState.html#PState"><span class="hs-identifier hs-var">PState</span></a></span><span> </span><span class="annot"><span class="annottext">Map (VRFVerKeyHash 'StakePoolVRF) (NonZero Word64)
forall k a. Map k a
</span><span class="hs-identifier hs-var">Map.empty</span></span><span> </span><span class="annot"><span class="annottext">Map (KeyHash 'StakePool) StakePoolState
forall k a. Map k a
</span><span class="hs-identifier hs-var">Map.empty</span></span><span> </span><span class="annot"><span class="annottext">Map (KeyHash 'StakePool) StakePoolState
forall k a. Map k a
</span><span class="hs-identifier hs-var">Map.empty</span></span><span> </span><span class="annot"><span class="annottext">Map (KeyHash 'StakePool) EpochNo
forall k a. Map k a
</span><span class="hs-identifier hs-var">Map.empty</span></span><span>
</span><span id="line-392"></span><span>
</span><span id="line-393"></span><span class="annot"><span class="hs-comment">-- | A composite of all the Deposits the system is obligated to eventually pay back.</span></span><span>
</span><span id="line-394"></span><span class="hs-keyword">data</span><span> </span><span id="Obligations"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#Obligations"><span class="hs-identifier hs-var">Obligations</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Obligations"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#Obligations"><span class="hs-identifier hs-var">Obligations</span></a></span></span><span>
</span><span id="line-395"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="oblStake"><span class="annot"><span class="annottext">Obligations -&gt; Coin
</span><a href="Cardano.Ledger.State.CertState.html#oblStake"><span class="hs-identifier hs-var hs-var">oblStake</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span>
</span><span id="line-396"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="oblPool"><span class="annot"><span class="annottext">Obligations -&gt; Coin
</span><a href="Cardano.Ledger.State.CertState.html#oblPool"><span class="hs-identifier hs-var hs-var">oblPool</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span>
</span><span id="line-397"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="oblDRep"><span class="annot"><span class="annottext">Obligations -&gt; Coin
</span><a href="Cardano.Ledger.State.CertState.html#oblDRep"><span class="hs-identifier hs-var hs-var">oblDRep</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span>
</span><span id="line-398"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="oblProposal"><span class="annot"><span class="annottext">Obligations -&gt; Coin
</span><a href="Cardano.Ledger.State.CertState.html#oblProposal"><span class="hs-identifier hs-var hs-var">oblProposal</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span>
</span><span id="line-399"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-400"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679467735"><span id="local-6989586621679467741"><span class="annot"><span class="annottext">Obligations -&gt; Obligations -&gt; Bool
(Obligations -&gt; Obligations -&gt; Bool)
-&gt; (Obligations -&gt; Obligations -&gt; Bool) -&gt; Eq Obligations
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Obligations -&gt; Obligations -&gt; Bool
== :: Obligations -&gt; Obligations -&gt; Bool
$c/= :: Obligations -&gt; Obligations -&gt; Bool
/= :: Obligations -&gt; Obligations -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679467747"><span id="local-6989586621679467754"><span id="local-6989586621679467760"><span id="local-6989586621679467764"><span id="local-6989586621679467767"><span id="local-6989586621679467770"><span id="local-6989586621679467773"><span class="annot"><span class="annottext">Eq Obligations
Eq Obligations =&gt;
(Obligations -&gt; Obligations -&gt; Ordering)
-&gt; (Obligations -&gt; Obligations -&gt; Bool)
-&gt; (Obligations -&gt; Obligations -&gt; Bool)
-&gt; (Obligations -&gt; Obligations -&gt; Bool)
-&gt; (Obligations -&gt; Obligations -&gt; Bool)
-&gt; (Obligations -&gt; Obligations -&gt; Obligations)
-&gt; (Obligations -&gt; Obligations -&gt; Obligations)
-&gt; Ord Obligations
Obligations -&gt; Obligations -&gt; Bool
Obligations -&gt; Obligations -&gt; Ordering
Obligations -&gt; Obligations -&gt; Obligations
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: Obligations -&gt; Obligations -&gt; Ordering
compare :: Obligations -&gt; Obligations -&gt; Ordering
$c&lt; :: Obligations -&gt; Obligations -&gt; Bool
&lt; :: Obligations -&gt; Obligations -&gt; Bool
$c&lt;= :: Obligations -&gt; Obligations -&gt; Bool
&lt;= :: Obligations -&gt; Obligations -&gt; Bool
$c&gt; :: Obligations -&gt; Obligations -&gt; Bool
&gt; :: Obligations -&gt; Obligations -&gt; Bool
$c&gt;= :: Obligations -&gt; Obligations -&gt; Bool
&gt;= :: Obligations -&gt; Obligations -&gt; Bool
$cmax :: Obligations -&gt; Obligations -&gt; Obligations
max :: Obligations -&gt; Obligations -&gt; Obligations
$cmin :: Obligations -&gt; Obligations -&gt; Obligations
min :: Obligations -&gt; Obligations -&gt; Obligations
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679467776"><span id="local-6989586621679467778"><span class="annot"><span class="annottext">(forall x. Obligations -&gt; Rep Obligations x)
-&gt; (forall x. Rep Obligations x -&gt; Obligations)
-&gt; Generic Obligations
forall x. Rep Obligations x -&gt; Obligations
forall x. Obligations -&gt; Rep Obligations x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. Obligations -&gt; Rep Obligations x
from :: forall x. Obligations -&gt; Rep Obligations x
$cto :: forall x. Rep Obligations x -&gt; Obligations
to :: forall x. Rep Obligations x -&gt; Obligations
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-401"></span><span>
</span><span id="line-402"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679467781"><span class="annot"><span class="hs-identifier hs-type">NFData</span></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#Obligations"><span class="hs-identifier hs-type">Obligations</span></a></span></span><span>
</span><span id="line-403"></span><span>
</span><span id="line-404"></span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#sumObligation"><span class="hs-identifier hs-type">sumObligation</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#Obligations"><span class="hs-identifier hs-type">Obligations</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span>
</span><span id="line-405"></span><span id="sumObligation"><span class="annot"><span class="annottext">sumObligation :: Obligations -&gt; Coin
</span><a href="Cardano.Ledger.State.CertState.html#sumObligation"><span class="hs-identifier hs-var hs-var">sumObligation</span></a></span></span><span> </span><span id="local-6989586621679467797"><span class="annot"><span class="annottext">Obligations
</span><a href="#local-6989586621679467797"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Obligations -&gt; Coin
</span><a href="Cardano.Ledger.State.CertState.html#oblStake"><span class="hs-identifier hs-var">oblStake</span></a></span><span> </span><span class="annot"><span class="annottext">Obligations
</span><a href="#local-6989586621679467797"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Coin -&gt; Coin -&gt; Coin
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Obligations -&gt; Coin
</span><a href="Cardano.Ledger.State.CertState.html#oblPool"><span class="hs-identifier hs-var">oblPool</span></a></span><span> </span><span class="annot"><span class="annottext">Obligations
</span><a href="#local-6989586621679467797"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Coin -&gt; Coin -&gt; Coin
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Obligations -&gt; Coin
</span><a href="Cardano.Ledger.State.CertState.html#oblDRep"><span class="hs-identifier hs-var">oblDRep</span></a></span><span> </span><span class="annot"><span class="annottext">Obligations
</span><a href="#local-6989586621679467797"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Coin -&gt; Coin -&gt; Coin
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Obligations -&gt; Coin
</span><a href="Cardano.Ledger.State.CertState.html#oblProposal"><span class="hs-identifier hs-var">oblProposal</span></a></span><span> </span><span class="annot"><span class="annottext">Obligations
</span><a href="#local-6989586621679467797"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-406"></span><span>
</span><span id="line-407"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679467800"><span id="local-6989586621679467804"><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#Obligations"><span class="hs-identifier hs-type">Obligations</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-408"></span><span>  </span><span id="local-6989586621679467813"><span class="annot"><span class="annottext">Obligations
</span><a href="#local-6989586621679467813"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679467814"><span class="annot"><span class="annottext">&lt;&gt; :: Obligations -&gt; Obligations -&gt; Obligations
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;&gt;</span></span></span><span> </span><span id="local-6989586621679467815"><span class="annot"><span class="annottext">Obligations
</span><a href="#local-6989586621679467815"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-409"></span><span>    </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#Obligations"><span class="hs-identifier hs-type">Obligations</span></a></span><span>
</span><span id="line-410"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">oblStake :: Coin
</span><a href="Cardano.Ledger.State.CertState.html#oblStake"><span class="hs-identifier hs-var">oblStake</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Obligations -&gt; Coin
</span><a href="Cardano.Ledger.State.CertState.html#oblStake"><span class="hs-identifier hs-var">oblStake</span></a></span><span> </span><span class="annot"><span class="annottext">Obligations
</span><a href="#local-6989586621679467813"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Coin -&gt; Coin -&gt; Coin
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Obligations -&gt; Coin
</span><a href="Cardano.Ledger.State.CertState.html#oblStake"><span class="hs-identifier hs-var">oblStake</span></a></span><span> </span><span class="annot"><span class="annottext">Obligations
</span><a href="#local-6989586621679467815"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-411"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">oblPool :: Coin
</span><a href="Cardano.Ledger.State.CertState.html#oblPool"><span class="hs-identifier hs-var">oblPool</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Obligations -&gt; Coin
</span><a href="Cardano.Ledger.State.CertState.html#oblPool"><span class="hs-identifier hs-var">oblPool</span></a></span><span> </span><span class="annot"><span class="annottext">Obligations
</span><a href="#local-6989586621679467813"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Coin -&gt; Coin -&gt; Coin
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Obligations -&gt; Coin
</span><a href="Cardano.Ledger.State.CertState.html#oblPool"><span class="hs-identifier hs-var">oblPool</span></a></span><span> </span><span class="annot"><span class="annottext">Obligations
</span><a href="#local-6989586621679467815"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-412"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">oblDRep :: Coin
</span><a href="Cardano.Ledger.State.CertState.html#oblDRep"><span class="hs-identifier hs-var">oblDRep</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Obligations -&gt; Coin
</span><a href="Cardano.Ledger.State.CertState.html#oblDRep"><span class="hs-identifier hs-var">oblDRep</span></a></span><span> </span><span class="annot"><span class="annottext">Obligations
</span><a href="#local-6989586621679467813"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Coin -&gt; Coin -&gt; Coin
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Obligations -&gt; Coin
</span><a href="Cardano.Ledger.State.CertState.html#oblDRep"><span class="hs-identifier hs-var">oblDRep</span></a></span><span> </span><span class="annot"><span class="annottext">Obligations
</span><a href="#local-6989586621679467815"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-413"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">oblProposal :: Coin
</span><a href="Cardano.Ledger.State.CertState.html#oblProposal"><span class="hs-identifier hs-var">oblProposal</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Obligations -&gt; Coin
</span><a href="Cardano.Ledger.State.CertState.html#oblProposal"><span class="hs-identifier hs-var">oblProposal</span></a></span><span> </span><span class="annot"><span class="annottext">Obligations
</span><a href="#local-6989586621679467813"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Coin -&gt; Coin -&gt; Coin
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Obligations -&gt; Coin
</span><a href="Cardano.Ledger.State.CertState.html#oblProposal"><span class="hs-identifier hs-var">oblProposal</span></a></span><span> </span><span class="annot"><span class="annottext">Obligations
</span><a href="#local-6989586621679467815"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-414"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-415"></span><span>
</span><span id="line-416"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679467820"><span id="local-6989586621679467824"><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#Obligations"><span class="hs-identifier hs-type">Obligations</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-417"></span><span>  </span><span id="local-6989586621679467827"><span class="annot"><span class="annottext">mempty :: Obligations
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">mempty</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#Obligations"><span class="hs-identifier hs-type">Obligations</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">oblStake :: Coin
</span><a href="Cardano.Ledger.State.CertState.html#oblStake"><span class="hs-identifier hs-var">oblStake</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Coin
</span><a href="Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-var">Coin</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">oblPool :: Coin
</span><a href="Cardano.Ledger.State.CertState.html#oblPool"><span class="hs-identifier hs-var">oblPool</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Coin
</span><a href="Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-var">Coin</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">oblDRep :: Coin
</span><a href="Cardano.Ledger.State.CertState.html#oblDRep"><span class="hs-identifier hs-var">oblDRep</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Coin
</span><a href="Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-var">Coin</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">oblProposal :: Coin
</span><a href="Cardano.Ledger.State.CertState.html#oblProposal"><span class="hs-identifier hs-var">oblProposal</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Coin
</span><a href="Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-var">Coin</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span class="hs-special">}</span><span>
</span><span id="line-418"></span><span>
</span><span id="line-419"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679467830"><span id="local-6989586621679467835"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#Obligations"><span class="hs-identifier hs-type">Obligations</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-420"></span><span>  </span><span id="local-6989586621679467849"><span class="annot"><span class="annottext">show :: Obligations -&gt; String
</span><a href="#local-6989586621679467849"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span id="local-6989586621679467851"><span class="annot"><span class="annottext">Obligations
</span><a href="#local-6989586621679467851"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-421"></span><span>    </span><span class="annot"><span class="annottext">Context -&gt; String
</span><span class="hs-identifier hs-var">unlines</span></span><span>
</span><span id="line-422"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Total Obligations = &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Coin -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Obligations -&gt; Coin
</span><a href="Cardano.Ledger.State.CertState.html#sumObligation"><span class="hs-identifier hs-var">sumObligation</span></a></span><span> </span><span class="annot"><span class="annottext">Obligations
</span><a href="#local-6989586621679467851"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-423"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;   Stake deposits = &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Coin -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Obligations -&gt; Coin
</span><a href="Cardano.Ledger.State.CertState.html#oblStake"><span class="hs-identifier hs-var">oblStake</span></a></span><span> </span><span class="annot"><span class="annottext">Obligations
</span><a href="#local-6989586621679467851"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-424"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;   Pool deposits = &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Coin -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Obligations -&gt; Coin
</span><a href="Cardano.Ledger.State.CertState.html#oblPool"><span class="hs-identifier hs-var">oblPool</span></a></span><span> </span><span class="annot"><span class="annottext">Obligations
</span><a href="#local-6989586621679467851"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-425"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;   DRep deposits = &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Coin -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Obligations -&gt; Coin
</span><a href="Cardano.Ledger.State.CertState.html#oblDRep"><span class="hs-identifier hs-var">oblDRep</span></a></span><span> </span><span class="annot"><span class="annottext">Obligations
</span><a href="#local-6989586621679467851"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-426"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;   Proposal deposits = &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Coin -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Obligations -&gt; Coin
</span><a href="Cardano.Ledger.State.CertState.html#oblProposal"><span class="hs-identifier hs-var">oblProposal</span></a></span><span> </span><span class="annot"><span class="annottext">Obligations
</span><a href="#local-6989586621679467851"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-427"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-428"></span><span>
</span><span id="line-429"></span><span id="local-6989586621679465871"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#dsGenDelegsL"><span class="hs-identifier hs-type">dsGenDelegsL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Type.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#DState"><span class="hs-identifier hs-type">DState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465871"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Cardano.Ledger.Hashes.html#GenDelegs"><span class="hs-identifier hs-type">GenDelegs</span></a></span></span><span>
</span><span id="line-430"></span><span id="dsGenDelegsL"><span class="annot"><span class="annottext">dsGenDelegsL :: forall era (f :: * -&gt; *).
Functor f =&gt;
(GenDelegs -&gt; f GenDelegs) -&gt; DState era -&gt; f (DState era)
</span><a href="Cardano.Ledger.State.CertState.html#dsGenDelegsL"><span class="hs-identifier hs-var hs-var">dsGenDelegsL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DState era -&gt; GenDelegs)
-&gt; (DState era -&gt; GenDelegs -&gt; DState era)
-&gt; Lens (DState era) (DState era) GenDelegs GenDelegs
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#lens"><span class="hs-identifier hs-var">lens</span></a></span><span> </span><span class="annot"><span class="annottext">DState era -&gt; GenDelegs
forall era. DState era -&gt; GenDelegs
</span><a href="Cardano.Ledger.State.CertState.html#dsGenDelegs"><span class="hs-identifier hs-var">dsGenDelegs</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679467855"><span class="annot"><span class="annottext">DState era
</span><a href="#local-6989586621679467855"><span class="hs-identifier hs-var">ds</span></a></span></span><span> </span><span id="local-6989586621679467856"><span class="annot"><span class="annottext">GenDelegs
</span><a href="#local-6989586621679467856"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DState era
</span><a href="#local-6989586621679467855"><span class="hs-identifier hs-var">ds</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#dsGenDelegs"><span class="hs-identifier hs-var">dsGenDelegs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679467856"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-431"></span><span>
</span><span id="line-432"></span><span id="local-6989586621679465874"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#dsIRewardsL"><span class="hs-identifier hs-type">dsIRewardsL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Type.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#DState"><span class="hs-identifier hs-type">DState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465874"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#InstantaneousRewards"><span class="hs-identifier hs-type">InstantaneousRewards</span></a></span></span><span>
</span><span id="line-433"></span><span id="dsIRewardsL"><span class="annot"><span class="annottext">dsIRewardsL :: forall era (f :: * -&gt; *).
Functor f =&gt;
(InstantaneousRewards -&gt; f InstantaneousRewards)
-&gt; DState era -&gt; f (DState era)
</span><a href="Cardano.Ledger.State.CertState.html#dsIRewardsL"><span class="hs-identifier hs-var hs-var">dsIRewardsL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DState era -&gt; InstantaneousRewards)
-&gt; (DState era -&gt; InstantaneousRewards -&gt; DState era)
-&gt; Lens
     (DState era) (DState era) InstantaneousRewards InstantaneousRewards
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#lens"><span class="hs-identifier hs-var">lens</span></a></span><span> </span><span class="annot"><span class="annottext">DState era -&gt; InstantaneousRewards
forall era. DState era -&gt; InstantaneousRewards
</span><a href="Cardano.Ledger.State.CertState.html#dsIRewards"><span class="hs-identifier hs-var">dsIRewards</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679467859"><span class="annot"><span class="annottext">DState era
</span><a href="#local-6989586621679467859"><span class="hs-identifier hs-var">ds</span></a></span></span><span> </span><span id="local-6989586621679467860"><span class="annot"><span class="annottext">InstantaneousRewards
</span><a href="#local-6989586621679467860"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DState era
</span><a href="#local-6989586621679467859"><span class="hs-identifier hs-var">ds</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#dsIRewards"><span class="hs-identifier hs-var">dsIRewards</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679467860"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-434"></span><span>
</span><span id="line-435"></span><span id="local-6989586621679465877"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#dsFutureGenDelegsL"><span class="hs-identifier hs-type">dsFutureGenDelegsL</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-436"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Type.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#DState"><span class="hs-identifier hs-type">DState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465877"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#FutureGenDeleg"><span class="hs-identifier hs-type">FutureGenDeleg</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Hashes.html#GenDelegPair"><span class="hs-identifier hs-type">GenDelegPair</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-437"></span><span id="dsFutureGenDelegsL"><span class="annot"><span class="annottext">dsFutureGenDelegsL :: forall era (f :: * -&gt; *).
Functor f =&gt;
(Map FutureGenDeleg GenDelegPair
 -&gt; f (Map FutureGenDeleg GenDelegPair))
-&gt; DState era -&gt; f (DState era)
</span><a href="Cardano.Ledger.State.CertState.html#dsFutureGenDelegsL"><span class="hs-identifier hs-var hs-var">dsFutureGenDelegsL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DState era -&gt; Map FutureGenDeleg GenDelegPair)
-&gt; (DState era -&gt; Map FutureGenDeleg GenDelegPair -&gt; DState era)
-&gt; Lens
     (DState era)
     (DState era)
     (Map FutureGenDeleg GenDelegPair)
     (Map FutureGenDeleg GenDelegPair)
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#lens"><span class="hs-identifier hs-var">lens</span></a></span><span> </span><span class="annot"><span class="annottext">DState era -&gt; Map FutureGenDeleg GenDelegPair
forall era. DState era -&gt; Map FutureGenDeleg GenDelegPair
</span><a href="Cardano.Ledger.State.CertState.html#dsFutureGenDelegs"><span class="hs-identifier hs-var">dsFutureGenDelegs</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679467863"><span class="annot"><span class="annottext">DState era
</span><a href="#local-6989586621679467863"><span class="hs-identifier hs-var">ds</span></a></span></span><span> </span><span id="local-6989586621679467864"><span class="annot"><span class="annottext">Map FutureGenDeleg GenDelegPair
</span><a href="#local-6989586621679467864"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DState era
</span><a href="#local-6989586621679467863"><span class="hs-identifier hs-var">ds</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#dsFutureGenDelegs"><span class="hs-identifier hs-var">dsFutureGenDelegs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679467864"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-438"></span><span>
</span><span id="line-439"></span><span id="local-6989586621679465880"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#psStakePoolsL"><span class="hs-identifier hs-type">psStakePoolsL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Type.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#PState"><span class="hs-identifier hs-type">PState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465880"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Hashes.html#KeyHash"><span class="hs-identifier hs-type">KeyHash</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Ledger.Keys.Internal.html#StakePool"><span class="hs-identifier hs-type">StakePool</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Cardano.Ledger.State.StakePool.html#StakePoolState"><span class="hs-identifier hs-type">StakePoolState</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-440"></span><span id="psStakePoolsL"><span class="annot"><span class="annottext">psStakePoolsL :: forall era (f :: * -&gt; *).
Functor f =&gt;
(Map (KeyHash 'StakePool) StakePoolState
 -&gt; f (Map (KeyHash 'StakePool) StakePoolState))
-&gt; PState era -&gt; f (PState era)
</span><a href="Cardano.Ledger.State.CertState.html#psStakePoolsL"><span class="hs-identifier hs-var hs-var">psStakePoolsL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PState era -&gt; Map (KeyHash 'StakePool) StakePoolState)
-&gt; (PState era
    -&gt; Map (KeyHash 'StakePool) StakePoolState -&gt; PState era)
-&gt; Lens
     (PState era)
     (PState era)
     (Map (KeyHash 'StakePool) StakePoolState)
     (Map (KeyHash 'StakePool) StakePoolState)
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#lens"><span class="hs-identifier hs-var">lens</span></a></span><span> </span><span class="annot"><span class="annottext">PState era -&gt; Map (KeyHash 'StakePool) StakePoolState
forall era. PState era -&gt; Map (KeyHash 'StakePool) StakePoolState
</span><a href="Cardano.Ledger.State.CertState.html#psStakePools"><span class="hs-identifier hs-var">psStakePools</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679467867"><span class="annot"><span class="annottext">PState era
</span><a href="#local-6989586621679467867"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span id="local-6989586621679467868"><span class="annot"><span class="annottext">Map (KeyHash 'StakePool) StakePoolState
</span><a href="#local-6989586621679467868"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PState era
</span><a href="#local-6989586621679467867"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#psStakePools"><span class="hs-identifier hs-var">psStakePools</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679467868"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-441"></span><span>
</span><span id="line-442"></span><span id="local-6989586621679467869"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#psFutureStakePoolsL"><span class="hs-identifier hs-type">psFutureStakePoolsL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Type.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#PState"><span class="hs-identifier hs-type">PState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679467869"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Hashes.html#KeyHash"><span class="hs-identifier hs-type">KeyHash</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Ledger.Keys.Internal.html#StakePool"><span class="hs-identifier hs-type">StakePool</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Cardano.Ledger.State.StakePool.html#StakePoolState"><span class="hs-identifier hs-type">StakePoolState</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-443"></span><span id="psFutureStakePoolsL"><span class="annot"><span class="annottext">psFutureStakePoolsL :: forall era (f :: * -&gt; *).
Functor f =&gt;
(Map (KeyHash 'StakePool) StakePoolState
 -&gt; f (Map (KeyHash 'StakePool) StakePoolState))
-&gt; PState era -&gt; f (PState era)
</span><a href="Cardano.Ledger.State.CertState.html#psFutureStakePoolsL"><span class="hs-identifier hs-var hs-var">psFutureStakePoolsL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PState era -&gt; Map (KeyHash 'StakePool) StakePoolState)
-&gt; (PState era
    -&gt; Map (KeyHash 'StakePool) StakePoolState -&gt; PState era)
-&gt; Lens
     (PState era)
     (PState era)
     (Map (KeyHash 'StakePool) StakePoolState)
     (Map (KeyHash 'StakePool) StakePoolState)
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#lens"><span class="hs-identifier hs-var">lens</span></a></span><span> </span><span class="annot"><span class="annottext">PState era -&gt; Map (KeyHash 'StakePool) StakePoolState
forall era. PState era -&gt; Map (KeyHash 'StakePool) StakePoolState
</span><a href="Cardano.Ledger.State.CertState.html#psFutureStakePools"><span class="hs-identifier hs-var">psFutureStakePools</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679467872"><span class="annot"><span class="annottext">PState era
</span><a href="#local-6989586621679467872"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span id="local-6989586621679467873"><span class="annot"><span class="annottext">Map (KeyHash 'StakePool) StakePoolState
</span><a href="#local-6989586621679467873"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PState era
</span><a href="#local-6989586621679467872"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#psFutureStakePools"><span class="hs-identifier hs-var">psFutureStakePools</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679467873"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-444"></span><span>
</span><span id="line-445"></span><span id="local-6989586621679465885"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#psRetiringL"><span class="hs-identifier hs-type">psRetiringL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Type.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#PState"><span class="hs-identifier hs-type">PState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465885"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Hashes.html#KeyHash"><span class="hs-identifier hs-type">KeyHash</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Ledger.Keys.Internal.html#StakePool"><span class="hs-identifier hs-type">StakePool</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-slotting-0.2.0.1-cbaa0d455a08b054bafb132b87b34221d87bbbacf98d60661b1ed3cfc20b13c4/share/doc/html/src/Cardano.Slotting.Slot.html#EpochNo"><span class="hs-identifier hs-type">EpochNo</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-446"></span><span id="psRetiringL"><span class="annot"><span class="annottext">psRetiringL :: forall era (f :: * -&gt; *).
Functor f =&gt;
(Map (KeyHash 'StakePool) EpochNo
 -&gt; f (Map (KeyHash 'StakePool) EpochNo))
-&gt; PState era -&gt; f (PState era)
</span><a href="Cardano.Ledger.State.CertState.html#psRetiringL"><span class="hs-identifier hs-var hs-var">psRetiringL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PState era -&gt; Map (KeyHash 'StakePool) EpochNo)
-&gt; (PState era -&gt; Map (KeyHash 'StakePool) EpochNo -&gt; PState era)
-&gt; Lens
     (PState era)
     (PState era)
     (Map (KeyHash 'StakePool) EpochNo)
     (Map (KeyHash 'StakePool) EpochNo)
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#lens"><span class="hs-identifier hs-var">lens</span></a></span><span> </span><span class="annot"><span class="annottext">PState era -&gt; Map (KeyHash 'StakePool) EpochNo
forall era. PState era -&gt; Map (KeyHash 'StakePool) EpochNo
</span><a href="Cardano.Ledger.State.CertState.html#psRetiring"><span class="hs-identifier hs-var">psRetiring</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679467876"><span class="annot"><span class="annottext">PState era
</span><a href="#local-6989586621679467876"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span id="local-6989586621679467877"><span class="annot"><span class="annottext">Map (KeyHash 'StakePool) EpochNo
</span><a href="#local-6989586621679467877"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PState era
</span><a href="#local-6989586621679467876"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#psRetiring"><span class="hs-identifier hs-var">psRetiring</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679467877"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-447"></span><span>
</span><span id="line-448"></span><span id="local-6989586621679465888"><span class="annot"><a href="Cardano.Ledger.State.CertState.html#psVRFKeyHashesL"><span class="hs-identifier hs-type">psVRFKeyHashesL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Type.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#PState"><span class="hs-identifier hs-type">PState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465888"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Hashes.html#VRFVerKeyHash"><span class="hs-identifier hs-type">VRFVerKeyHash</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Ledger.Hashes.html#StakePoolVRF"><span class="hs-identifier hs-type">StakePoolVRF</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.BaseTypes.NonZero.html#NonZero"><span class="hs-identifier hs-type">NonZero</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-449"></span><span id="psVRFKeyHashesL"><span class="annot"><span class="annottext">psVRFKeyHashesL :: forall era (f :: * -&gt; *).
Functor f =&gt;
(Map (VRFVerKeyHash 'StakePoolVRF) (NonZero Word64)
 -&gt; f (Map (VRFVerKeyHash 'StakePoolVRF) (NonZero Word64)))
-&gt; PState era -&gt; f (PState era)
</span><a href="Cardano.Ledger.State.CertState.html#psVRFKeyHashesL"><span class="hs-identifier hs-var hs-var">psVRFKeyHashesL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PState era -&gt; Map (VRFVerKeyHash 'StakePoolVRF) (NonZero Word64))
-&gt; (PState era
    -&gt; Map (VRFVerKeyHash 'StakePoolVRF) (NonZero Word64)
    -&gt; PState era)
-&gt; Lens
     (PState era)
     (PState era)
     (Map (VRFVerKeyHash 'StakePoolVRF) (NonZero Word64))
     (Map (VRFVerKeyHash 'StakePoolVRF) (NonZero Word64))
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#lens"><span class="hs-identifier hs-var">lens</span></a></span><span> </span><span class="annot"><span class="annottext">PState era -&gt; Map (VRFVerKeyHash 'StakePoolVRF) (NonZero Word64)
forall era.
PState era -&gt; Map (VRFVerKeyHash 'StakePoolVRF) (NonZero Word64)
</span><a href="Cardano.Ledger.State.CertState.html#psVRFKeyHashes"><span class="hs-identifier hs-var">psVRFKeyHashes</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679467880"><span class="annot"><span class="annottext">PState era
</span><a href="#local-6989586621679467880"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span id="local-6989586621679467881"><span class="annot"><span class="annottext">Map (VRFVerKeyHash 'StakePoolVRF) (NonZero Word64)
</span><a href="#local-6989586621679467881"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PState era
</span><a href="#local-6989586621679467880"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cardano.Ledger.State.CertState.html#psVRFKeyHashes"><span class="hs-identifier hs-var">psVRFKeyHashes</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679467881"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-450"></span></pre></body></html>