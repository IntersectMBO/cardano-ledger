<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE BangPatterns #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE BinaryLiterals #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE DeriveAnyClass #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE DerivingVia #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE GADTs #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE GeneralizedNewtypeDeriving #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE InstanceSigs #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE TypeSynonymInstances #-}</span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Cardano.Ledger.Address</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-16"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#serialiseAddr"><span class="hs-identifier">serialiseAddr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#Addr"><span class="hs-identifier">Addr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#addrPtrNormalize"><span class="hs-identifier">addrPtrNormalize</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#BootstrapAddress"><span class="hs-identifier">BootstrapAddress</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#bootstrapAddressAttrsSize"><span class="hs-identifier">bootstrapAddressAttrsSize</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#isBootstrapRedeemer"><span class="hs-identifier">isBootstrapRedeemer</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#getNetwork"><span class="hs-identifier">getNetwork</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#RewardAccount"><span class="hs-identifier">RewardAccount</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#rewardAccountCredentialL"><span class="hs-identifier">rewardAccountCredentialL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#rewardAccountNetworkL"><span class="hs-identifier">rewardAccountNetworkL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#serialiseRewardAccount"><span class="hs-identifier">serialiseRewardAccount</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#deserialiseRewardAccount"><span class="hs-identifier">deserialiseRewardAccount</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#bootstrapKeyHash"><span class="hs-identifier">bootstrapKeyHash</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>  </span><span class="hs-comment">-- internals exported for testing</span><span>
</span><span id="line-30"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#putAddr"><span class="hs-identifier">putAddr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#putCredential"><span class="hs-identifier">putCredential</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#putPtr"><span class="hs-identifier">putPtr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#putRewardAccount"><span class="hs-identifier">putRewardAccount</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#putVariableLengthWord64"><span class="hs-identifier">putVariableLengthWord64</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#Word7"><span class="hs-identifier">Word7</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#toWord7"><span class="hs-identifier">toWord7</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>
</span><span id="line-38"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Compact Address</span></span><span>
</span><span id="line-39"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#fromBoostrapCompactAddress"><span class="hs-identifier">fromBoostrapCompactAddress</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#compactAddr"><span class="hs-identifier">compactAddr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#decompactAddr"><span class="hs-identifier">decompactAddr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#CompactAddr"><span class="hs-identifier">CompactAddr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#unCompactAddr"><span class="hs-identifier">unCompactAddr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#isPayCredScriptCompactAddr"><span class="hs-identifier">isPayCredScriptCompactAddr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#isBootstrapCompactAddr"><span class="hs-identifier">isBootstrapCompactAddr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-46"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#decodeAddr"><span class="hs-identifier">decodeAddr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#decodeAddrEither"><span class="hs-identifier">decodeAddrEither</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#decodeAddrStateT"><span class="hs-identifier">decodeAddrStateT</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#decodeAddrStateLenientT"><span class="hs-identifier">decodeAddrStateLenientT</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#fromCborAddr"><span class="hs-identifier">fromCborAddr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#fromCborBothAddr"><span class="hs-identifier">fromCborBothAddr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#fromCborCompactAddr"><span class="hs-identifier">fromCborCompactAddr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-53"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#fromCborRigorousBothAddr"><span class="hs-identifier">fromCborRigorousBothAddr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-54"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#fromCborBackwardsBothAddr"><span class="hs-identifier">fromCborBackwardsBothAddr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-55"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#decodeRewardAccount"><span class="hs-identifier">decodeRewardAccount</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#fromCborRewardAccount"><span class="hs-identifier">fromCborRewardAccount</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#Withdrawals"><span class="hs-identifier">Withdrawals</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-58"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-byron-1.2.0.0/doc/html/cardano-ledger-byron/src/Cardano.Chain.Common.html"><span class="hs-identifier">Cardano.Chain.Common</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Byron</span></span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-crypto-class-2.2.3.1-587788bd0abb83ca86364e7e25fdd2cb1ce3c8f25ede4b71a1cb43e4a1d72f36/share/doc/html/src/Cardano.Crypto.Hash.Class.html"><span class="hs-identifier">Cardano.Crypto.Hash.Class</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Hash</span></span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-crypto-wrapper-1.6.1.0/doc/html/cardano-crypto-wrapper/src/Cardano.Crypto.Hashing.html"><span class="hs-identifier">Cardano.Crypto.Hashing</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Byron</span></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Ledger.BaseTypes.html"><span class="hs-identifier">Cardano.Ledger.BaseTypes</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-64"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.BaseTypes.html#CertIx"><span class="hs-identifier">CertIx</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-65"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.BaseTypes.html#Network"><span class="hs-identifier">Network</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-66"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.BaseTypes.html#TxIx"><span class="hs-identifier">TxIx</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-67"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Version.html#byronProtVer"><span class="hs-identifier">byronProtVer</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-68"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Version.html#natVersion"><span class="hs-identifier">natVersion</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-69"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.BaseTypes.html#networkToWord8"><span class="hs-identifier">networkToWord8</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-70"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.html"><span class="hs-identifier">Cardano.Ledger.Binary</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-72"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#DecCBOR"><span class="hs-identifier">DecCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-73"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Decoder.html#Decoder"><span class="hs-identifier">Decoder</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-74"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#EncCBOR"><span class="hs-identifier">EncCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-75"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.html#decodeFull%27"><span class="hs-identifier">decodeFull'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-76"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Decoder.html#ifDecoderVersionAtLeast"><span class="hs-identifier">ifDecoderVersionAtLeast</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-77"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.html#serialize"><span class="hs-identifier">serialize</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-78"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Ledger.Coin.html"><span class="hs-identifier">Cardano.Ledger.Coin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier">Coin</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Ledger.Credential.html"><span class="hs-identifier">Cardano.Ledger.Credential</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-81"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier">Credential</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-82"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Credential.html#PaymentCredential"><span class="hs-identifier">PaymentCredential</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-83"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Credential.html#Ptr"><span class="hs-identifier">Ptr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-84"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Credential.html#SlotNo32"><span class="hs-identifier">SlotNo32</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-85"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Credential.html#StakeReference"><span class="hs-identifier">StakeReference</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-86"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Credential.html#mkPtrNormalized"><span class="hs-identifier">mkPtrNormalized</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-87"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Ledger.Hashes.html"><span class="hs-identifier">Cardano.Ledger.Hashes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Hashes.html#ScriptHash"><span class="hs-identifier">ScriptHash</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Ledger.Keys.html"><span class="hs-identifier">Cardano.Ledger.Keys</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Hashes.html#KeyHash"><span class="hs-identifier">KeyHash</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Keys.Internal.html#KeyRole"><span class="hs-identifier">KeyRole</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.DeepSeq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">NFData</span></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">guard</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">unless</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">when</span></span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/FailT-0.1.2.0-a6bfc8b1703d475e2ae00d40307128c8b38b30577dae60bdff0e62519ebdc06b/share/doc/html/src/Control.Monad.Trans.Fail.html"><span class="hs-identifier">Control.Monad.Trans.Fail</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/FailT-0.1.2.0-a6bfc8b1703d475e2ae00d40307128c8b38b30577dae60bdff0e62519ebdc06b/share/doc/html/src/Control.Monad.Trans.Fail.html#FailT"><span class="hs-identifier">FailT</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/FailT-0.1.2.0-a6bfc8b1703d475e2ae00d40307128c8b38b30577dae60bdff0e62519ebdc06b/share/doc/html/src/Control.Monad.Trans.Fail.html#runFail"><span class="hs-identifier">runFail</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.State.Strict</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">StateT</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">evalStateT</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">get</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">modify'</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">state</span></span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.html"><span class="hs-identifier">Data.Aeson</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.FromJSON.html#FromJSON"><span class="hs-identifier">FromJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.FromJSON.html#FromJSONKey"><span class="hs-identifier">FromJSONKey</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#ToJSON"><span class="hs-identifier">ToJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#ToJSONKey"><span class="hs-identifier">ToJSONKey</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.FromJSON.html#.%3A"><span class="hs-operator">(.:)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#.%3D"><span class="hs-operator">(.=)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-95"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.html"><span class="hs-identifier">Data.Aeson</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Aeson</span></span><span>
</span><span id="line-96"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Encoding.html"><span class="hs-identifier">Data.Aeson.Encoding</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Aeson</span></span><span>
</span><span id="line-97"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Key.html"><span class="hs-identifier">Data.Aeson.Key</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Aeson</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Key.html#fromText"><span class="hs-identifier">fromText</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.html"><span class="hs-identifier">Data.Aeson.Types</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Aeson</span></span><span>
</span><span id="line-99"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Binary</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Put</span></span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Binary</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">B</span></span><span>
</span><span id="line-101"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Binary.Put</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">B</span></span><span>
</span><span id="line-102"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bits</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Bits</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">clearBit</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">setBit</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">shiftL</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">shiftR</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">testBit</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(.&amp;.)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(.|.)</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-103"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ByteString</span></span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BS</span></span><span>
</span><span id="line-105"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/base16-bytestring-1.0.2.0-9ee6195db8aa68eff84c30f8281e5a8902536668e00c8d5aecb570a4d535b748/share/doc/html/src/Data.ByteString.Base16.html"><span class="hs-identifier">Data.ByteString.Base16</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">B16</span></span><span>
</span><span id="line-106"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Lazy</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BSL</span></span><span>
</span><span id="line-107"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Short</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SBS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ShortByteString</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">fromShort</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">index</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">length</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">toShort</span></span><span class="hs-special">)</span><span>
</span><span id="line-108"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Short.Internal</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SBS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">unsafeIndex</span></span><span class="hs-special">)</span><span>
</span><span id="line-109"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Unsafe</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">unsafeDrop</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">unsafeIndex</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">unsafeTake</span></span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-default-0.8.0.1-9291b190c5bc542cf17f99ce44e9365d143d76b9889465ad3d362701e6cc609e/share/doc/html/src/Data.Default.html"><span class="hs-identifier">Data.Default</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-default-0.8.0.1-9291b190c5bc542cf17f99ce44e9365d143d76b9889465ad3d362701e6cc609e/share/doc/html/src/Data.Default.Internal.html#Default"><span class="hs-identifier">Default</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-111"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Function</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">fix</span></span><span class="hs-special">)</span><span>
</span><span id="line-112"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map.Strict</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Map</span></span><span class="hs-special">)</span><span>
</span><span id="line-113"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">fromMaybe</span></span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/mempack-0.2.0.0-ff6d622b816122e3f66d74f22f129bc2b6f4ac3b35e97400ea8704a2196f890e/share/doc/html/src/Data.MemPack.html"><span class="hs-identifier">Data.MemPack</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/mempack-0.2.0.0-ff6d622b816122e3f66d74f22f129bc2b6f4ac3b35e97400ea8704a2196f890e/share/doc/html/src/Data.MemPack.html#MemPack"><span class="hs-identifier">MemPack</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/mempack-0.2.0.0-ff6d622b816122e3f66d74f22f129bc2b6f4ac3b35e97400ea8704a2196f890e/share/doc/html/src/Data.MemPack.html#Unpack"><span class="hs-identifier">Unpack</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Proxy</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Proxy</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-116"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text.Encoding</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Text</span></span><span>
</span><span id="line-118"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Word</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Word16</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Word32</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Word64</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Word8</span></span><span class="hs-special">)</span><span>
</span><span id="line-119"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Generics</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Generic</span></span><span class="hs-special">)</span><span>
</span><span id="line-120"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">intToDigit</span></span><span class="hs-special">)</span><span>
</span><span id="line-121"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Stack</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">HasCallStack</span></span><span class="hs-special">)</span><span>
</span><span id="line-122"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html"><span class="hs-identifier">Lens.Micro</span></a></span><span>
</span><span id="line-123"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/nothunks-0.2.1.1-0663c3283fb5dee9e67d41860072fab0227b6d69ef882303baddf309058f8618/share/doc/html/src/NoThunks.Class.html"><span class="hs-identifier">NoThunks.Class</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/nothunks-0.2.1.1-0663c3283fb5dee9e67d41860072fab0227b6d69ef882303baddf309058f8618/share/doc/html/src/NoThunks.Class.html#NoThunks"><span class="hs-identifier">NoThunks</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-124"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Numeric</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">showIntAtBase</span></span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/quiet-0.2-9225d7422c325dd8b63f688e0d6ee25919a9c576be361208829377debe40884d/share/doc/html/src/Quiet.html"><span class="hs-identifier">Quiet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/quiet-0.2-9225d7422c325dd8b63f688e0d6ee25919a9c576be361208829377debe40884d/share/doc/html/src/Quiet.html#Quiet"><span class="hs-identifier">Quiet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/quiet-0.2-9225d7422c325dd8b63f688e0d6ee25919a9c576be361208829377debe40884d/share/doc/html/src/Quiet.html#Quiet"><span class="hs-identifier">Quiet</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-126"></span><span>
</span><span id="line-127"></span><span class="annot"><span class="hs-comment">-- | Serialise an address to the external format.</span></span><span>
</span><span id="line-128"></span><span class="annot"><a href="Cardano.Ledger.Address.html#serialiseAddr"><span class="hs-identifier hs-type">serialiseAddr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Addr"><span class="hs-identifier hs-type">Addr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span>
</span><span id="line-129"></span><span id="serialiseAddr"><span class="annot"><span class="annottext">serialiseAddr :: Addr -&gt; ByteString
</span><a href="Cardano.Ledger.Address.html#serialiseAddr"><span class="hs-identifier hs-var hs-var">serialiseAddr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><span class="hs-identifier hs-var">BSL.toStrict</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString)
-&gt; (Addr -&gt; ByteString) -&gt; Addr -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Put -&gt; ByteString
</span><span class="hs-identifier hs-var">B.runPut</span></span><span> </span><span class="annot"><span class="annottext">(Put -&gt; ByteString) -&gt; (Addr -&gt; Put) -&gt; Addr -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Addr -&gt; Put
</span><a href="Cardano.Ledger.Address.html#putAddr"><span class="hs-identifier hs-var">putAddr</span></a></span><span>
</span><span id="line-130"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#serialiseAddr"><span class="hs-pragma hs-type">serialiseAddr</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-131"></span><span>
</span><span id="line-132"></span><span class="annot"><span class="hs-comment">-- | Serialise a reward account to the external format.</span></span><span>
</span><span id="line-133"></span><span class="annot"><a href="Cardano.Ledger.Address.html#serialiseRewardAccount"><span class="hs-identifier hs-type">serialiseRewardAccount</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#RewardAccount"><span class="hs-identifier hs-type">RewardAccount</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span>
</span><span id="line-134"></span><span id="serialiseRewardAccount"><span class="annot"><span class="annottext">serialiseRewardAccount :: RewardAccount -&gt; ByteString
</span><a href="Cardano.Ledger.Address.html#serialiseRewardAccount"><span class="hs-identifier hs-var hs-var">serialiseRewardAccount</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><span class="hs-identifier hs-var">BSL.toStrict</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString)
-&gt; (RewardAccount -&gt; ByteString) -&gt; RewardAccount -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Put -&gt; ByteString
</span><span class="hs-identifier hs-var">B.runPut</span></span><span> </span><span class="annot"><span class="annottext">(Put -&gt; ByteString)
-&gt; (RewardAccount -&gt; Put) -&gt; RewardAccount -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">RewardAccount -&gt; Put
</span><a href="Cardano.Ledger.Address.html#putRewardAccount"><span class="hs-identifier hs-var">putRewardAccount</span></a></span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span class="hs-comment">-- | Deserialise a reward account from the external format. This will fail if the</span><span>
</span><span id="line-137"></span><span class="hs-comment">-- input data is not in the right format (or if there is trailing data).</span><span>
</span><span id="line-138"></span><span class="annot"><a href="Cardano.Ledger.Address.html#deserialiseRewardAccount"><span class="hs-identifier hs-type">deserialiseRewardAccount</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#RewardAccount"><span class="hs-identifier hs-type">RewardAccount</span></a></span><span>
</span><span id="line-139"></span><span id="deserialiseRewardAccount"><span class="annot"><span class="annottext">deserialiseRewardAccount :: ByteString -&gt; Maybe RewardAccount
</span><a href="Cardano.Ledger.Address.html#deserialiseRewardAccount"><span class="hs-identifier hs-var hs-var">deserialiseRewardAccount</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Maybe RewardAccount
forall b (m :: * -&gt; *).
(AddressBuffer b, MonadFail m) =&gt;
b -&gt; m RewardAccount
</span><a href="Cardano.Ledger.Address.html#decodeRewardAccount"><span class="hs-identifier hs-var">decodeRewardAccount</span></a></span><span>
</span><span id="line-140"></span><span>
</span><span id="line-141"></span><span class="hs-comment">-- | An address for UTxO.</span><span>
</span><span id="line-142"></span><span class="hs-comment">--</span><span>
</span><span id="line-143"></span><span class="hs-comment">-- Contents of Addr data type are intentionally left as lazy, otherwise</span><span>
</span><span id="line-144"></span><span class="hs-comment">-- operating on compact form of an address will result in redundant work.</span><span>
</span><span id="line-145"></span><span class="hs-keyword">data</span><span> </span><span id="Addr"><span class="annot"><a href="Cardano.Ledger.Address.html#Addr"><span class="hs-identifier hs-var">Addr</span></a></span></span><span>
</span><span id="line-146"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="Addr"><span class="annot"><a href="Cardano.Ledger.Address.html#Addr"><span class="hs-identifier hs-var">Addr</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Ledger.BaseTypes.html#Network"><span class="hs-identifier hs-type">Network</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Credential.html#PaymentCredential"><span class="hs-identifier hs-type">PaymentCredential</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Credential.html#StakeReference"><span class="hs-identifier hs-type">StakeReference</span></a></span><span>
</span><span id="line-147"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="AddrBootstrap"><span class="annot"><a href="Cardano.Ledger.Address.html#AddrBootstrap"><span class="hs-identifier hs-var">AddrBootstrap</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#BootstrapAddress"><span class="hs-identifier hs-type">BootstrapAddress</span></a></span><span>
</span><span id="line-148"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679446988"><span id="local-6989586621679447001"><span id="local-6989586621679447005"><span class="annot"><span class="annottext">Int -&gt; Addr -&gt; ShowS
[Addr] -&gt; ShowS
Addr -&gt; String
(Int -&gt; Addr -&gt; ShowS)
-&gt; (Addr -&gt; String) -&gt; ([Addr] -&gt; ShowS) -&gt; Show Addr
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; Addr -&gt; ShowS
showsPrec :: Int -&gt; Addr -&gt; ShowS
$cshow :: Addr -&gt; String
show :: Addr -&gt; String
$cshowList :: [Addr] -&gt; ShowS
showList :: [Addr] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679447009"><span id="local-6989586621679447019"><span class="annot"><span class="annottext">Addr -&gt; Addr -&gt; Bool
(Addr -&gt; Addr -&gt; Bool) -&gt; (Addr -&gt; Addr -&gt; Bool) -&gt; Eq Addr
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Addr -&gt; Addr -&gt; Bool
== :: Addr -&gt; Addr -&gt; Bool
$c/= :: Addr -&gt; Addr -&gt; Bool
/= :: Addr -&gt; Addr -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679447024"><span id="local-6989586621679447026"><span class="annot"><span class="annottext">(forall x. Addr -&gt; Rep Addr x)
-&gt; (forall x. Rep Addr x -&gt; Addr) -&gt; Generic Addr
forall x. Rep Addr x -&gt; Addr
forall x. Addr -&gt; Rep Addr x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. Addr -&gt; Rep Addr x
from :: forall x. Addr -&gt; Rep Addr x
$cto :: forall x. Rep Addr x -&gt; Addr
to :: forall x. Rep Addr x -&gt; Addr
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679447030"><span class="annot"><span class="annottext">Addr -&gt; ()
(Addr -&gt; ()) -&gt; NFData Addr
forall a. (a -&gt; ()) -&gt; NFData a
$crnf :: Addr -&gt; ()
rnf :: Addr -&gt; ()
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">NFData</span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679447065"><span id="local-6989586621679447075"><span id="local-6989586621679447081"><span id="local-6989586621679447085"><span id="local-6989586621679447088"><span id="local-6989586621679447091"><span id="local-6989586621679447094"><span class="annot"><span class="annottext">Eq Addr
Eq Addr =&gt;
(Addr -&gt; Addr -&gt; Ordering)
-&gt; (Addr -&gt; Addr -&gt; Bool)
-&gt; (Addr -&gt; Addr -&gt; Bool)
-&gt; (Addr -&gt; Addr -&gt; Bool)
-&gt; (Addr -&gt; Addr -&gt; Bool)
-&gt; (Addr -&gt; Addr -&gt; Addr)
-&gt; (Addr -&gt; Addr -&gt; Addr)
-&gt; Ord Addr
Addr -&gt; Addr -&gt; Bool
Addr -&gt; Addr -&gt; Ordering
Addr -&gt; Addr -&gt; Addr
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: Addr -&gt; Addr -&gt; Ordering
compare :: Addr -&gt; Addr -&gt; Ordering
$c&lt; :: Addr -&gt; Addr -&gt; Bool
&lt; :: Addr -&gt; Addr -&gt; Bool
$c&lt;= :: Addr -&gt; Addr -&gt; Bool
&lt;= :: Addr -&gt; Addr -&gt; Bool
$c&gt; :: Addr -&gt; Addr -&gt; Bool
&gt; :: Addr -&gt; Addr -&gt; Bool
$c&gt;= :: Addr -&gt; Addr -&gt; Bool
&gt;= :: Addr -&gt; Addr -&gt; Bool
$cmax :: Addr -&gt; Addr -&gt; Addr
max :: Addr -&gt; Addr -&gt; Addr
$cmin :: Addr -&gt; Addr -&gt; Addr
min :: Addr -&gt; Addr -&gt; Addr
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span class="annot"><span class="hs-comment">-- | Lookup a Network Id for an Address</span></span><span>
</span><span id="line-151"></span><span class="annot"><a href="Cardano.Ledger.Address.html#getNetwork"><span class="hs-identifier hs-type">getNetwork</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Addr"><span class="hs-identifier hs-type">Addr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Ledger.BaseTypes.html#Network"><span class="hs-identifier hs-type">Network</span></a></span><span>
</span><span id="line-152"></span><span id="getNetwork"><span class="annot"><span class="annottext">getNetwork :: Addr -&gt; Network
</span><a href="Cardano.Ledger.Address.html#getNetwork"><span class="hs-identifier hs-var hs-var">getNetwork</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Address.html#Addr"><span class="hs-identifier hs-type">Addr</span></a></span><span> </span><span id="local-6989586621679447097"><span class="annot"><span class="annottext">Network
</span><a href="#local-6989586621679447097"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="annot"><span class="annottext">PaymentCredential
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">StakeReference
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Network
</span><a href="#local-6989586621679447097"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-153"></span><span class="annot"><a href="Cardano.Ledger.Address.html#getNetwork"><span class="hs-identifier hs-var">getNetwork</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Address.html#AddrBootstrap"><span class="hs-identifier hs-type">AddrBootstrap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Address.html#BootstrapAddress"><span class="hs-identifier hs-type">BootstrapAddress</span></a></span><span> </span><span id="local-6989586621679447099"><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679447099"><span class="hs-identifier hs-var">byronAddr</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-154"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">AddrAttributes -&gt; NetworkMagic
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-byron-1.2.0.0/doc/html/cardano-ledger-byron/src/Cardano.Chain.Common.AddrAttributes.html#aaNetworkMagic"><span class="hs-identifier hs-var">Byron.aaNetworkMagic</span></a></span><span> </span><span class="annot"><span class="annottext">(AddrAttributes -&gt; NetworkMagic)
-&gt; (Address -&gt; AddrAttributes) -&gt; Address -&gt; NetworkMagic
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Attributes AddrAttributes -&gt; AddrAttributes
forall h. Attributes h -&gt; h
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-byron-1.2.0.0/doc/html/cardano-ledger-byron/src/Cardano.Chain.Common.Attributes.html#attrData"><span class="hs-identifier hs-var">Byron.attrData</span></a></span><span> </span><span class="annot"><span class="annottext">(Attributes AddrAttributes -&gt; AddrAttributes)
-&gt; (Address -&gt; Attributes AddrAttributes)
-&gt; Address
-&gt; AddrAttributes
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Address -&gt; Attributes AddrAttributes
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-byron-1.2.0.0/doc/html/cardano-ledger-byron/src/Cardano.Chain.Common.Address.html#addrAttributes"><span class="hs-identifier hs-var">Byron.addrAttributes</span></a></span><span> </span><span class="annot"><span class="annottext">(Address -&gt; NetworkMagic) -&gt; Address -&gt; NetworkMagic
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679447099"><span class="hs-identifier hs-var">byronAddr</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-155"></span><span>    </span><span class="annot"><span class="annottext">NetworkMagic
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-byron-1.2.0.0/doc/html/cardano-ledger-byron/src/Cardano.Chain.Common.NetworkMagic.html#NetworkMainOrStage"><span class="hs-identifier hs-var">Byron.NetworkMainOrStage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Network
</span><a href="Cardano.Ledger.BaseTypes.html#Mainnet"><span class="hs-identifier hs-var">Mainnet</span></a></span><span>
</span><span id="line-156"></span><span>    </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-byron-1.2.0.0/doc/html/cardano-ledger-byron/src/Cardano.Chain.Common.NetworkMagic.html#NetworkTestnet"><span class="hs-identifier hs-type">Byron.NetworkTestnet</span></a></span><span> </span><span class="annot"><span class="annottext">Word32
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Network
</span><a href="Cardano.Ledger.BaseTypes.html#Testnet"><span class="hs-identifier hs-var">Testnet</span></a></span><span>
</span><span id="line-157"></span><span>
</span><span id="line-158"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679447108"><span id="local-6989586621679447112"><span id="local-6989586621679447118"><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/nothunks-0.2.1.1-0663c3283fb5dee9e67d41860072fab0227b6d69ef882303baddf309058f8618/share/doc/html/src/NoThunks.Class.html#NoThunks"><span class="hs-identifier hs-type">NoThunks</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Addr"><span class="hs-identifier hs-type">Addr</span></a></span></span></span></span><span>
</span><span id="line-159"></span><span>
</span><span id="line-160"></span><span class="hs-comment">-- | This function is implemented solely for the purpose of translating garbage pointers</span><span>
</span><span id="line-161"></span><span class="hs-comment">-- into knowingly invalid ones. Any pointer that contains a SlotNo, TxIx or CertIx that</span><span>
</span><span id="line-162"></span><span class="hs-comment">-- is too large to fit into Word32, Word16 and Word16 respectively, will have all of its</span><span>
</span><span id="line-163"></span><span class="hs-comment">-- values set to 0 using `normalizePtr`.</span><span>
</span><span id="line-164"></span><span class="hs-comment">--</span><span>
</span><span id="line-165"></span><span class="hs-comment">-- There are two reasons why we can safely do that at the Babbage/Conway era boundary:</span><span>
</span><span id="line-166"></span><span class="hs-comment">--</span><span>
</span><span id="line-167"></span><span class="hs-comment">-- * Invalid pointers are no longer allowed in transactions starting with Babbage era</span><span>
</span><span id="line-168"></span><span class="hs-comment">--</span><span>
</span><span id="line-169"></span><span class="hs-comment">-- * There are only a handful of `Ptr`s on mainnet that are invalid.</span><span>
</span><span id="line-170"></span><span class="hs-comment">--</span><span>
</span><span id="line-171"></span><span class="hs-comment">-- Once the transition is complete and we are officially in Conway era, this translation</span><span>
</span><span id="line-172"></span><span class="hs-comment">-- logic can be removed in favor of a fixed deserializer that does the same thing for all</span><span>
</span><span id="line-173"></span><span class="hs-comment">-- eras prior to Babbage.</span><span>
</span><span id="line-174"></span><span class="annot"><a href="Cardano.Ledger.Address.html#addrPtrNormalize"><span class="hs-identifier hs-type">addrPtrNormalize</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Addr"><span class="hs-identifier hs-type">Addr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Addr"><span class="hs-identifier hs-type">Addr</span></a></span><span>
</span><span id="line-175"></span><span id="addrPtrNormalize"><span class="annot"><span class="annottext">addrPtrNormalize :: Addr -&gt; Addr
</span><a href="Cardano.Ledger.Address.html#addrPtrNormalize"><span class="hs-identifier hs-var hs-var">addrPtrNormalize</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Addr -&gt; Addr
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-176"></span><span class="hs-pragma">{-# DEPRECATED</span><span> </span><span class="hs-pragma">addrPtrNormalize</span><span> </span><span class="hs-pragma">&quot;Pointers are now all normalized and this logic has been moved to the decoder&quot;</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-177"></span><span>
</span><span id="line-178"></span><span class="annot"><span class="hs-comment">-- | An account based address for rewards</span></span><span>
</span><span id="line-179"></span><span class="hs-keyword">data</span><span> </span><span id="RewardAccount"><span class="annot"><a href="Cardano.Ledger.Address.html#RewardAccount"><span class="hs-identifier hs-var">RewardAccount</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="RewardAccount"><span class="annot"><a href="Cardano.Ledger.Address.html#RewardAccount"><span class="hs-identifier hs-var">RewardAccount</span></a></span></span><span>
</span><span id="line-180"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="raNetwork"><span class="annot"><span class="annottext">RewardAccount -&gt; Network
</span><a href="Cardano.Ledger.Address.html#raNetwork"><span class="hs-identifier hs-var hs-var">raNetwork</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Cardano.Ledger.BaseTypes.html#Network"><span class="hs-identifier hs-type">Network</span></a></span><span>
</span><span id="line-181"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="raCredential"><span class="annot"><span class="annottext">RewardAccount -&gt; Credential 'Staking
</span><a href="Cardano.Ledger.Address.html#raCredential"><span class="hs-identifier hs-var hs-var">raCredential</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Ledger.Keys.Internal.html#Staking"><span class="hs-identifier hs-type">Staking</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-182"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-183"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679447165"><span id="local-6989586621679447170"><span id="local-6989586621679447174"><span class="annot"><span class="annottext">Int -&gt; RewardAccount -&gt; ShowS
[RewardAccount] -&gt; ShowS
RewardAccount -&gt; String
(Int -&gt; RewardAccount -&gt; ShowS)
-&gt; (RewardAccount -&gt; String)
-&gt; ([RewardAccount] -&gt; ShowS)
-&gt; Show RewardAccount
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; RewardAccount -&gt; ShowS
showsPrec :: Int -&gt; RewardAccount -&gt; ShowS
$cshow :: RewardAccount -&gt; String
show :: RewardAccount -&gt; String
$cshowList :: [RewardAccount] -&gt; ShowS
showList :: [RewardAccount] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679447177"><span id="local-6989586621679447181"><span class="annot"><span class="annottext">RewardAccount -&gt; RewardAccount -&gt; Bool
(RewardAccount -&gt; RewardAccount -&gt; Bool)
-&gt; (RewardAccount -&gt; RewardAccount -&gt; Bool) -&gt; Eq RewardAccount
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: RewardAccount -&gt; RewardAccount -&gt; Bool
== :: RewardAccount -&gt; RewardAccount -&gt; Bool
$c/= :: RewardAccount -&gt; RewardAccount -&gt; Bool
/= :: RewardAccount -&gt; RewardAccount -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679447185"><span id="local-6989586621679447187"><span class="annot"><span class="annottext">(forall x. RewardAccount -&gt; Rep RewardAccount x)
-&gt; (forall x. Rep RewardAccount x -&gt; RewardAccount)
-&gt; Generic RewardAccount
forall x. Rep RewardAccount x -&gt; RewardAccount
forall x. RewardAccount -&gt; Rep RewardAccount x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. RewardAccount -&gt; Rep RewardAccount x
from :: forall x. RewardAccount -&gt; Rep RewardAccount x
$cto :: forall x. Rep RewardAccount x -&gt; RewardAccount
to :: forall x. Rep RewardAccount x -&gt; RewardAccount
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679447192"><span id="local-6989586621679447196"><span id="local-6989586621679447200"><span id="local-6989586621679447204"><span id="local-6989586621679447207"><span id="local-6989586621679447210"><span id="local-6989586621679447213"><span class="annot"><span class="annottext">Eq RewardAccount
Eq RewardAccount =&gt;
(RewardAccount -&gt; RewardAccount -&gt; Ordering)
-&gt; (RewardAccount -&gt; RewardAccount -&gt; Bool)
-&gt; (RewardAccount -&gt; RewardAccount -&gt; Bool)
-&gt; (RewardAccount -&gt; RewardAccount -&gt; Bool)
-&gt; (RewardAccount -&gt; RewardAccount -&gt; Bool)
-&gt; (RewardAccount -&gt; RewardAccount -&gt; RewardAccount)
-&gt; (RewardAccount -&gt; RewardAccount -&gt; RewardAccount)
-&gt; Ord RewardAccount
RewardAccount -&gt; RewardAccount -&gt; Bool
RewardAccount -&gt; RewardAccount -&gt; Ordering
RewardAccount -&gt; RewardAccount -&gt; RewardAccount
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: RewardAccount -&gt; RewardAccount -&gt; Ordering
compare :: RewardAccount -&gt; RewardAccount -&gt; Ordering
$c&lt; :: RewardAccount -&gt; RewardAccount -&gt; Bool
&lt; :: RewardAccount -&gt; RewardAccount -&gt; Bool
$c&lt;= :: RewardAccount -&gt; RewardAccount -&gt; Bool
&lt;= :: RewardAccount -&gt; RewardAccount -&gt; Bool
$c&gt; :: RewardAccount -&gt; RewardAccount -&gt; Bool
&gt; :: RewardAccount -&gt; RewardAccount -&gt; Bool
$c&gt;= :: RewardAccount -&gt; RewardAccount -&gt; Bool
&gt;= :: RewardAccount -&gt; RewardAccount -&gt; Bool
$cmax :: RewardAccount -&gt; RewardAccount -&gt; RewardAccount
max :: RewardAccount -&gt; RewardAccount -&gt; RewardAccount
$cmin :: RewardAccount -&gt; RewardAccount -&gt; RewardAccount
min :: RewardAccount -&gt; RewardAccount -&gt; RewardAccount
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679447216"><span class="annot"><span class="annottext">RewardAccount -&gt; ()
(RewardAccount -&gt; ()) -&gt; NFData RewardAccount
forall a. (a -&gt; ()) -&gt; NFData a
$crnf :: RewardAccount -&gt; ()
rnf :: RewardAccount -&gt; ()
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">NFData</span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679447231"><span id="local-6989586621679447237"><span class="annot"><span class="annottext">ToJSONKeyFunction [RewardAccount]
ToJSONKeyFunction RewardAccount
ToJSONKeyFunction RewardAccount
-&gt; ToJSONKeyFunction [RewardAccount] -&gt; ToJSONKey RewardAccount
forall a.
ToJSONKeyFunction a -&gt; ToJSONKeyFunction [a] -&gt; ToJSONKey a
$ctoJSONKey :: ToJSONKeyFunction RewardAccount
toJSONKey :: ToJSONKeyFunction RewardAccount
$ctoJSONKeyList :: ToJSONKeyFunction [RewardAccount]
toJSONKeyList :: ToJSONKeyFunction [RewardAccount]
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#ToJSONKey"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">ToJSONKey</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679447242"><span id="local-6989586621679447248"><span class="annot"><span class="annottext">FromJSONKeyFunction [RewardAccount]
FromJSONKeyFunction RewardAccount
FromJSONKeyFunction RewardAccount
-&gt; FromJSONKeyFunction [RewardAccount] -&gt; FromJSONKey RewardAccount
forall a.
FromJSONKeyFunction a -&gt; FromJSONKeyFunction [a] -&gt; FromJSONKey a
$cfromJSONKey :: FromJSONKeyFunction RewardAccount
fromJSONKey :: FromJSONKeyFunction RewardAccount
$cfromJSONKeyList :: FromJSONKeyFunction [RewardAccount]
fromJSONKeyList :: FromJSONKeyFunction [RewardAccount]
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.FromJSON.html#FromJSONKey"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSONKey</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-184"></span><span>
</span><span id="line-185"></span><span class="annot"><a href="Cardano.Ledger.Address.html#rewardAccountCredentialL"><span class="hs-identifier hs-type">rewardAccountCredentialL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Type.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#RewardAccount"><span class="hs-identifier hs-type">RewardAccount</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Ledger.Keys.Internal.html#Staking"><span class="hs-identifier hs-type">Staking</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-186"></span><span id="rewardAccountCredentialL"><span class="annot"><span class="annottext">rewardAccountCredentialL :: Lens' RewardAccount (Credential 'Staking)
</span><a href="Cardano.Ledger.Address.html#rewardAccountCredentialL"><span class="hs-identifier hs-var hs-var">rewardAccountCredentialL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(RewardAccount -&gt; Credential 'Staking)
-&gt; (RewardAccount -&gt; Credential 'Staking -&gt; RewardAccount)
-&gt; Lens' RewardAccount (Credential 'Staking)
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#lens"><span class="hs-identifier hs-var">lens</span></a></span><span> </span><span class="annot"><span class="annottext">RewardAccount -&gt; Credential 'Staking
</span><a href="Cardano.Ledger.Address.html#raCredential"><span class="hs-identifier hs-var">raCredential</span></a></span><span> </span><span class="annot"><span class="annottext">((RewardAccount -&gt; Credential 'Staking -&gt; RewardAccount)
 -&gt; Lens' RewardAccount (Credential 'Staking))
-&gt; (RewardAccount -&gt; Credential 'Staking -&gt; RewardAccount)
-&gt; Lens' RewardAccount (Credential 'Staking)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679447255"><span class="annot"><span class="annottext">RewardAccount
</span><a href="#local-6989586621679447255"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679447256"><span class="annot"><span class="annottext">Credential 'Staking
</span><a href="#local-6989586621679447256"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RewardAccount
</span><a href="#local-6989586621679447255"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cardano.Ledger.Address.html#raCredential"><span class="hs-identifier hs-var">raCredential</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679447256"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-187"></span><span>
</span><span id="line-188"></span><span class="annot"><a href="Cardano.Ledger.Address.html#rewardAccountNetworkL"><span class="hs-identifier hs-type">rewardAccountNetworkL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.Type.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#RewardAccount"><span class="hs-identifier hs-type">RewardAccount</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.BaseTypes.html#Network"><span class="hs-identifier hs-type">Network</span></a></span><span>
</span><span id="line-189"></span><span id="rewardAccountNetworkL"><span class="annot"><span class="annottext">rewardAccountNetworkL :: Lens' RewardAccount Network
</span><a href="Cardano.Ledger.Address.html#rewardAccountNetworkL"><span class="hs-identifier hs-var hs-var">rewardAccountNetworkL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(RewardAccount -&gt; Network)
-&gt; (RewardAccount -&gt; Network -&gt; RewardAccount)
-&gt; Lens' RewardAccount Network
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/microlens-0.4.13.1-71c999e1e9d35dc39dc696ab4bf56f0958d34c6f1e240362775e227e5e550787/share/doc/html/src/Lens.Micro.html#lens"><span class="hs-identifier hs-var">lens</span></a></span><span> </span><span class="annot"><span class="annottext">RewardAccount -&gt; Network
</span><a href="Cardano.Ledger.Address.html#raNetwork"><span class="hs-identifier hs-var">raNetwork</span></a></span><span> </span><span class="annot"><span class="annottext">((RewardAccount -&gt; Network -&gt; RewardAccount)
 -&gt; Lens' RewardAccount Network)
-&gt; (RewardAccount -&gt; Network -&gt; RewardAccount)
-&gt; Lens' RewardAccount Network
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679447259"><span class="annot"><span class="annottext">RewardAccount
</span><a href="#local-6989586621679447259"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679447260"><span class="annot"><span class="annottext">Network
</span><a href="#local-6989586621679447260"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RewardAccount
</span><a href="#local-6989586621679447259"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cardano.Ledger.Address.html#raNetwork"><span class="hs-identifier hs-var">raNetwork</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679447260"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-190"></span><span>
</span><span id="line-191"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-default-0.8.0.1-9291b190c5bc542cf17f99ce44e9365d143d76b9889465ad3d362701e6cc609e/share/doc/html/src/Data.Default.Internal.html#Default"><span class="hs-identifier hs-type">Default</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#RewardAccount"><span class="hs-identifier hs-type">RewardAccount</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-192"></span><span>  </span><span id="local-6989586621679447268"><span class="annot"><span class="annottext">def :: RewardAccount
</span><a href="#local-6989586621679447268"><span class="hs-identifier hs-var hs-var hs-var hs-var">def</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Network -&gt; Credential 'Staking -&gt; RewardAccount
</span><a href="Cardano.Ledger.Address.html#RewardAccount"><span class="hs-identifier hs-var">RewardAccount</span></a></span><span> </span><span class="annot"><span class="annottext">Network
forall a. Default a =&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-default-0.8.0.1-9291b190c5bc542cf17f99ce44e9365d143d76b9889465ad3d362701e6cc609e/share/doc/html/src/Data.Default.Internal.html#def"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="annot"><span class="annottext">Credential 'Staking
forall a. Default a =&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/data-default-0.8.0.1-9291b190c5bc542cf17f99ce44e9365d143d76b9889465ad3d362701e6cc609e/share/doc/html/src/Data.Default.Internal.html#def"><span class="hs-identifier hs-var">def</span></a></span><span>
</span><span id="line-193"></span><span>
</span><span id="line-194"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679447272"><span id="local-6989586621679447275"><span id="local-6989586621679447278"><span id="local-6989586621679447281"><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#ToJSON"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#RewardAccount"><span class="hs-identifier hs-type">RewardAccount</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-195"></span><span>  </span><span id="local-6989586621679447296"><span class="annot"><span class="annottext">toJSON :: RewardAccount -&gt; Value
</span><a href="#local-6989586621679447296"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span id="local-6989586621679447298"><span class="annot"><span class="annottext">RewardAccount
</span><a href="#local-6989586621679447298"><span class="hs-identifier hs-var">ra</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-196"></span><span>    </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.Internal.html#object"><span class="hs-identifier hs-var">Aeson.object</span></a></span><span>
</span><span id="line-197"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;network&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Network -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#.%3D"><span class="hs-operator hs-var">.=</span></a></span><span> </span><span class="annot"><span class="annottext">RewardAccount -&gt; Network
</span><a href="Cardano.Ledger.Address.html#raNetwork"><span class="hs-identifier hs-var">raNetwork</span></a></span><span> </span><span class="annot"><span class="annottext">RewardAccount
</span><a href="#local-6989586621679447298"><span class="hs-identifier hs-var">ra</span></a></span><span>
</span><span id="line-198"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;credential&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Credential 'Staking -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#.%3D"><span class="hs-operator hs-var">.=</span></a></span><span> </span><span class="annot"><span class="annottext">RewardAccount -&gt; Credential 'Staking
</span><a href="Cardano.Ledger.Address.html#raCredential"><span class="hs-identifier hs-var">raCredential</span></a></span><span> </span><span class="annot"><span class="annottext">RewardAccount
</span><a href="#local-6989586621679447298"><span class="hs-identifier hs-var">ra</span></a></span><span>
</span><span id="line-199"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679447302"><span id="local-6989586621679447305"><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.FromJSON.html#FromJSON"><span class="hs-identifier hs-type">FromJSON</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#RewardAccount"><span class="hs-identifier hs-type">RewardAccount</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-202"></span><span>  </span><span id="local-6989586621679447318"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser RewardAccount
</span><a href="#local-6989586621679447318"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-203"></span><span>    </span><span class="annot"><span class="annottext">String
-&gt; (Object -&gt; Parser RewardAccount)
-&gt; Value
-&gt; Parser RewardAccount
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.FromJSON.html#withObject"><span class="hs-identifier hs-var">Aeson.withObject</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;RewardAccount&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object -&gt; Parser RewardAccount) -&gt; Value -&gt; Parser RewardAccount)
-&gt; (Object -&gt; Parser RewardAccount)
-&gt; Value
-&gt; Parser RewardAccount
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679447321"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679447321"><span class="hs-identifier hs-var">obj</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-204"></span><span>      </span><span class="annot"><span class="annottext">Network -&gt; Credential 'Staking -&gt; RewardAccount
</span><a href="Cardano.Ledger.Address.html#RewardAccount"><span class="hs-identifier hs-var">RewardAccount</span></a></span><span>
</span><span id="line-205"></span><span>        </span><span class="annot"><span class="annottext">(Network -&gt; Credential 'Staking -&gt; RewardAccount)
-&gt; Parser Network -&gt; Parser (Credential 'Staking -&gt; RewardAccount)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679447321"><span class="hs-identifier hs-var">obj</span></a></span><span>
</span><span id="line-206"></span><span>          </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Network
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.FromJSON.html#.%3A"><span class="hs-operator hs-var">.:</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;network&quot;</span></span><span>
</span><span id="line-207"></span><span>        </span><span class="annot"><span class="annottext">Parser (Credential 'Staking -&gt; RewardAccount)
-&gt; Parser (Credential 'Staking) -&gt; Parser RewardAccount
forall a b. Parser (a -&gt; b) -&gt; Parser a -&gt; Parser b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679447321"><span class="hs-identifier hs-var">obj</span></a></span><span>
</span><span id="line-208"></span><span>          </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Credential 'Staking)
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.FromJSON.html#.%3A"><span class="hs-operator hs-var">.:</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;credential&quot;</span></span><span>
</span><span id="line-209"></span><span>
</span><span id="line-210"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679447324"><span id="local-6989586621679447328"><span id="local-6989586621679447334"><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/nothunks-0.2.1.1-0663c3283fb5dee9e67d41860072fab0227b6d69ef882303baddf309058f8618/share/doc/html/src/NoThunks.Class.html#NoThunks"><span class="hs-identifier hs-type">NoThunks</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#RewardAccount"><span class="hs-identifier hs-type">RewardAccount</span></a></span></span></span></span><span>
</span><span id="line-211"></span><span>
</span><span id="line-212"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679447362"><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#ToJSONKey"><span class="hs-identifier hs-type">ToJSONKey</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Addr"><span class="hs-identifier hs-type">Addr</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-213"></span><span>  </span><span id="local-6989586621679447367"><span class="annot"><span class="annottext">toJSONKey :: ToJSONKeyFunction Addr
</span><a href="#local-6989586621679447367"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSONKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Addr -&gt; Key) -&gt; (Addr -&gt; Encoding' Key) -&gt; ToJSONKeyFunction Addr
forall a. (a -&gt; Key) -&gt; (a -&gt; Encoding' Key) -&gt; ToJSONKeyFunction a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#ToJSONKeyText"><span class="hs-identifier hs-var">Aeson.ToJSONKeyText</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Key
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Key.html#fromText"><span class="hs-identifier hs-var">Aeson.fromText</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Key) -&gt; (Addr -&gt; Text) -&gt; Addr -&gt; Key
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Addr -&gt; Text
</span><a href="Cardano.Ledger.Address.html#addrToText"><span class="hs-identifier hs-var">addrToText</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Encoding' Key
forall a. Text -&gt; Encoding' a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Encoding.Internal.html#text"><span class="hs-identifier hs-var">Aeson.text</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Encoding' Key) -&gt; (Addr -&gt; Text) -&gt; Addr -&gt; Encoding' Key
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Addr -&gt; Text
</span><a href="Cardano.Ledger.Address.html#addrToText"><span class="hs-identifier hs-var">addrToText</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-214"></span><span>
</span><span id="line-215"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679447374"><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.FromJSON.html#FromJSONKey"><span class="hs-identifier hs-type">FromJSONKey</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Addr"><span class="hs-identifier hs-type">Addr</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-216"></span><span>  </span><span id="local-6989586621679447379"><span class="annot"><span class="annottext">fromJSONKey :: FromJSONKeyFunction Addr
</span><a href="#local-6989586621679447379"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromJSONKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Parser Addr) -&gt; FromJSONKeyFunction Addr
forall a. (Text -&gt; Parser a) -&gt; FromJSONKeyFunction a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.FromJSON.html#FromJSONKeyTextParser"><span class="hs-identifier hs-var">Aeson.FromJSONKeyTextParser</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Parser Addr
</span><a href="Cardano.Ledger.Address.html#parseAddr"><span class="hs-identifier hs-var">parseAddr</span></a></span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679447385"><span id="local-6989586621679447388"><span id="local-6989586621679447391"><span id="local-6989586621679447394"><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#ToJSON"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Addr"><span class="hs-identifier hs-type">Addr</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-219"></span><span>  </span><span id="local-6989586621679447398"><span class="annot"><span class="annottext">toJSON :: Addr -&gt; Value
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#toJSON"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.ToJSON.html#toJSON"><span class="hs-identifier hs-var">toJSON</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Value) -&gt; (Addr -&gt; Text) -&gt; Addr -&gt; Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Addr -&gt; Text
</span><a href="Cardano.Ledger.Address.html#addrToText"><span class="hs-identifier hs-var">addrToText</span></a></span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679447401"><span id="local-6989586621679447404"><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.FromJSON.html#FromJSON"><span class="hs-identifier hs-type">FromJSON</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Addr"><span class="hs-identifier hs-type">Addr</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-222"></span><span>  </span><span id="local-6989586621679447406"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser Addr
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.FromJSON.html#parseJSON"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; (Text -&gt; Parser Addr) -&gt; Value -&gt; Parser Addr
forall a. String -&gt; (Text -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.FromJSON.html#withText"><span class="hs-identifier hs-var">Aeson.withText</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;address&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Parser Addr
</span><a href="Cardano.Ledger.Address.html#parseAddr"><span class="hs-identifier hs-var">parseAddr</span></a></span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span class="annot"><a href="Cardano.Ledger.Address.html#addrToText"><span class="hs-identifier hs-type">addrToText</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Addr"><span class="hs-identifier hs-type">Addr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-225"></span><span id="addrToText"><span class="annot"><span class="annottext">addrToText :: Addr -&gt; Text
</span><a href="Cardano.Ledger.Address.html#addrToText"><span class="hs-identifier hs-var hs-var">addrToText</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Text
</span><span class="hs-identifier hs-var">Text.decodeLatin1</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Text) -&gt; (Addr -&gt; ByteString) -&gt; Addr -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/base16-bytestring-1.0.2.0-9ee6195db8aa68eff84c30f8281e5a8902536668e00c8d5aecb570a4d535b748/share/doc/html/src/Data.ByteString.Base16.html#encode"><span class="hs-identifier hs-var">B16.encode</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString)
-&gt; (Addr -&gt; ByteString) -&gt; Addr -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Addr -&gt; ByteString
</span><a href="Cardano.Ledger.Address.html#serialiseAddr"><span class="hs-identifier hs-var">serialiseAddr</span></a></span><span>
</span><span id="line-226"></span><span>
</span><span id="line-227"></span><span class="annot"><a href="Cardano.Ledger.Address.html#parseAddr"><span class="hs-identifier hs-type">parseAddr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/aeson-2.2.3.0-86b3ded2a2a93d56f93497d21d3bbbb23e8718e44c9fa876ad561a4cceac08c1/share/doc/html/src/Data.Aeson.Types.Internal.html#Parser"><span class="hs-identifier hs-type">Aeson.Parser</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Addr"><span class="hs-identifier hs-type">Addr</span></a></span><span>
</span><span id="line-228"></span><span id="parseAddr"><span class="annot"><span class="annottext">parseAddr :: Text -&gt; Parser Addr
</span><a href="Cardano.Ledger.Address.html#parseAddr"><span class="hs-identifier hs-var hs-var">parseAddr</span></a></span></span><span> </span><span id="local-6989586621679447410"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679447410"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-229"></span><span>  </span><span id="local-6989586621679447411"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679447411"><span class="hs-identifier hs-var">bytes</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Parser ByteString)
-&gt; (ByteString -&gt; Parser ByteString)
-&gt; Either String ByteString
-&gt; Parser ByteString
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Parser ByteString
forall {m :: * -&gt; *} {a} {a}. (MonadFail m, Show a) =&gt; a -&gt; m a
</span><a href="#local-6989586621679447413"><span class="hs-identifier hs-var">badHex</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Parser ByteString
forall a. a -&gt; Parser a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; Either String ByteString
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/base16-bytestring-1.0.2.0-9ee6195db8aa68eff84c30f8281e5a8902536668e00c8d5aecb570a4d535b748/share/doc/html/src/Data.ByteString.Base16.html#decode"><span class="hs-identifier hs-var">B16.decode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; ByteString
</span><span class="hs-identifier hs-var">Text.encodeUtf8</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679447410"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-230"></span><span>  </span><span class="annot"><span class="annottext">ByteString -&gt; Parser Addr
forall (m :: * -&gt; *). MonadFail m =&gt; ByteString -&gt; m Addr
</span><a href="Cardano.Ledger.Address.html#decodeAddr"><span class="hs-identifier hs-var">decodeAddr</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679447411"><span class="hs-identifier hs-var">bytes</span></a></span><span>
</span><span id="line-231"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-232"></span><span>    </span><span id="local-6989586621679447413"><span class="annot"><span class="annottext">badHex :: a -&gt; m a
</span><a href="#local-6989586621679447413"><span class="hs-identifier hs-var hs-var">badHex</span></a></span></span><span> </span><span id="local-6989586621679447431"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679447431"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; m a
forall a. String -&gt; m a
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><span class="hs-identifier hs-var">fail</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m a) -&gt; String -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Addresses are expected in hex encoding for now: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679447431"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-233"></span><span>
</span><span id="line-234"></span><span class="annot"><a href="Cardano.Ledger.Address.html#byron"><span class="hs-identifier hs-type">byron</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-235"></span><span id="byron"><span class="annot"><span class="annottext">byron :: Int
</span><a href="Cardano.Ledger.Address.html#byron"><span class="hs-identifier hs-var hs-var">byron</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">7</span></span><span>
</span><span id="line-236"></span><span>
</span><span id="line-237"></span><span class="annot"><a href="Cardano.Ledger.Address.html#notBaseAddr"><span class="hs-identifier hs-type">notBaseAddr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-238"></span><span id="notBaseAddr"><span class="annot"><span class="annottext">notBaseAddr :: Int
</span><a href="Cardano.Ledger.Address.html#notBaseAddr"><span class="hs-identifier hs-var hs-var">notBaseAddr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">6</span></span><span>
</span><span id="line-239"></span><span>
</span><span id="line-240"></span><span class="annot"><a href="Cardano.Ledger.Address.html#isEnterpriseAddr"><span class="hs-identifier hs-type">isEnterpriseAddr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-241"></span><span id="isEnterpriseAddr"><span class="annot"><span class="annottext">isEnterpriseAddr :: Int
</span><a href="Cardano.Ledger.Address.html#isEnterpriseAddr"><span class="hs-identifier hs-var hs-var">isEnterpriseAddr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span class="annot"><a href="Cardano.Ledger.Address.html#stakeCredIsScript"><span class="hs-identifier hs-type">stakeCredIsScript</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-244"></span><span id="stakeCredIsScript"><span class="annot"><span class="annottext">stakeCredIsScript :: Int
</span><a href="Cardano.Ledger.Address.html#stakeCredIsScript"><span class="hs-identifier hs-var hs-var">stakeCredIsScript</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span>
</span><span id="line-245"></span><span>
</span><span id="line-246"></span><span class="annot"><a href="Cardano.Ledger.Address.html#payCredIsScript"><span class="hs-identifier hs-type">payCredIsScript</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-247"></span><span id="payCredIsScript"><span class="annot"><span class="annottext">payCredIsScript :: Int
</span><a href="Cardano.Ledger.Address.html#payCredIsScript"><span class="hs-identifier hs-var hs-var">payCredIsScript</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span>
</span><span id="line-248"></span><span>
</span><span id="line-249"></span><span class="annot"><a href="Cardano.Ledger.Address.html#putAddr"><span class="hs-identifier hs-type">putAddr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Addr"><span class="hs-identifier hs-type">Addr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Put</span></span><span>
</span><span id="line-250"></span><span id="putAddr"><span class="annot"><span class="annottext">putAddr :: Addr -&gt; Put
</span><a href="Cardano.Ledger.Address.html#putAddr"><span class="hs-identifier hs-var hs-var">putAddr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Address.html#AddrBootstrap"><span class="hs-identifier hs-type">AddrBootstrap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Address.html#BootstrapAddress"><span class="hs-identifier hs-type">BootstrapAddress</span></a></span><span> </span><span id="local-6989586621679447438"><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679447438"><span class="hs-identifier hs-var">byronAddr</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-251"></span><span>  </span><span class="annot"><span class="annottext">ByteString -&gt; Put
</span><span class="hs-identifier hs-var">B.putLazyByteString</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Version -&gt; Address -&gt; ByteString
forall a. EncCBOR a =&gt; Version -&gt; a -&gt; ByteString
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.html#serialize"><span class="hs-identifier hs-var">serialize</span></a></span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Version.html#byronProtVer"><span class="hs-identifier hs-var">byronProtVer</span></a></span><span> </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679447438"><span class="hs-identifier hs-var">byronAddr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-252"></span><span class="annot"><a href="Cardano.Ledger.Address.html#putAddr"><span class="hs-identifier hs-var">putAddr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Address.html#Addr"><span class="hs-identifier hs-type">Addr</span></a></span><span> </span><span id="local-6989586621679447440"><span class="annot"><span class="annottext">Network
</span><a href="#local-6989586621679447440"><span class="hs-identifier hs-var">network</span></a></span></span><span> </span><span id="local-6989586621679447441"><span class="annot"><span class="annottext">PaymentCredential
</span><a href="#local-6989586621679447441"><span class="hs-identifier hs-var">pc</span></a></span></span><span> </span><span id="local-6989586621679447442"><span class="annot"><span class="annottext">StakeReference
</span><a href="#local-6989586621679447442"><span class="hs-identifier hs-var">sr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-253"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679447443"><span class="annot"><span class="annottext">setPayCredBit :: Word8 -&gt; Word8
</span><a href="#local-6989586621679447443"><span class="hs-identifier hs-var hs-var">setPayCredBit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PaymentCredential
</span><a href="#local-6989586621679447441"><span class="hs-identifier hs-var">pc</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-254"></span><span>        </span><span class="annot"><a href="Cardano.Ledger.Credential.html#ScriptHashObj"><span class="hs-identifier hs-type">ScriptHashObj</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptHash
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Word8 -&gt; Int -&gt; Word8) -&gt; Int -&gt; Word8 -&gt; Word8
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Int -&gt; Word8
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">setBit</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="Cardano.Ledger.Address.html#payCredIsScript"><span class="hs-identifier hs-var">payCredIsScript</span></a></span><span>
</span><span id="line-255"></span><span>        </span><span class="annot"><a href="Cardano.Ledger.Credential.html#KeyHashObj"><span class="hs-identifier hs-type">KeyHashObj</span></a></span><span> </span><span class="annot"><span class="annottext">KeyHash 'Payment
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Word8
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-256"></span><span>      </span><span id="local-6989586621679447447"><span class="annot"><span class="annottext">netId :: Word8
</span><a href="#local-6989586621679447447"><span class="hs-identifier hs-var hs-var">netId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Network -&gt; Word8
</span><a href="Cardano.Ledger.BaseTypes.html#networkToWord8"><span class="hs-identifier hs-var">networkToWord8</span></a></span><span> </span><span class="annot"><span class="annottext">Network
</span><a href="#local-6989586621679447440"><span class="hs-identifier hs-var">network</span></a></span><span>
</span><span id="line-257"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">StakeReference
</span><a href="#local-6989586621679447442"><span class="hs-identifier hs-var">sr</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-258"></span><span>        </span><span class="annot"><a href="Cardano.Ledger.Credential.html#StakeRefBase"><span class="hs-identifier hs-type">StakeRefBase</span></a></span><span> </span><span id="local-6989586621679447449"><span class="annot"><span class="annottext">Credential 'Staking
</span><a href="#local-6989586621679447449"><span class="hs-identifier hs-var">sc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-259"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679447450"><span class="annot"><span class="annottext">setStakeCredBit :: Word8 -&gt; Word8
</span><a href="#local-6989586621679447450"><span class="hs-identifier hs-var hs-var">setStakeCredBit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Credential 'Staking
</span><a href="#local-6989586621679447449"><span class="hs-identifier hs-var">sc</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-260"></span><span>                </span><span class="annot"><a href="Cardano.Ledger.Credential.html#ScriptHashObj"><span class="hs-identifier hs-type">ScriptHashObj</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptHash
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Word8 -&gt; Int -&gt; Word8) -&gt; Int -&gt; Word8 -&gt; Word8
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Int -&gt; Word8
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">setBit</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="Cardano.Ledger.Address.html#stakeCredIsScript"><span class="hs-identifier hs-var">stakeCredIsScript</span></a></span><span>
</span><span id="line-261"></span><span>                </span><span class="annot"><a href="Cardano.Ledger.Credential.html#KeyHashObj"><span class="hs-identifier hs-type">KeyHashObj</span></a></span><span> </span><span class="annot"><span class="annottext">KeyHash 'Staking
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Word8
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-262"></span><span>              </span><span id="local-6989586621679447451"><span class="annot"><span class="annottext">header :: Word8
</span><a href="#local-6989586621679447451"><span class="hs-identifier hs-var hs-var">header</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Word8
</span><a href="#local-6989586621679447450"><span class="hs-identifier hs-var">setStakeCredBit</span></a></span><span> </span><span class="annot"><span class="annottext">(Word8 -&gt; Word8) -&gt; (Word8 -&gt; Word8) -&gt; Word8 -&gt; Word8
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Word8
</span><a href="#local-6989586621679447443"><span class="hs-identifier hs-var">setPayCredBit</span></a></span><span> </span><span class="annot"><span class="annottext">(Word8 -&gt; Word8) -&gt; Word8 -&gt; Word8
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679447447"><span class="hs-identifier hs-var">netId</span></a></span><span>
</span><span id="line-263"></span><span>          </span><span class="annot"><span class="annottext">Word8 -&gt; Put
</span><span class="hs-identifier hs-var">B.putWord8</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679447451"><span class="hs-identifier hs-var">header</span></a></span><span>
</span><span id="line-264"></span><span>          </span><span class="annot"><span class="annottext">PaymentCredential -&gt; Put
forall (kr :: KeyRole). Credential kr -&gt; Put
</span><a href="Cardano.Ledger.Address.html#putCredential"><span class="hs-identifier hs-var">putCredential</span></a></span><span> </span><span class="annot"><span class="annottext">PaymentCredential
</span><a href="#local-6989586621679447441"><span class="hs-identifier hs-var">pc</span></a></span><span>
</span><span id="line-265"></span><span>          </span><span class="annot"><span class="annottext">Credential 'Staking -&gt; Put
forall (kr :: KeyRole). Credential kr -&gt; Put
</span><a href="Cardano.Ledger.Address.html#putCredential"><span class="hs-identifier hs-var">putCredential</span></a></span><span> </span><span class="annot"><span class="annottext">Credential 'Staking
</span><a href="#local-6989586621679447449"><span class="hs-identifier hs-var">sc</span></a></span><span>
</span><span id="line-266"></span><span>        </span><span class="annot"><a href="Cardano.Ledger.Credential.html#StakeRefPtr"><span class="hs-identifier hs-type">StakeRefPtr</span></a></span><span> </span><span id="local-6989586621679447454"><span class="annot"><span class="annottext">Ptr
</span><a href="#local-6989586621679447454"><span class="hs-identifier hs-var">ptr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-267"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679447455"><span class="annot"><span class="annottext">header :: Word8
</span><a href="#local-6989586621679447455"><span class="hs-identifier hs-var hs-var">header</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Word8
</span><a href="#local-6989586621679447443"><span class="hs-identifier hs-var">setPayCredBit</span></a></span><span> </span><span class="annot"><span class="annottext">(Word8 -&gt; Word8) -&gt; Word8 -&gt; Word8
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679447447"><span class="hs-identifier hs-var">netId</span></a></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Int -&gt; Word8
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">`setBit`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="Cardano.Ledger.Address.html#notBaseAddr"><span class="hs-identifier hs-var">notBaseAddr</span></a></span><span>
</span><span id="line-268"></span><span>          </span><span class="annot"><span class="annottext">Word8 -&gt; Put
</span><span class="hs-identifier hs-var">B.putWord8</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679447455"><span class="hs-identifier hs-var">header</span></a></span><span>
</span><span id="line-269"></span><span>          </span><span class="annot"><span class="annottext">PaymentCredential -&gt; Put
forall (kr :: KeyRole). Credential kr -&gt; Put
</span><a href="Cardano.Ledger.Address.html#putCredential"><span class="hs-identifier hs-var">putCredential</span></a></span><span> </span><span class="annot"><span class="annottext">PaymentCredential
</span><a href="#local-6989586621679447441"><span class="hs-identifier hs-var">pc</span></a></span><span>
</span><span id="line-270"></span><span>          </span><span class="annot"><span class="annottext">Ptr -&gt; Put
</span><a href="Cardano.Ledger.Address.html#putPtr"><span class="hs-identifier hs-var">putPtr</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr
</span><a href="#local-6989586621679447454"><span class="hs-identifier hs-var">ptr</span></a></span><span>
</span><span id="line-271"></span><span>        </span><span class="annot"><span class="annottext">StakeReference
</span><a href="Cardano.Ledger.Credential.html#StakeRefNull"><span class="hs-identifier hs-var">StakeRefNull</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-272"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679447457"><span class="annot"><span class="annottext">header :: Word8
</span><a href="#local-6989586621679447457"><span class="hs-identifier hs-var hs-var">header</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Word8
</span><a href="#local-6989586621679447443"><span class="hs-identifier hs-var">setPayCredBit</span></a></span><span> </span><span class="annot"><span class="annottext">(Word8 -&gt; Word8) -&gt; Word8 -&gt; Word8
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679447447"><span class="hs-identifier hs-var">netId</span></a></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Int -&gt; Word8
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">`setBit`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="Cardano.Ledger.Address.html#isEnterpriseAddr"><span class="hs-identifier hs-var">isEnterpriseAddr</span></a></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Int -&gt; Word8
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">`setBit`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="Cardano.Ledger.Address.html#notBaseAddr"><span class="hs-identifier hs-var">notBaseAddr</span></a></span><span>
</span><span id="line-273"></span><span>          </span><span class="annot"><span class="annottext">Word8 -&gt; Put
</span><span class="hs-identifier hs-var">B.putWord8</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679447457"><span class="hs-identifier hs-var">header</span></a></span><span>
</span><span id="line-274"></span><span>          </span><span class="annot"><span class="annottext">PaymentCredential -&gt; Put
forall (kr :: KeyRole). Credential kr -&gt; Put
</span><a href="Cardano.Ledger.Address.html#putCredential"><span class="hs-identifier hs-var">putCredential</span></a></span><span> </span><span class="annot"><span class="annottext">PaymentCredential
</span><a href="#local-6989586621679447441"><span class="hs-identifier hs-var">pc</span></a></span><span>
</span><span id="line-275"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#putAddr"><span class="hs-pragma hs-type">putAddr</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-276"></span><span>
</span><span id="line-277"></span><span class="annot"><a href="Cardano.Ledger.Address.html#putRewardAccount"><span class="hs-identifier hs-type">putRewardAccount</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#RewardAccount"><span class="hs-identifier hs-type">RewardAccount</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Put</span></span><span>
</span><span id="line-278"></span><span id="putRewardAccount"><span class="annot"><span class="annottext">putRewardAccount :: RewardAccount -&gt; Put
</span><a href="Cardano.Ledger.Address.html#putRewardAccount"><span class="hs-identifier hs-var hs-var">putRewardAccount</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Address.html#RewardAccount"><span class="hs-identifier hs-type">RewardAccount</span></a></span><span> </span><span id="local-6989586621679447458"><span class="annot"><span class="annottext">Network
</span><a href="#local-6989586621679447458"><span class="hs-identifier hs-var">network</span></a></span></span><span> </span><span id="local-6989586621679447459"><span class="annot"><span class="annottext">Credential 'Staking
</span><a href="#local-6989586621679447459"><span class="hs-identifier hs-var">cred</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-279"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679447460"><span class="annot"><span class="annottext">setPayCredBit :: Word8 -&gt; Word8
</span><a href="#local-6989586621679447460"><span class="hs-identifier hs-var hs-var">setPayCredBit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Credential 'Staking
</span><a href="#local-6989586621679447459"><span class="hs-identifier hs-var">cred</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-280"></span><span>        </span><span class="annot"><a href="Cardano.Ledger.Credential.html#ScriptHashObj"><span class="hs-identifier hs-type">ScriptHashObj</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptHash
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Word8 -&gt; Int -&gt; Word8) -&gt; Int -&gt; Word8 -&gt; Word8
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Int -&gt; Word8
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">setBit</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="Cardano.Ledger.Address.html#payCredIsScript"><span class="hs-identifier hs-var">payCredIsScript</span></a></span><span>
</span><span id="line-281"></span><span>        </span><span class="annot"><a href="Cardano.Ledger.Credential.html#KeyHashObj"><span class="hs-identifier hs-type">KeyHashObj</span></a></span><span> </span><span class="annot"><span class="annottext">KeyHash 'Staking
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Word8
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-282"></span><span>      </span><span id="local-6989586621679447461"><span class="annot"><span class="annottext">netId :: Word8
</span><a href="#local-6989586621679447461"><span class="hs-identifier hs-var hs-var">netId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Network -&gt; Word8
</span><a href="Cardano.Ledger.BaseTypes.html#networkToWord8"><span class="hs-identifier hs-var">networkToWord8</span></a></span><span> </span><span class="annot"><span class="annottext">Network
</span><a href="#local-6989586621679447458"><span class="hs-identifier hs-var">network</span></a></span><span>
</span><span id="line-283"></span><span>      </span><span id="local-6989586621679447463"><span class="annot"><span class="annottext">rewardAccountPrefix :: Word8
</span><a href="#local-6989586621679447463"><span class="hs-identifier hs-var hs-var">rewardAccountPrefix</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">0xE0</span></span><span> </span><span class="hs-comment">-- 0b11100000 are always set for reward accounts</span><span>
</span><span id="line-284"></span><span>      </span><span id="local-6989586621679447464"><span class="annot"><span class="annottext">header :: Word8
</span><a href="#local-6989586621679447464"><span class="hs-identifier hs-var hs-var">header</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Word8
</span><a href="#local-6989586621679447460"><span class="hs-identifier hs-var">setPayCredBit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679447461"><span class="hs-identifier hs-var">netId</span></a></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Word8 -&gt; Word8
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679447463"><span class="hs-identifier hs-var">rewardAccountPrefix</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-285"></span><span>  </span><span class="annot"><span class="annottext">Word8 -&gt; Put
</span><span class="hs-identifier hs-var">B.putWord8</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679447464"><span class="hs-identifier hs-var">header</span></a></span><span>
</span><span id="line-286"></span><span>  </span><span class="annot"><span class="annottext">Credential 'Staking -&gt; Put
forall (kr :: KeyRole). Credential kr -&gt; Put
</span><a href="Cardano.Ledger.Address.html#putCredential"><span class="hs-identifier hs-var">putCredential</span></a></span><span> </span><span class="annot"><span class="annottext">Credential 'Staking
</span><a href="#local-6989586621679447459"><span class="hs-identifier hs-var">cred</span></a></span><span>
</span><span id="line-287"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#putRewardAccount"><span class="hs-pragma hs-type">putRewardAccount</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-288"></span><span>
</span><span id="line-289"></span><span id="local-6989586621679446540"><span id="local-6989586621679446541"><span class="annot"><a href="Cardano.Ledger.Address.html#putHash"><span class="hs-identifier hs-type">putHash</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-crypto-class-2.2.3.1-587788bd0abb83ca86364e7e25fdd2cb1ce3c8f25ede4b71a1cb43e4a1d72f36/share/doc/html/src/Cardano.Crypto.Hash.Class.html#Hash"><span class="hs-identifier hs-type">Hash.Hash</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446540"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446541"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Put</span></span></span></span><span>
</span><span id="line-290"></span><span id="putHash"><span class="annot"><span class="annottext">putHash :: forall h a. Hash h a -&gt; Put
</span><a href="Cardano.Ledger.Address.html#putHash"><span class="hs-identifier hs-var hs-var">putHash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Put
</span><span class="hs-identifier hs-var">B.putByteString</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Put) -&gt; (Hash h a -&gt; ByteString) -&gt; Hash h a -&gt; Put
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Hash h a -&gt; ByteString
forall h a. Hash h a -&gt; ByteString
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-crypto-class-2.2.3.1-587788bd0abb83ca86364e7e25fdd2cb1ce3c8f25ede4b71a1cb43e4a1d72f36/share/doc/html/src/Cardano.Crypto.Hash.Class.html#hashToBytes"><span class="hs-identifier hs-var">Hash.hashToBytes</span></a></span><span>
</span><span id="line-291"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#putHash"><span class="hs-pragma hs-type">putHash</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-292"></span><span>
</span><span id="line-293"></span><span id="local-6989586621679446538"><span class="annot"><a href="Cardano.Ledger.Address.html#putCredential"><span class="hs-identifier hs-type">putCredential</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446538"><span class="hs-identifier hs-type">kr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Put</span></span></span><span>
</span><span id="line-294"></span><span id="putCredential"><span class="annot"><span class="annottext">putCredential :: forall (kr :: KeyRole). Credential kr -&gt; Put
</span><a href="Cardano.Ledger.Address.html#putCredential"><span class="hs-identifier hs-var hs-var">putCredential</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Credential.html#ScriptHashObj"><span class="hs-identifier hs-type">ScriptHashObj</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Hashes.html#ScriptHash"><span class="hs-identifier hs-type">ScriptHash</span></a></span><span> </span><span id="local-6989586621679447469"><span class="annot"><span class="annottext">Hash ADDRHASH EraIndependentScript
</span><a href="#local-6989586621679447469"><span class="hs-identifier hs-var">h</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Hash ADDRHASH EraIndependentScript -&gt; Put
forall h a. Hash h a -&gt; Put
</span><a href="Cardano.Ledger.Address.html#putHash"><span class="hs-identifier hs-var">putHash</span></a></span><span> </span><span class="annot"><span class="annottext">Hash ADDRHASH EraIndependentScript
</span><a href="#local-6989586621679447469"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-295"></span><span class="annot"><a href="Cardano.Ledger.Address.html#putCredential"><span class="hs-identifier hs-var">putCredential</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Credential.html#KeyHashObj"><span class="hs-identifier hs-type">KeyHashObj</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Hashes.html#KeyHash"><span class="hs-identifier hs-type">KeyHash</span></a></span><span> </span><span id="local-6989586621679447471"><span class="annot"><span class="annottext">Hash ADDRHASH (VerKeyDSIGN DSIGN)
</span><a href="#local-6989586621679447471"><span class="hs-identifier hs-var">h</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Hash ADDRHASH (VerKeyDSIGN DSIGN) -&gt; Put
forall h a. Hash h a -&gt; Put
</span><a href="Cardano.Ledger.Address.html#putHash"><span class="hs-identifier hs-var">putHash</span></a></span><span> </span><span class="annot"><span class="annottext">Hash ADDRHASH (VerKeyDSIGN DSIGN)
</span><a href="#local-6989586621679447471"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-296"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#putCredential"><span class="hs-pragma hs-type">putCredential</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-297"></span><span>
</span><span id="line-298"></span><span class="hs-comment">-- | The size of the extra attributes in a bootstrap (ie Byron) address. Used</span><span>
</span><span id="line-299"></span><span class="hs-comment">-- to help enforce that people do not post huge ones on the chain.</span><span>
</span><span id="line-300"></span><span class="annot"><a href="Cardano.Ledger.Address.html#bootstrapAddressAttrsSize"><span class="hs-identifier hs-type">bootstrapAddressAttrsSize</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#BootstrapAddress"><span class="hs-identifier hs-type">BootstrapAddress</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-301"></span><span id="bootstrapAddressAttrsSize"><span class="annot"><span class="annottext">bootstrapAddressAttrsSize :: BootstrapAddress -&gt; Int
</span><a href="Cardano.Ledger.Address.html#bootstrapAddressAttrsSize"><span class="hs-identifier hs-var hs-var">bootstrapAddressAttrsSize</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Address.html#BootstrapAddress"><span class="hs-identifier hs-type">BootstrapAddress</span></a></span><span> </span><span id="local-6989586621679447472"><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679447472"><span class="hs-identifier hs-var">addr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-302"></span><span>  </span><span class="annot"><span class="annottext">Int -&gt; (HDAddressPayload -&gt; Int) -&gt; Maybe HDAddressPayload -&gt; Int
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">HDAddressPayload -&gt; Int
</span><a href="#local-6989586621679447474"><span class="hs-identifier hs-var">payloadLen</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe HDAddressPayload
</span><a href="#local-6989586621679447475"><span class="hs-identifier hs-var">derivationPath</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Attributes AddrAttributes -&gt; Int
forall a. Attributes a -&gt; Int
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-byron-1.2.0.0/doc/html/cardano-ledger-byron/src/Cardano.Chain.Common.Attributes.html#unknownAttributesLength"><span class="hs-identifier hs-var">Byron.unknownAttributesLength</span></a></span><span> </span><span class="annot"><span class="annottext">Attributes AddrAttributes
</span><a href="#local-6989586621679447478"><span class="hs-identifier hs-var">attrs</span></a></span><span>
</span><span id="line-303"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-304"></span><span>    </span><span id="local-6989586621679447474"><span class="annot"><span class="annottext">payloadLen :: HDAddressPayload -&gt; Int
</span><a href="#local-6989586621679447474"><span class="hs-identifier hs-var hs-var">payloadLen</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Int
</span><span class="hs-identifier hs-var">BS.length</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Int)
-&gt; (HDAddressPayload -&gt; ByteString) -&gt; HDAddressPayload -&gt; Int
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HDAddressPayload -&gt; ByteString
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-byron-1.2.0.0/doc/html/cardano-ledger-byron/src/Cardano.Chain.Common.AddrAttributes.html#getHDAddressPayload"><span class="hs-identifier hs-var">Byron.getHDAddressPayload</span></a></span><span>
</span><span id="line-305"></span><span>    </span><span id="local-6989586621679447475"><span class="annot"><span class="annottext">derivationPath :: Maybe HDAddressPayload
</span><a href="#local-6989586621679447475"><span class="hs-identifier hs-var hs-var">derivationPath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AddrAttributes -&gt; Maybe HDAddressPayload
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-byron-1.2.0.0/doc/html/cardano-ledger-byron/src/Cardano.Chain.Common.AddrAttributes.html#aaVKDerivationPath"><span class="hs-identifier hs-var">Byron.aaVKDerivationPath</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Attributes AddrAttributes -&gt; AddrAttributes
forall h. Attributes h -&gt; h
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-byron-1.2.0.0/doc/html/cardano-ledger-byron/src/Cardano.Chain.Common.Attributes.html#attrData"><span class="hs-identifier hs-var">Byron.attrData</span></a></span><span> </span><span class="annot"><span class="annottext">Attributes AddrAttributes
</span><a href="#local-6989586621679447478"><span class="hs-identifier hs-var">attrs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-306"></span><span>    </span><span id="local-6989586621679447478"><span class="annot"><span class="annottext">attrs :: Attributes AddrAttributes
</span><a href="#local-6989586621679447478"><span class="hs-identifier hs-var hs-var">attrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Address -&gt; Attributes AddrAttributes
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-byron-1.2.0.0/doc/html/cardano-ledger-byron/src/Cardano.Chain.Common.Address.html#addrAttributes"><span class="hs-identifier hs-var">Byron.addrAttributes</span></a></span><span> </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679447472"><span class="hs-identifier hs-var">addr</span></a></span><span>
</span><span id="line-307"></span><span>
</span><span id="line-308"></span><span class="annot"><span class="hs-comment">-- | Return True if a given address is a redeemer address from the Byron Era</span></span><span>
</span><span id="line-309"></span><span class="annot"><a href="Cardano.Ledger.Address.html#isBootstrapRedeemer"><span class="hs-identifier hs-type">isBootstrapRedeemer</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#BootstrapAddress"><span class="hs-identifier hs-type">BootstrapAddress</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-310"></span><span id="isBootstrapRedeemer"><span class="annot"><span class="annottext">isBootstrapRedeemer :: BootstrapAddress -&gt; Bool
</span><a href="Cardano.Ledger.Address.html#isBootstrapRedeemer"><span class="hs-identifier hs-var hs-var">isBootstrapRedeemer</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Address.html#BootstrapAddress"><span class="hs-identifier hs-type">BootstrapAddress</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-byron-1.2.0.0/doc/html/cardano-ledger-byron/src/Cardano.Chain.Common.Address.html#Address"><span class="hs-identifier hs-type">Byron.Address</span></a></span><span> </span><span class="annot"><span class="annottext">AddressHash Address'
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Attributes AddrAttributes
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">AddrType
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-byron-1.2.0.0/doc/html/cardano-ledger-byron/src/Cardano.Chain.Common.AddrSpendingData.html#ATRedeem"><span class="hs-identifier hs-var">Byron.ATRedeem</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-311"></span><span class="annot"><a href="Cardano.Ledger.Address.html#isBootstrapRedeemer"><span class="hs-identifier hs-var">isBootstrapRedeemer</span></a></span><span> </span><span class="annot"><span class="annottext">BootstrapAddress
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-312"></span><span>
</span><span id="line-313"></span><span class="annot"><a href="Cardano.Ledger.Address.html#putPtr"><span class="hs-identifier hs-type">putPtr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Credential.html#Ptr"><span class="hs-identifier hs-type">Ptr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Put</span></span><span>
</span><span id="line-314"></span><span id="putPtr"><span class="annot"><span class="annottext">putPtr :: Ptr -&gt; Put
</span><a href="Cardano.Ledger.Address.html#putPtr"><span class="hs-identifier hs-var hs-var">putPtr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Credential.html#Ptr"><span class="hs-identifier hs-type">Ptr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Credential.html#SlotNo32"><span class="hs-identifier hs-type">SlotNo32</span></a></span><span> </span><span id="local-6989586621679447485"><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621679447485"><span class="hs-identifier hs-var">slot</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.BaseTypes.html#TxIx"><span class="hs-identifier hs-type">TxIx</span></a></span><span> </span><span id="local-6989586621679447487"><span class="annot"><span class="annottext">Word16
</span><a href="#local-6989586621679447487"><span class="hs-identifier hs-var">txIx</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.BaseTypes.html#CertIx"><span class="hs-identifier hs-type">CertIx</span></a></span><span> </span><span id="local-6989586621679447489"><span class="annot"><span class="annottext">Word16
</span><a href="#local-6989586621679447489"><span class="hs-identifier hs-var">certIx</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-315"></span><span>  </span><span class="annot"><span class="annottext">Word64 -&gt; Put
</span><a href="Cardano.Ledger.Address.html#putVariableLengthWord64"><span class="hs-identifier hs-var">putVariableLengthWord64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word32 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621679447485"><span class="hs-identifier hs-var">slot</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-316"></span><span>  </span><span class="annot"><span class="annottext">Word64 -&gt; Put
</span><a href="Cardano.Ledger.Address.html#putVariableLengthWord64"><span class="hs-identifier hs-var">putVariableLengthWord64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word16 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word16
</span><a href="#local-6989586621679447487"><span class="hs-identifier hs-var">txIx</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- TODO: switch to using MemPack for compacting Address at which point</span><span>
</span><span id="line-317"></span><span>  </span><span class="annot"><span class="annottext">Word64 -&gt; Put
</span><a href="Cardano.Ledger.Address.html#putVariableLengthWord64"><span class="hs-identifier hs-var">putVariableLengthWord64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word16 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word16
</span><a href="#local-6989586621679447489"><span class="hs-identifier hs-var">certIx</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">--     this conversion from Word16 to Word64 will no longer be necessary</span><span>
</span><span id="line-318"></span><span>
</span><span id="line-319"></span><span class="hs-keyword">newtype</span><span> </span><span id="Word7"><span class="annot"><a href="Cardano.Ledger.Address.html#Word7"><span class="hs-identifier hs-var">Word7</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Word7"><span class="annot"><a href="Cardano.Ledger.Address.html#Word7"><span class="hs-identifier hs-var">Word7</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span>
</span><span id="line-320"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679447492"><span id="local-6989586621679447497"><span class="annot"><span class="annottext">Word7 -&gt; Word7 -&gt; Bool
(Word7 -&gt; Word7 -&gt; Bool) -&gt; (Word7 -&gt; Word7 -&gt; Bool) -&gt; Eq Word7
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Word7 -&gt; Word7 -&gt; Bool
== :: Word7 -&gt; Word7 -&gt; Bool
$c/= :: Word7 -&gt; Word7 -&gt; Bool
/= :: Word7 -&gt; Word7 -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679447502"><span id="local-6989586621679447507"><span id="local-6989586621679447511"><span class="annot"><span class="annottext">Int -&gt; Word7 -&gt; ShowS
[Word7] -&gt; ShowS
Word7 -&gt; String
(Int -&gt; Word7 -&gt; ShowS)
-&gt; (Word7 -&gt; String) -&gt; ([Word7] -&gt; ShowS) -&gt; Show Word7
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; Word7 -&gt; ShowS
showsPrec :: Int -&gt; Word7 -&gt; ShowS
$cshow :: Word7 -&gt; String
show :: Word7 -&gt; String
$cshowList :: [Word7] -&gt; ShowS
showList :: [Word7] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-321"></span><span>
</span><span id="line-322"></span><span class="annot"><a href="Cardano.Ledger.Address.html#toWord7"><span class="hs-identifier hs-type">toWord7</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Word7"><span class="hs-identifier hs-type">Word7</span></a></span><span>
</span><span id="line-323"></span><span id="toWord7"><span class="annot"><span class="annottext">toWord7 :: Word8 -&gt; Word7
</span><a href="Cardano.Ledger.Address.html#toWord7"><span class="hs-identifier hs-var hs-var">toWord7</span></a></span></span><span> </span><span id="local-6989586621679447513"><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679447513"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Word7
</span><a href="Cardano.Ledger.Address.html#Word7"><span class="hs-identifier hs-var">Word7</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679447513"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Word8 -&gt; Word8
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.&amp;.</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">0x7F</span></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- 0x7F = 0b01111111</span><span>
</span><span id="line-324"></span><span>
</span><span id="line-325"></span><span class="annot"><a href="Cardano.Ledger.Address.html#putWord7s"><span class="hs-identifier hs-type">putWord7s</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.Ledger.Address.html#Word7"><span class="hs-identifier hs-type">Word7</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Put</span></span><span>
</span><span id="line-326"></span><span id="putWord7s"><span class="annot"><span class="annottext">putWord7s :: [Word7] -&gt; Put
</span><a href="Cardano.Ledger.Address.html#putWord7s"><span class="hs-identifier hs-var hs-var">putWord7s</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; Put
forall a. a -&gt; PutM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-327"></span><span class="annot"><a href="Cardano.Ledger.Address.html#putWord7s"><span class="hs-identifier hs-var">putWord7s</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.Ledger.Address.html#Word7"><span class="hs-identifier hs-type">Word7</span></a></span><span> </span><span id="local-6989586621679447515"><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679447515"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Put
</span><span class="hs-identifier hs-var">B.putWord8</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679447515"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-328"></span><span class="annot"><a href="Cardano.Ledger.Address.html#putWord7s"><span class="hs-identifier hs-var">putWord7s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Address.html#Word7"><span class="hs-identifier hs-type">Word7</span></a></span><span> </span><span id="local-6989586621679447516"><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679447516"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621679447517"><span class="annot"><span class="annottext">[Word7]
</span><a href="#local-6989586621679447517"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Put
</span><span class="hs-identifier hs-var">B.putWord8</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679447516"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Word8 -&gt; Word8
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">0x80</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Put -&gt; Put -&gt; Put
forall a b. PutM a -&gt; PutM b -&gt; PutM b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Word7] -&gt; Put
</span><a href="Cardano.Ledger.Address.html#putWord7s"><span class="hs-identifier hs-var">putWord7s</span></a></span><span> </span><span class="annot"><span class="annottext">[Word7]
</span><a href="#local-6989586621679447517"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-329"></span><span>
</span><span id="line-330"></span><span class="annot"><a href="Cardano.Ledger.Address.html#word64ToWord7s"><span class="hs-identifier hs-type">word64ToWord7s</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.Ledger.Address.html#Word7"><span class="hs-identifier hs-type">Word7</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-331"></span><span id="word64ToWord7s"><span class="annot"><span class="annottext">word64ToWord7s :: Word64 -&gt; [Word7]
</span><a href="Cardano.Ledger.Address.html#word64ToWord7s"><span class="hs-identifier hs-var hs-var">word64ToWord7s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Word7] -&gt; [Word7]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">([Word7] -&gt; [Word7]) -&gt; (Word64 -&gt; [Word7]) -&gt; Word64 -&gt; [Word7]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; [Word7]
</span><a href="#local-6989586621679447520"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-332"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-333"></span><span>    </span><span class="annot"><a href="#local-6989586621679447520"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.Ledger.Address.html#Word7"><span class="hs-identifier hs-type">Word7</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-334"></span><span>    </span><span id="local-6989586621679447520"><span class="annot"><span class="annottext">go :: Word64 -&gt; [Word7]
</span><a href="#local-6989586621679447520"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679447521"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679447521"><span class="hs-identifier hs-var">n</span></a></span></span><span>
</span><span id="line-335"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679447521"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0x7F</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8 -&gt; Word7
</span><a href="Cardano.Ledger.Address.html#toWord7"><span class="hs-identifier hs-var">toWord7</span></a></span><span> </span><span class="annot"><span class="annottext">(Word8 -&gt; Word7) -&gt; (Word64 -&gt; Word8) -&gt; Word64 -&gt; Word7
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word8
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679447521"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Word7 -&gt; [Word7] -&gt; [Word7]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; [Word7]
</span><a href="#local-6989586621679447520"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">shiftR</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679447521"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">7</span></span><span class="hs-special">)</span><span>
</span><span id="line-336"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Word8 -&gt; Word7
</span><a href="Cardano.Ledger.Address.html#Word7"><span class="hs-identifier hs-var">Word7</span></a></span><span> </span><span class="annot"><span class="annottext">(Word8 -&gt; Word7) -&gt; (Word64 -&gt; Word8) -&gt; Word64 -&gt; Word7
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word8
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; Word7) -&gt; Word64 -&gt; Word7
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679447521"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-337"></span><span>
</span><span id="line-338"></span><span class="annot"><a href="Cardano.Ledger.Address.html#putVariableLengthWord64"><span class="hs-identifier hs-type">putVariableLengthWord64</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Put</span></span><span>
</span><span id="line-339"></span><span id="putVariableLengthWord64"><span class="annot"><span class="annottext">putVariableLengthWord64 :: Word64 -&gt; Put
</span><a href="Cardano.Ledger.Address.html#putVariableLengthWord64"><span class="hs-identifier hs-var hs-var">putVariableLengthWord64</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Word7] -&gt; Put
</span><a href="Cardano.Ledger.Address.html#putWord7s"><span class="hs-identifier hs-var">putWord7s</span></a></span><span> </span><span class="annot"><span class="annottext">([Word7] -&gt; Put) -&gt; (Word64 -&gt; [Word7]) -&gt; Word64 -&gt; Put
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; [Word7]
</span><a href="Cardano.Ledger.Address.html#word64ToWord7s"><span class="hs-identifier hs-var">word64ToWord7s</span></a></span><span>
</span><span id="line-340"></span><span>
</span><span id="line-341"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679447527"><span id="local-6989586621679447531"><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#EncCBOR"><span class="hs-identifier hs-type">EncCBOR</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Addr"><span class="hs-identifier hs-type">Addr</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-342"></span><span>  </span><span id="local-6989586621679447536"><span class="annot"><span class="annottext">encCBOR :: Addr -&gt; Encoding
</span><a href="#local-6989586621679447536"><span class="hs-identifier hs-var hs-var hs-var hs-var">encCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Encoding
forall a. EncCBOR a =&gt; a -&gt; Encoding
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#encCBOR"><span class="hs-identifier hs-var">encCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Encoding)
-&gt; (Addr -&gt; ByteString) -&gt; Addr -&gt; Encoding
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Put -&gt; ByteString
</span><span class="hs-identifier hs-var">B.runPut</span></span><span> </span><span class="annot"><span class="annottext">(Put -&gt; ByteString) -&gt; (Addr -&gt; Put) -&gt; Addr -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Addr -&gt; Put
</span><a href="Cardano.Ledger.Address.html#putAddr"><span class="hs-identifier hs-var">putAddr</span></a></span><span>
</span><span id="line-343"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#encCBOR"><span class="hs-pragma hs-type">encCBOR</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-344"></span><span>
</span><span id="line-345"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679447542"><span id="local-6989586621679447546"><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#DecCBOR"><span class="hs-identifier hs-type">DecCBOR</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Addr"><span class="hs-identifier hs-type">Addr</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-346"></span><span>  </span><span id="local-6989586621679447549"><span class="annot"><span class="annottext">decCBOR :: forall s. Decoder s Addr
</span><a href="#local-6989586621679447549"><span class="hs-identifier hs-var hs-var hs-var hs-var">decCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Decoder s Addr
forall s. Decoder s Addr
</span><a href="Cardano.Ledger.Address.html#fromCborAddr"><span class="hs-identifier hs-var">fromCborAddr</span></a></span><span>
</span><span id="line-347"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#decCBOR"><span class="hs-pragma hs-type">decCBOR</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-348"></span><span>
</span><span id="line-349"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679447555"><span id="local-6989586621679447559"><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#EncCBOR"><span class="hs-identifier hs-type">EncCBOR</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#RewardAccount"><span class="hs-identifier hs-type">RewardAccount</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-350"></span><span>  </span><span id="local-6989586621679447562"><span class="annot"><span class="annottext">encCBOR :: RewardAccount -&gt; Encoding
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#encCBOR"><span class="hs-identifier hs-var hs-var hs-var hs-var">encCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Encoding
forall a. EncCBOR a =&gt; a -&gt; Encoding
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#encCBOR"><span class="hs-identifier hs-var">encCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Encoding)
-&gt; (RewardAccount -&gt; ByteString) -&gt; RewardAccount -&gt; Encoding
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Put -&gt; ByteString
</span><span class="hs-identifier hs-var">B.runPut</span></span><span> </span><span class="annot"><span class="annottext">(Put -&gt; ByteString)
-&gt; (RewardAccount -&gt; Put) -&gt; RewardAccount -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">RewardAccount -&gt; Put
</span><a href="Cardano.Ledger.Address.html#putRewardAccount"><span class="hs-identifier hs-var">putRewardAccount</span></a></span><span>
</span><span id="line-351"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#encCBOR"><span class="hs-pragma hs-type">encCBOR</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-352"></span><span>
</span><span id="line-353"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679447567"><span id="local-6989586621679447571"><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#DecCBOR"><span class="hs-identifier hs-type">DecCBOR</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#RewardAccount"><span class="hs-identifier hs-type">RewardAccount</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-354"></span><span>  </span><span id="local-6989586621679447573"><span class="annot"><span class="annottext">decCBOR :: forall s. Decoder s RewardAccount
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#decCBOR"><span class="hs-identifier hs-var hs-var hs-var hs-var">decCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Decoder s RewardAccount
forall s. Decoder s RewardAccount
</span><a href="Cardano.Ledger.Address.html#fromCborRewardAccount"><span class="hs-identifier hs-var">fromCborRewardAccount</span></a></span><span>
</span><span id="line-355"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#decCBOR"><span class="hs-pragma hs-type">decCBOR</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-356"></span><span>
</span><span id="line-357"></span><span class="hs-keyword">newtype</span><span> </span><span id="BootstrapAddress"><span class="annot"><a href="Cardano.Ledger.Address.html#BootstrapAddress"><span class="hs-identifier hs-var">BootstrapAddress</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="BootstrapAddress"><span class="annot"><a href="Cardano.Ledger.Address.html#BootstrapAddress"><span class="hs-identifier hs-var">BootstrapAddress</span></a></span></span><span>
</span><span id="line-358"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="unBootstrapAddress"><span class="annot"><span class="annottext">BootstrapAddress -&gt; Address
</span><a href="Cardano.Ledger.Address.html#unBootstrapAddress"><span class="hs-identifier hs-var hs-var">unBootstrapAddress</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-byron-1.2.0.0/doc/html/cardano-ledger-byron/src/Cardano.Chain.Common.Address.html#Address"><span class="hs-identifier hs-type">Byron.Address</span></a></span><span>
</span><span id="line-359"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-360"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679447576"><span id="local-6989586621679447581"><span class="annot"><span class="annottext">BootstrapAddress -&gt; BootstrapAddress -&gt; Bool
(BootstrapAddress -&gt; BootstrapAddress -&gt; Bool)
-&gt; (BootstrapAddress -&gt; BootstrapAddress -&gt; Bool)
-&gt; Eq BootstrapAddress
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: BootstrapAddress -&gt; BootstrapAddress -&gt; Bool
== :: BootstrapAddress -&gt; BootstrapAddress -&gt; Bool
$c/= :: BootstrapAddress -&gt; BootstrapAddress -&gt; Bool
/= :: BootstrapAddress -&gt; BootstrapAddress -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679447585"><span id="local-6989586621679447587"><span class="annot"><span class="annottext">(forall x. BootstrapAddress -&gt; Rep BootstrapAddress x)
-&gt; (forall x. Rep BootstrapAddress x -&gt; BootstrapAddress)
-&gt; Generic BootstrapAddress
forall x. Rep BootstrapAddress x -&gt; BootstrapAddress
forall x. BootstrapAddress -&gt; Rep BootstrapAddress x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. BootstrapAddress -&gt; Rep BootstrapAddress x
from :: forall x. BootstrapAddress -&gt; Rep BootstrapAddress x
$cto :: forall x. Rep BootstrapAddress x -&gt; BootstrapAddress
to :: forall x. Rep BootstrapAddress x -&gt; BootstrapAddress
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-361"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679447590"><span class="annot"><span class="annottext">BootstrapAddress -&gt; ()
(BootstrapAddress -&gt; ()) -&gt; NFData BootstrapAddress
forall a. (a -&gt; ()) -&gt; NFData a
$crnf :: BootstrapAddress -&gt; ()
rnf :: BootstrapAddress -&gt; ()
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">NFData</span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679447597"><span id="local-6989586621679447602"><span id="local-6989586621679447606"><span id="local-6989586621679447610"><span id="local-6989586621679447614"><span id="local-6989586621679447618"><span id="local-6989586621679447622"><span class="annot"><span class="annottext">Eq BootstrapAddress
Eq BootstrapAddress =&gt;
(BootstrapAddress -&gt; BootstrapAddress -&gt; Ordering)
-&gt; (BootstrapAddress -&gt; BootstrapAddress -&gt; Bool)
-&gt; (BootstrapAddress -&gt; BootstrapAddress -&gt; Bool)
-&gt; (BootstrapAddress -&gt; BootstrapAddress -&gt; Bool)
-&gt; (BootstrapAddress -&gt; BootstrapAddress -&gt; Bool)
-&gt; (BootstrapAddress -&gt; BootstrapAddress -&gt; BootstrapAddress)
-&gt; (BootstrapAddress -&gt; BootstrapAddress -&gt; BootstrapAddress)
-&gt; Ord BootstrapAddress
BootstrapAddress -&gt; BootstrapAddress -&gt; Bool
BootstrapAddress -&gt; BootstrapAddress -&gt; Ordering
BootstrapAddress -&gt; BootstrapAddress -&gt; BootstrapAddress
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: BootstrapAddress -&gt; BootstrapAddress -&gt; Ordering
compare :: BootstrapAddress -&gt; BootstrapAddress -&gt; Ordering
$c&lt; :: BootstrapAddress -&gt; BootstrapAddress -&gt; Bool
&lt; :: BootstrapAddress -&gt; BootstrapAddress -&gt; Bool
$c&lt;= :: BootstrapAddress -&gt; BootstrapAddress -&gt; Bool
&lt;= :: BootstrapAddress -&gt; BootstrapAddress -&gt; Bool
$c&gt; :: BootstrapAddress -&gt; BootstrapAddress -&gt; Bool
&gt; :: BootstrapAddress -&gt; BootstrapAddress -&gt; Bool
$c&gt;= :: BootstrapAddress -&gt; BootstrapAddress -&gt; Bool
&gt;= :: BootstrapAddress -&gt; BootstrapAddress -&gt; Bool
$cmax :: BootstrapAddress -&gt; BootstrapAddress -&gt; BootstrapAddress
max :: BootstrapAddress -&gt; BootstrapAddress -&gt; BootstrapAddress
$cmin :: BootstrapAddress -&gt; BootstrapAddress -&gt; BootstrapAddress
min :: BootstrapAddress -&gt; BootstrapAddress -&gt; BootstrapAddress
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-362"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679447626"><span id="local-6989586621679447633"><span id="local-6989586621679447639"><span class="annot"><span class="annottext">Int -&gt; BootstrapAddress -&gt; ShowS
[BootstrapAddress] -&gt; ShowS
BootstrapAddress -&gt; String
(Int -&gt; BootstrapAddress -&gt; ShowS)
-&gt; (BootstrapAddress -&gt; String)
-&gt; ([BootstrapAddress] -&gt; ShowS)
-&gt; Show BootstrapAddress
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; BootstrapAddress -&gt; ShowS
showsPrec :: Int -&gt; BootstrapAddress -&gt; ShowS
$cshow :: BootstrapAddress -&gt; String
show :: BootstrapAddress -&gt; String
$cshowList :: [BootstrapAddress] -&gt; ShowS
showList :: [BootstrapAddress] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/quiet-0.2-9225d7422c325dd8b63f688e0d6ee25919a9c576be361208829377debe40884d/share/doc/html/src/Quiet.html#Quiet"><span class="hs-identifier hs-type">Quiet</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#BootstrapAddress"><span class="hs-identifier hs-type">BootstrapAddress</span></a></span><span>
</span><span id="line-363"></span><span>
</span><span id="line-364"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679447680"><span id="local-6989586621679447683"><span id="local-6989586621679447689"><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/nothunks-0.2.1.1-0663c3283fb5dee9e67d41860072fab0227b6d69ef882303baddf309058f8618/share/doc/html/src/NoThunks.Class.html#NoThunks"><span class="hs-identifier hs-type">NoThunks</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#BootstrapAddress"><span class="hs-identifier hs-type">BootstrapAddress</span></a></span></span></span></span><span>
</span><span id="line-365"></span><span>
</span><span id="line-366"></span><span class="annot"><a href="Cardano.Ledger.Address.html#bootstrapKeyHash"><span class="hs-identifier hs-type">bootstrapKeyHash</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-367"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#BootstrapAddress"><span class="hs-identifier hs-type">BootstrapAddress</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-368"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Hashes.html#KeyHash"><span class="hs-identifier hs-type">KeyHash</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Ledger.Keys.Internal.html#Payment"><span class="hs-identifier hs-type">Payment</span></a></span><span>
</span><span id="line-369"></span><span id="bootstrapKeyHash"><span class="annot"><span class="annottext">bootstrapKeyHash :: BootstrapAddress -&gt; KeyHash 'Payment
</span><a href="Cardano.Ledger.Address.html#bootstrapKeyHash"><span class="hs-identifier hs-var hs-var">bootstrapKeyHash</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Address.html#BootstrapAddress"><span class="hs-identifier hs-type">BootstrapAddress</span></a></span><span> </span><span id="local-6989586621679447707"><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679447707"><span class="hs-identifier hs-var">byronAddress</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-370"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679447708"><span class="annot"><span class="annottext">root :: AddressHash Address'
</span><a href="#local-6989586621679447708"><span class="hs-identifier hs-var hs-var">root</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Address -&gt; AddressHash Address'
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-byron-1.2.0.0/doc/html/cardano-ledger-byron/src/Cardano.Chain.Common.Address.html#addrRoot"><span class="hs-identifier hs-var">Byron.addrRoot</span></a></span><span> </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679447707"><span class="hs-identifier hs-var">byronAddress</span></a></span><span>
</span><span id="line-371"></span><span>      </span><span id="local-6989586621679447710"><span class="annot"><span class="annottext">bytes :: ByteString
</span><a href="#local-6989586621679447710"><span class="hs-identifier hs-var hs-var">bytes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AddressHash Address' -&gt; ByteString
forall algo a. AbstractHash algo a -&gt; ByteString
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-crypto-wrapper-1.6.1.0/doc/html/cardano-crypto-wrapper/src/Cardano.Crypto.Hashing.html#abstractHashToBytes"><span class="hs-identifier hs-var">Byron.abstractHashToBytes</span></a></span><span> </span><span class="annot"><span class="annottext">AddressHash Address'
</span><a href="#local-6989586621679447708"><span class="hs-identifier hs-var">root</span></a></span><span>
</span><span id="line-372"></span><span>      </span><span class="hs-glyph">!</span><span id="local-6989586621679447712"><span class="annot"><span class="annottext">hash :: Hash ADDRHASH (VerKeyDSIGN DSIGN)
</span><a href="#local-6989586621679447712"><span class="hs-identifier hs-var hs-var">hash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-373"></span><span>        </span><span class="annot"><span class="annottext">Hash ADDRHASH (VerKeyDSIGN DSIGN)
-&gt; Maybe (Hash ADDRHASH (VerKeyDSIGN DSIGN))
-&gt; Hash ADDRHASH (VerKeyDSIGN DSIGN)
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Hash ADDRHASH (VerKeyDSIGN DSIGN)
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;bootstrapKeyHash: incorrect hash length&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Maybe (Hash ADDRHASH (VerKeyDSIGN DSIGN))
 -&gt; Hash ADDRHASH (VerKeyDSIGN DSIGN))
-&gt; Maybe (Hash ADDRHASH (VerKeyDSIGN DSIGN))
-&gt; Hash ADDRHASH (VerKeyDSIGN DSIGN)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-374"></span><span>          </span><span class="annot"><span class="annottext">ByteString -&gt; Maybe (Hash ADDRHASH (VerKeyDSIGN DSIGN))
forall h a. HashAlgorithm h =&gt; ByteString -&gt; Maybe (Hash h a)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-crypto-class-2.2.3.1-587788bd0abb83ca86364e7e25fdd2cb1ce3c8f25ede4b71a1cb43e4a1d72f36/share/doc/html/src/Cardano.Crypto.Hash.Class.html#hashFromBytes"><span class="hs-identifier hs-var">Hash.hashFromBytes</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679447710"><span class="hs-identifier hs-var">bytes</span></a></span><span>
</span><span id="line-375"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Hash ADDRHASH (VerKeyDSIGN DSIGN) -&gt; KeyHash 'Payment
forall (r :: KeyRole).
Hash ADDRHASH (VerKeyDSIGN DSIGN) -&gt; KeyHash r
</span><a href="Cardano.Ledger.Hashes.html#KeyHash"><span class="hs-identifier hs-var">KeyHash</span></a></span><span> </span><span class="annot"><span class="annottext">Hash ADDRHASH (VerKeyDSIGN DSIGN)
</span><a href="#local-6989586621679447712"><span class="hs-identifier hs-var">hash</span></a></span><span>
</span><span id="line-376"></span><span>
</span><span id="line-377"></span><span class="hs-comment">------------------------------------------------------------------------------------------</span><span>
</span><span id="line-378"></span><span class="hs-comment">-- Compact Address -----------------------------------------------------------------------</span><span>
</span><span id="line-379"></span><span class="hs-comment">------------------------------------------------------------------------------------------</span><span>
</span><span id="line-380"></span><span>
</span><span id="line-381"></span><span class="hs-keyword">newtype</span><span> </span><span id="CompactAddr"><span class="annot"><a href="Cardano.Ledger.Address.html#CompactAddr"><span class="hs-identifier hs-var">CompactAddr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="UnsafeCompactAddr"><span class="annot"><a href="Cardano.Ledger.Address.html#UnsafeCompactAddr"><span class="hs-identifier hs-var">UnsafeCompactAddr</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ShortByteString</span></span><span>
</span><span id="line-382"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679447717"><span id="local-6989586621679447721"><span class="annot"><span class="annottext">CompactAddr -&gt; CompactAddr -&gt; Bool
(CompactAddr -&gt; CompactAddr -&gt; Bool)
-&gt; (CompactAddr -&gt; CompactAddr -&gt; Bool) -&gt; Eq CompactAddr
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: CompactAddr -&gt; CompactAddr -&gt; Bool
== :: CompactAddr -&gt; CompactAddr -&gt; Bool
$c/= :: CompactAddr -&gt; CompactAddr -&gt; Bool
/= :: CompactAddr -&gt; CompactAddr -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679447725"><span id="local-6989586621679447727"><span class="annot"><span class="annottext">(forall x. CompactAddr -&gt; Rep CompactAddr x)
-&gt; (forall x. Rep CompactAddr x -&gt; CompactAddr)
-&gt; Generic CompactAddr
forall x. Rep CompactAddr x -&gt; CompactAddr
forall x. CompactAddr -&gt; Rep CompactAddr x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. CompactAddr -&gt; Rep CompactAddr x
from :: forall x. CompactAddr -&gt; Rep CompactAddr x
$cto :: forall x. Rep CompactAddr x -&gt; CompactAddr
to :: forall x. Rep CompactAddr x -&gt; CompactAddr
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679447732"><span id="local-6989586621679447736"><span id="local-6989586621679447739"><span id="local-6989586621679447743"><span id="local-6989586621679447746"><span id="local-6989586621679447749"><span id="local-6989586621679447752"><span class="annot"><span class="annottext">Eq CompactAddr
Eq CompactAddr =&gt;
(CompactAddr -&gt; CompactAddr -&gt; Ordering)
-&gt; (CompactAddr -&gt; CompactAddr -&gt; Bool)
-&gt; (CompactAddr -&gt; CompactAddr -&gt; Bool)
-&gt; (CompactAddr -&gt; CompactAddr -&gt; Bool)
-&gt; (CompactAddr -&gt; CompactAddr -&gt; Bool)
-&gt; (CompactAddr -&gt; CompactAddr -&gt; CompactAddr)
-&gt; (CompactAddr -&gt; CompactAddr -&gt; CompactAddr)
-&gt; Ord CompactAddr
CompactAddr -&gt; CompactAddr -&gt; Bool
CompactAddr -&gt; CompactAddr -&gt; Ordering
CompactAddr -&gt; CompactAddr -&gt; CompactAddr
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: CompactAddr -&gt; CompactAddr -&gt; Ordering
compare :: CompactAddr -&gt; CompactAddr -&gt; Ordering
$c&lt; :: CompactAddr -&gt; CompactAddr -&gt; Bool
&lt; :: CompactAddr -&gt; CompactAddr -&gt; Bool
$c&lt;= :: CompactAddr -&gt; CompactAddr -&gt; Bool
&lt;= :: CompactAddr -&gt; CompactAddr -&gt; Bool
$c&gt; :: CompactAddr -&gt; CompactAddr -&gt; Bool
&gt; :: CompactAddr -&gt; CompactAddr -&gt; Bool
$c&gt;= :: CompactAddr -&gt; CompactAddr -&gt; Bool
&gt;= :: CompactAddr -&gt; CompactAddr -&gt; Bool
$cmax :: CompactAddr -&gt; CompactAddr -&gt; CompactAddr
max :: CompactAddr -&gt; CompactAddr -&gt; CompactAddr
$cmin :: CompactAddr -&gt; CompactAddr -&gt; CompactAddr
min :: CompactAddr -&gt; CompactAddr -&gt; CompactAddr
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-383"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679447755"><span id="local-6989586621679447760"><span id="local-6989586621679447764"><span class="annot"><span class="annottext">Context -&gt; CompactAddr -&gt; IO (Maybe ThunkInfo)
Proxy CompactAddr -&gt; String
(Context -&gt; CompactAddr -&gt; IO (Maybe ThunkInfo))
-&gt; (Context -&gt; CompactAddr -&gt; IO (Maybe ThunkInfo))
-&gt; (Proxy CompactAddr -&gt; String)
-&gt; NoThunks CompactAddr
forall a.
(Context -&gt; a -&gt; IO (Maybe ThunkInfo))
-&gt; (Context -&gt; a -&gt; IO (Maybe ThunkInfo))
-&gt; (Proxy a -&gt; String)
-&gt; NoThunks a
$cnoThunks :: Context -&gt; CompactAddr -&gt; IO (Maybe ThunkInfo)
noThunks :: Context -&gt; CompactAddr -&gt; IO (Maybe ThunkInfo)
$cwNoThunks :: Context -&gt; CompactAddr -&gt; IO (Maybe ThunkInfo)
wNoThunks :: Context -&gt; CompactAddr -&gt; IO (Maybe ThunkInfo)
$cshowTypeOf :: Proxy CompactAddr -&gt; String
showTypeOf :: Proxy CompactAddr -&gt; String
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/nothunks-0.2.1.1-0663c3283fb5dee9e67d41860072fab0227b6d69ef882303baddf309058f8618/share/doc/html/src/NoThunks.Class.html#NoThunks"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">NoThunks</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679447769"><span class="annot"><span class="annottext">CompactAddr -&gt; ()
(CompactAddr -&gt; ()) -&gt; NFData CompactAddr
forall a. (a -&gt; ()) -&gt; NFData a
$crnf :: CompactAddr -&gt; ()
rnf :: CompactAddr -&gt; ()
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">NFData</span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679447775"><span id="local-6989586621679447780"><span id="local-6989586621679447784"><span id="local-6989586621679447790"><span class="annot"><span class="annottext">String
String
-&gt; (CompactAddr -&gt; Int)
-&gt; (forall s. CompactAddr -&gt; Pack s ())
-&gt; (forall b s. Buffer b =&gt; Unpack s b CompactAddr)
-&gt; MemPack CompactAddr
CompactAddr -&gt; Int
forall a.
String
-&gt; (a -&gt; Int)
-&gt; (forall s. a -&gt; Pack s ())
-&gt; (forall b s. Buffer b =&gt; Unpack s b a)
-&gt; MemPack a
forall s. CompactAddr -&gt; Pack s ()
forall b s. Buffer b =&gt; Unpack s b CompactAddr
$ctypeName :: String
typeName :: String
$cpackedByteCount :: CompactAddr -&gt; Int
packedByteCount :: CompactAddr -&gt; Int
$cpackM :: forall s. CompactAddr -&gt; Pack s ()
packM :: forall s. CompactAddr -&gt; Pack s ()
$cunpackM :: forall b s. Buffer b =&gt; Unpack s b CompactAddr
unpackM :: forall b s. Buffer b =&gt; Unpack s b CompactAddr
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/mempack-0.2.0.0-ff6d622b816122e3f66d74f22f129bc2b6f4ac3b35e97400ea8704a2196f890e/share/doc/html/src/Data.MemPack.html#MemPack"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">MemPack</span></a></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-384"></span><span>
</span><span id="line-385"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679447798"><span id="local-6989586621679447803"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#CompactAddr"><span class="hs-identifier hs-type">CompactAddr</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-386"></span><span>  </span><span id="local-6989586621679447808"><span class="annot"><span class="annottext">show :: CompactAddr -&gt; String
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></span></span><span> </span><span id="local-6989586621679447809"><span class="annot"><span class="annottext">CompactAddr
</span><a href="#local-6989586621679447809"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Addr -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HasCallStack =&gt; CompactAddr -&gt; Addr
CompactAddr -&gt; Addr
</span><a href="Cardano.Ledger.Address.html#decompactAddr"><span class="hs-identifier hs-var">decompactAddr</span></a></span><span> </span><span class="annot"><span class="annottext">CompactAddr
</span><a href="#local-6989586621679447809"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-387"></span><span>
</span><span id="line-388"></span><span class="annot"><span class="hs-comment">-- | Unwrap the compact address and get to the address' binary representation.</span></span><span>
</span><span id="line-389"></span><span class="annot"><a href="Cardano.Ledger.Address.html#unCompactAddr"><span class="hs-identifier hs-type">unCompactAddr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#CompactAddr"><span class="hs-identifier hs-type">CompactAddr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ShortByteString</span></span><span>
</span><span id="line-390"></span><span id="unCompactAddr"><span class="annot"><span class="annottext">unCompactAddr :: CompactAddr -&gt; ShortByteString
</span><a href="Cardano.Ledger.Address.html#unCompactAddr"><span class="hs-identifier hs-var hs-var">unCompactAddr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Address.html#UnsafeCompactAddr"><span class="hs-identifier hs-type">UnsafeCompactAddr</span></a></span><span> </span><span id="local-6989586621679447810"><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679447810"><span class="hs-identifier hs-var">sbs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679447810"><span class="hs-identifier hs-var">sbs</span></a></span><span>
</span><span id="line-391"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#unCompactAddr"><span class="hs-pragma hs-type">unCompactAddr</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-392"></span><span>
</span><span id="line-393"></span><span class="annot"><a href="Cardano.Ledger.Address.html#compactAddr"><span class="hs-identifier hs-type">compactAddr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Addr"><span class="hs-identifier hs-type">Addr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#CompactAddr"><span class="hs-identifier hs-type">CompactAddr</span></a></span><span>
</span><span id="line-394"></span><span id="compactAddr"><span class="annot"><span class="annottext">compactAddr :: Addr -&gt; CompactAddr
</span><a href="Cardano.Ledger.Address.html#compactAddr"><span class="hs-identifier hs-var hs-var">compactAddr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShortByteString -&gt; CompactAddr
</span><a href="Cardano.Ledger.Address.html#UnsafeCompactAddr"><span class="hs-identifier hs-var">UnsafeCompactAddr</span></a></span><span> </span><span class="annot"><span class="annottext">(ShortByteString -&gt; CompactAddr)
-&gt; (Addr -&gt; ShortByteString) -&gt; Addr -&gt; CompactAddr
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ShortByteString
</span><span class="hs-identifier hs-var">SBS.toShort</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ShortByteString)
-&gt; (Addr -&gt; ByteString) -&gt; Addr -&gt; ShortByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Addr -&gt; ByteString
</span><a href="Cardano.Ledger.Address.html#serialiseAddr"><span class="hs-identifier hs-var">serialiseAddr</span></a></span><span>
</span><span id="line-395"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#compactAddr"><span class="hs-pragma hs-type">compactAddr</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-396"></span><span>
</span><span id="line-397"></span><span class="annot"><a href="Cardano.Ledger.Address.html#decompactAddr"><span class="hs-identifier hs-type">decompactAddr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HasCallStack</span></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#CompactAddr"><span class="hs-identifier hs-type">CompactAddr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Addr"><span class="hs-identifier hs-type">Addr</span></a></span><span>
</span><span id="line-398"></span><span id="decompactAddr"><span class="annot"><span class="annottext">decompactAddr :: HasCallStack =&gt; CompactAddr -&gt; Addr
</span><a href="Cardano.Ledger.Address.html#decompactAddr"><span class="hs-identifier hs-var hs-var">decompactAddr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Address.html#UnsafeCompactAddr"><span class="hs-identifier hs-type">UnsafeCompactAddr</span></a></span><span> </span><span id="local-6989586621679447823"><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679447823"><span class="hs-identifier hs-var">sbs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-399"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Fail String Addr -&gt; Either String Addr
forall e a. (IsString e, Semigroup e) =&gt; Fail e a -&gt; Either e a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/FailT-0.1.2.0-a6bfc8b1703d475e2ae00d40307128c8b38b30577dae60bdff0e62519ebdc06b/share/doc/html/src/Control.Monad.Trans.Fail.html#runFail"><span class="hs-identifier hs-var">runFail</span></a></span><span> </span><span class="annot"><span class="annottext">(Fail String Addr -&gt; Either String Addr)
-&gt; Fail String Addr -&gt; Either String Addr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">StateT Int (FailT String Identity) Addr -&gt; Int -&gt; Fail String Addr
forall (m :: * -&gt; *) s a. Monad m =&gt; StateT s m a -&gt; s -&gt; m a
</span><span class="hs-identifier hs-var">evalStateT</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
-&gt; Bool
-&gt; ShortByteString
-&gt; StateT Int (FailT String Identity) Addr
forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
Bool -&gt; Bool -&gt; b -&gt; StateT Int m Addr
</span><a href="Cardano.Ledger.Address.html#decodeAddrStateLenientT"><span class="hs-identifier hs-var">decodeAddrStateLenientT</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679447823"><span class="hs-identifier hs-var">sbs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-400"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679447824"><span class="annot"><span class="annottext">Addr
</span><a href="#local-6989586621679447824"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Addr
</span><a href="#local-6989586621679447824"><span class="hs-identifier hs-var">addr</span></a></span><span>
</span><span id="line-401"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679447825"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679447825"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-402"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; Addr
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Addr) -&gt; String -&gt; Addr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-403"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Impossible: Malformed CompactAddr was allowed into the system. &quot;</span></span><span>
</span><span id="line-404"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; Decoder error: &quot;</span></span><span>
</span><span id="line-405"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679447825"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-406"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#decompactAddr"><span class="hs-pragma hs-type">decompactAddr</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-407"></span><span>
</span><span id="line-408"></span><span class="hs-comment">------------------------------------------------------------------------------------------</span><span>
</span><span id="line-409"></span><span class="hs-comment">-- Address Serializer --------------------------------------------------------------------</span><span>
</span><span id="line-410"></span><span class="hs-comment">------------------------------------------------------------------------------------------</span><span>
</span><span id="line-411"></span><span>
</span><span id="line-412"></span><span class="annot"><span class="hs-comment">-- | Decoder for an `Addr`. Works in all eras</span></span><span>
</span><span id="line-413"></span><span id="local-6989586621679447826"><span class="annot"><a href="Cardano.Ledger.Address.html#fromCborAddr"><span class="hs-identifier hs-type">fromCborAddr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Decoder.html#Decoder"><span class="hs-identifier hs-type">Decoder</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679447826"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Addr"><span class="hs-identifier hs-type">Addr</span></a></span></span><span>
</span><span id="line-414"></span><span id="fromCborAddr"><span class="annot"><span class="annottext">fromCborAddr :: forall s. Decoder s Addr
</span><a href="Cardano.Ledger.Address.html#fromCborAddr"><span class="hs-identifier hs-var hs-var">fromCborAddr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Addr, CompactAddr) -&gt; Addr
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">((Addr, CompactAddr) -&gt; Addr)
-&gt; Decoder s (Addr, CompactAddr) -&gt; Decoder s Addr
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Decoder s (Addr, CompactAddr)
forall s. Decoder s (Addr, CompactAddr)
</span><a href="Cardano.Ledger.Address.html#fromCborBothAddr"><span class="hs-identifier hs-var">fromCborBothAddr</span></a></span><span>
</span><span id="line-415"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#fromCborAddr"><span class="hs-pragma hs-type">fromCborAddr</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-416"></span><span>
</span><span id="line-417"></span><span class="hs-comment">-- | Returns the actual bytes that represent an addres, while ensuring that they can</span><span>
</span><span id="line-418"></span><span class="hs-comment">-- be decoded in any era as an `Addr` when need be.</span><span>
</span><span id="line-419"></span><span id="local-6989586621679446632"><span class="annot"><a href="Cardano.Ledger.Address.html#fromCborCompactAddr"><span class="hs-identifier hs-type">fromCborCompactAddr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Decoder.html#Decoder"><span class="hs-identifier hs-type">Decoder</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446632"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#CompactAddr"><span class="hs-identifier hs-type">CompactAddr</span></a></span></span><span>
</span><span id="line-420"></span><span id="fromCborCompactAddr"><span class="annot"><span class="annottext">fromCborCompactAddr :: forall s. Decoder s CompactAddr
</span><a href="Cardano.Ledger.Address.html#fromCborCompactAddr"><span class="hs-identifier hs-var hs-var">fromCborCompactAddr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Addr, CompactAddr) -&gt; CompactAddr
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">((Addr, CompactAddr) -&gt; CompactAddr)
-&gt; Decoder s (Addr, CompactAddr) -&gt; Decoder s CompactAddr
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Decoder s (Addr, CompactAddr)
forall s. Decoder s (Addr, CompactAddr)
</span><a href="Cardano.Ledger.Address.html#fromCborBothAddr"><span class="hs-identifier hs-var">fromCborBothAddr</span></a></span><span>
</span><span id="line-421"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#fromCborCompactAddr"><span class="hs-pragma hs-type">fromCborCompactAddr</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-422"></span><span>
</span><span id="line-423"></span><span class="hs-comment">-- | This is the decoder for an address that returns both the actual `Addr` and the bytes,</span><span>
</span><span id="line-424"></span><span class="hs-comment">-- that it was encoded as.</span><span>
</span><span id="line-425"></span><span id="local-6989586621679446631"><span class="annot"><a href="Cardano.Ledger.Address.html#fromCborBothAddr"><span class="hs-identifier hs-type">fromCborBothAddr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Decoder.html#Decoder"><span class="hs-identifier hs-type">Decoder</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446631"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Address.html#Addr"><span class="hs-identifier hs-type">Addr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#CompactAddr"><span class="hs-identifier hs-type">CompactAddr</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-426"></span><span id="fromCborBothAddr"><span class="annot"><span class="annottext">fromCborBothAddr :: forall s. Decoder s (Addr, CompactAddr)
</span><a href="Cardano.Ledger.Address.html#fromCborBothAddr"><span class="hs-identifier hs-var hs-var">fromCborBothAddr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-427"></span><span>  </span><span class="annot"><span class="annottext">Version
-&gt; Decoder s (Addr, CompactAddr)
-&gt; Decoder s (Addr, CompactAddr)
-&gt; Decoder s (Addr, CompactAddr)
forall s a. Version -&gt; Decoder s a -&gt; Decoder s a -&gt; Decoder s a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Decoder.html#ifDecoderVersionAtLeast"><span class="hs-identifier hs-var">ifDecoderVersionAtLeast</span></a></span><span>
</span><span id="line-428"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (v :: Natural).
(KnownNat v, MinVersion &lt;= v, v &lt;= MaxVersion) =&gt;
Version
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Version.html#natVersion"><span class="hs-identifier hs-var">natVersion</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-number">7</span></span><span class="hs-special">)</span><span>
</span><span id="line-429"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Version
-&gt; Decoder s (Addr, CompactAddr)
-&gt; Decoder s (Addr, CompactAddr)
-&gt; Decoder s (Addr, CompactAddr)
forall s a. Version -&gt; Decoder s a -&gt; Decoder s a -&gt; Decoder s a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Decoder.html#ifDecoderVersionAtLeast"><span class="hs-identifier hs-var">ifDecoderVersionAtLeast</span></a></span><span>
</span><span id="line-430"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (v :: Natural).
(KnownNat v, MinVersion &lt;= v, v &lt;= MaxVersion) =&gt;
Version
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Version.html#natVersion"><span class="hs-identifier hs-var">natVersion</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-number">9</span></span><span class="hs-special">)</span><span>
</span><span id="line-431"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Decoder s (Addr, CompactAddr)
forall s. Bool -&gt; Decoder s (Addr, CompactAddr)
</span><a href="Cardano.Ledger.Address.html#fromCborRigorousBothAddr"><span class="hs-identifier hs-var">fromCborRigorousBothAddr</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span>
</span><span id="line-432"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Decoder s (Addr, CompactAddr)
forall s. Bool -&gt; Decoder s (Addr, CompactAddr)
</span><a href="Cardano.Ledger.Address.html#fromCborRigorousBothAddr"><span class="hs-identifier hs-var">fromCborRigorousBothAddr</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span>
</span><span id="line-433"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-434"></span><span>    </span><span class="annot"><span class="annottext">Decoder s (Addr, CompactAddr)
forall s. Decoder s (Addr, CompactAddr)
</span><a href="Cardano.Ledger.Address.html#fromCborBackwardsBothAddr"><span class="hs-identifier hs-var">fromCborBackwardsBothAddr</span></a></span><span>
</span><span id="line-435"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#fromCborBothAddr"><span class="hs-pragma hs-type">fromCborBothAddr</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-436"></span><span>
</span><span id="line-437"></span><span class="annot"><span class="hs-comment">-- | Starting with Babbage we no longer allow addresses with garbage in them.</span></span><span>
</span><span id="line-438"></span><span id="local-6989586621679446643"><span class="annot"><a href="Cardano.Ledger.Address.html#fromCborRigorousBothAddr"><span class="hs-identifier hs-type">fromCborRigorousBothAddr</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-439"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Should there be a hard failure for garbage pointers (`False`) or should they be normalized instead (`True`)</span></span><span>
</span><span id="line-440"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-441"></span><span>  </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Decoder.html#Decoder"><span class="hs-identifier hs-type">Decoder</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446643"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Address.html#Addr"><span class="hs-identifier hs-type">Addr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#CompactAddr"><span class="hs-identifier hs-type">CompactAddr</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-442"></span><span id="fromCborRigorousBothAddr"><span class="annot"><span class="annottext">fromCborRigorousBothAddr :: forall s. Bool -&gt; Decoder s (Addr, CompactAddr)
</span><a href="Cardano.Ledger.Address.html#fromCborRigorousBothAddr"><span class="hs-identifier hs-var hs-var">fromCborRigorousBothAddr</span></a></span></span><span> </span><span id="local-6989586621679447853"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679447853"><span class="hs-identifier hs-var">isPtrLenient</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-443"></span><span>  </span><span id="local-6989586621679447854"><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679447854"><span class="hs-identifier hs-var">sbs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Decoder s ShortByteString
forall s. Decoder s ShortByteString
forall a s. DecCBOR a =&gt; Decoder s a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#decCBOR"><span class="hs-identifier hs-var">decCBOR</span></a></span><span>
</span><span id="line-444"></span><span>  </span><span class="annot"><span class="annottext">(StateT Int (Decoder s) (Addr, CompactAddr)
 -&gt; Int -&gt; Decoder s (Addr, CompactAddr))
-&gt; Int
-&gt; StateT Int (Decoder s) (Addr, CompactAddr)
-&gt; Decoder s (Addr, CompactAddr)
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">StateT Int (Decoder s) (Addr, CompactAddr)
-&gt; Int -&gt; Decoder s (Addr, CompactAddr)
forall (m :: * -&gt; *) s a. Monad m =&gt; StateT s m a -&gt; s -&gt; m a
</span><span class="hs-identifier hs-var">evalStateT</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(StateT Int (Decoder s) (Addr, CompactAddr)
 -&gt; Decoder s (Addr, CompactAddr))
-&gt; StateT Int (Decoder s) (Addr, CompactAddr)
-&gt; Decoder s (Addr, CompactAddr)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-445"></span><span>    </span><span id="local-6989586621679447855"><span class="annot"><span class="annottext">Addr
</span><a href="#local-6989586621679447855"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; ShortByteString -&gt; StateT Int (Decoder s) Addr
forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
Bool -&gt; Bool -&gt; b -&gt; StateT Int m Addr
</span><a href="Cardano.Ledger.Address.html#decodeAddrStateLenientT"><span class="hs-identifier hs-var">decodeAddrStateLenientT</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679447853"><span class="hs-identifier hs-var">isPtrLenient</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679447854"><span class="hs-identifier hs-var">sbs</span></a></span><span>
</span><span id="line-446"></span><span>    </span><span class="annot"><span class="annottext">(Addr, CompactAddr) -&gt; StateT Int (Decoder s) (Addr, CompactAddr)
forall a. a -&gt; StateT Int (Decoder s) a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Addr
</span><a href="#local-6989586621679447855"><span class="hs-identifier hs-var">addr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ShortByteString -&gt; CompactAddr
</span><a href="Cardano.Ledger.Address.html#UnsafeCompactAddr"><span class="hs-identifier hs-var">UnsafeCompactAddr</span></a></span><span> </span><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679447854"><span class="hs-identifier hs-var">sbs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-447"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#fromCborRigorousBothAddr"><span class="hs-pragma hs-type">fromCborRigorousBothAddr</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-448"></span><span>
</span><span id="line-449"></span><span class="hs-comment">-- | Prior to Babbage era we did not check if a binary blob representing an address was</span><span>
</span><span id="line-450"></span><span class="hs-comment">-- fully consumed, so unfortunately we must preserve this behavior. However, we do not</span><span>
</span><span id="line-451"></span><span class="hs-comment">-- need to preserve the unconsumed bytes in memory, therefore we can drop the</span><span>
</span><span id="line-452"></span><span class="hs-comment">-- garbage after we successfully decoded the malformed address. We also need to allow</span><span>
</span><span id="line-453"></span><span class="hs-comment">-- bogus pointer address to be deserializeable prior to Babbage era.</span><span>
</span><span id="line-454"></span><span id="local-6989586621679447856"><span class="annot"><a href="Cardano.Ledger.Address.html#fromCborBackwardsBothAddr"><span class="hs-identifier hs-type">fromCborBackwardsBothAddr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Decoder.html#Decoder"><span class="hs-identifier hs-type">Decoder</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679447856"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Address.html#Addr"><span class="hs-identifier hs-type">Addr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#CompactAddr"><span class="hs-identifier hs-type">CompactAddr</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-455"></span><span id="fromCborBackwardsBothAddr"><span class="annot"><span class="annottext">fromCborBackwardsBothAddr :: forall s. Decoder s (Addr, CompactAddr)
</span><a href="Cardano.Ledger.Address.html#fromCborBackwardsBothAddr"><span class="hs-identifier hs-var hs-var">fromCborBackwardsBothAddr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-456"></span><span>  </span><span id="local-6989586621679447868"><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679447868"><span class="hs-identifier hs-var">sbs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Decoder s ShortByteString
forall s. Decoder s ShortByteString
forall a s. DecCBOR a =&gt; Decoder s a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#decCBOR"><span class="hs-identifier hs-var">decCBOR</span></a></span><span>
</span><span id="line-457"></span><span>  </span><span class="annot"><span class="annottext">(StateT Int (Decoder s) (Addr, CompactAddr)
 -&gt; Int -&gt; Decoder s (Addr, CompactAddr))
-&gt; Int
-&gt; StateT Int (Decoder s) (Addr, CompactAddr)
-&gt; Decoder s (Addr, CompactAddr)
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">StateT Int (Decoder s) (Addr, CompactAddr)
-&gt; Int -&gt; Decoder s (Addr, CompactAddr)
forall (m :: * -&gt; *) s a. Monad m =&gt; StateT s m a -&gt; s -&gt; m a
</span><span class="hs-identifier hs-var">evalStateT</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(StateT Int (Decoder s) (Addr, CompactAddr)
 -&gt; Decoder s (Addr, CompactAddr))
-&gt; StateT Int (Decoder s) (Addr, CompactAddr)
-&gt; Decoder s (Addr, CompactAddr)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-458"></span><span>    </span><span id="local-6989586621679447869"><span class="annot"><span class="annottext">Addr
</span><a href="#local-6989586621679447869"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; ShortByteString -&gt; StateT Int (Decoder s) Addr
forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
Bool -&gt; Bool -&gt; b -&gt; StateT Int m Addr
</span><a href="Cardano.Ledger.Address.html#decodeAddrStateLenientT"><span class="hs-identifier hs-var">decodeAddrStateLenientT</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679447868"><span class="hs-identifier hs-var">sbs</span></a></span><span>
</span><span id="line-459"></span><span>    </span><span id="local-6989586621679447870"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679447870"><span class="hs-identifier hs-var">bytesConsumed</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">StateT Int (Decoder s) Int
forall (m :: * -&gt; *) s. Monad m =&gt; StateT s m s
</span><span class="hs-identifier hs-var">get</span></span><span>
</span><span id="line-460"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679447871"><span class="annot"><span class="annottext">sbsCropped :: ShortByteString
</span><a href="#local-6989586621679447871"><span class="hs-identifier hs-var hs-var">sbsCropped</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ShortByteString
</span><span class="hs-identifier hs-var">SBS.toShort</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ShortByteString) -&gt; ByteString -&gt; ShortByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; ByteString -&gt; ByteString
</span><span class="hs-identifier hs-var">BS.take</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679447870"><span class="hs-identifier hs-var">bytesConsumed</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString) -&gt; ByteString -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ShortByteString -&gt; ByteString
</span><span class="hs-identifier hs-var">SBS.fromShort</span></span><span> </span><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679447868"><span class="hs-identifier hs-var">sbs</span></a></span><span>
</span><span id="line-461"></span><span>    </span><span class="annot"><span class="annottext">(Addr, CompactAddr) -&gt; StateT Int (Decoder s) (Addr, CompactAddr)
forall a. a -&gt; StateT Int (Decoder s) a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Addr
</span><a href="#local-6989586621679447869"><span class="hs-identifier hs-var">addr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ShortByteString -&gt; CompactAddr
</span><a href="Cardano.Ledger.Address.html#UnsafeCompactAddr"><span class="hs-identifier hs-var">UnsafeCompactAddr</span></a></span><span> </span><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679447871"><span class="hs-identifier hs-var">sbsCropped</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-462"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#fromCborBackwardsBothAddr"><span class="hs-pragma hs-type">fromCborBackwardsBothAddr</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-463"></span><span>
</span><span id="line-464"></span><span class="hs-keyword">class</span><span> </span><span id="AddressBuffer"><span class="annot"><a href="Cardano.Ledger.Address.html#AddressBuffer"><span class="hs-identifier hs-var">AddressBuffer</span></a></span></span><span> </span><span id="local-6989586621679446656"><span class="annot"><a href="#local-6989586621679446656"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-465"></span><span>  </span><span id="bufLength"><span class="annot"><a href="Cardano.Ledger.Address.html#bufLength"><span class="hs-identifier hs-type">bufLength</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679446656"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-466"></span><span>
</span><span id="line-467"></span><span>  </span><span id="bufUnsafeIndex"><span class="annot"><a href="Cardano.Ledger.Address.html#bufUnsafeIndex"><span class="hs-identifier hs-type">bufUnsafeIndex</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679446656"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span>
</span><span id="line-468"></span><span>
</span><span id="line-469"></span><span>  </span><span id="bufToByteString"><span class="annot"><a href="Cardano.Ledger.Address.html#bufToByteString"><span class="hs-identifier hs-type">bufToByteString</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679446656"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BS.ByteString</span></span><span>
</span><span id="line-470"></span><span>
</span><span id="line-471"></span><span>  </span><span id="bufGetHash"><span class="annot"><a href="Cardano.Ledger.Address.html#bufGetHash"><span class="hs-identifier hs-type">bufGetHash</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679446654"><span id="local-6989586621679446655"><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-crypto-class-2.2.3.1-587788bd0abb83ca86364e7e25fdd2cb1ce3c8f25ede4b71a1cb43e4a1d72f36/share/doc/html/src/Cardano.Crypto.Hash.Class.html#HashAlgorithm"><span class="hs-identifier hs-type">Hash.HashAlgorithm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446654"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679446656"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-crypto-class-2.2.3.1-587788bd0abb83ca86364e7e25fdd2cb1ce3c8f25ede4b71a1cb43e4a1d72f36/share/doc/html/src/Cardano.Crypto.Hash.Class.html#Hash"><span class="hs-identifier hs-type">Hash.Hash</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446654"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446655"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-472"></span><span>
</span><span id="line-473"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#AddressBuffer"><span class="hs-identifier hs-type">AddressBuffer</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ShortByteString</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-474"></span><span>  </span><span id="local-6989586621679447882"><span class="annot"><span class="annottext">bufLength :: ShortByteString -&gt; Int
</span><a href="Cardano.Ledger.Address.html#bufLength"><span class="hs-identifier hs-var hs-var hs-var hs-var">bufLength</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShortByteString -&gt; Int
</span><span class="hs-identifier hs-var">SBS.length</span></span><span>
</span><span id="line-475"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#bufLength"><span class="hs-pragma hs-type">bufLength</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-476"></span><span>  </span><span id="local-6989586621679447883"><span class="annot"><span class="annottext">bufUnsafeIndex :: ShortByteString -&gt; Int -&gt; Word8
</span><a href="Cardano.Ledger.Address.html#bufUnsafeIndex"><span class="hs-identifier hs-var hs-var hs-var hs-var">bufUnsafeIndex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShortByteString -&gt; Int -&gt; Word8
</span><span class="hs-identifier hs-var">SBS.unsafeIndex</span></span><span>
</span><span id="line-477"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#bufUnsafeIndex"><span class="hs-pragma hs-type">bufUnsafeIndex</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-478"></span><span>  </span><span id="local-6989586621679447884"><span class="annot"><span class="annottext">bufToByteString :: ShortByteString -&gt; ByteString
</span><a href="Cardano.Ledger.Address.html#bufToByteString"><span class="hs-identifier hs-var hs-var hs-var hs-var">bufToByteString</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShortByteString -&gt; ByteString
</span><span class="hs-identifier hs-var">SBS.fromShort</span></span><span>
</span><span id="line-479"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#bufToByteString"><span class="hs-pragma hs-type">bufToByteString</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-480"></span><span>  </span><span id="local-6989586621679447887"><span class="annot"><span class="annottext">bufGetHash :: forall h a.
HashAlgorithm h =&gt;
ShortByteString -&gt; Int -&gt; Maybe (Hash h a)
</span><a href="Cardano.Ledger.Address.html#bufGetHash"><span class="hs-identifier hs-var hs-var hs-var hs-var">bufGetHash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShortByteString -&gt; Int -&gt; Maybe (Hash h a)
forall h a.
HashAlgorithm h =&gt;
ShortByteString -&gt; Int -&gt; Maybe (Hash h a)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-crypto-class-2.2.3.1-587788bd0abb83ca86364e7e25fdd2cb1ce3c8f25ede4b71a1cb43e4a1d72f36/share/doc/html/src/Cardano.Crypto.Hash.Class.html#hashFromOffsetBytesShort"><span class="hs-identifier hs-var">Hash.hashFromOffsetBytesShort</span></a></span><span>
</span><span id="line-481"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#bufGetHash"><span class="hs-pragma hs-type">bufGetHash</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-482"></span><span>
</span><span id="line-483"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#AddressBuffer"><span class="hs-identifier hs-type">AddressBuffer</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">BS.ByteString</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-484"></span><span>  </span><span id="local-6989586621679447893"><span class="annot"><span class="annottext">bufLength :: ByteString -&gt; Int
</span><a href="Cardano.Ledger.Address.html#bufLength"><span class="hs-identifier hs-var hs-var hs-var hs-var">bufLength</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Int
</span><span class="hs-identifier hs-var">BS.length</span></span><span>
</span><span id="line-485"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#bufLength"><span class="hs-pragma hs-type">bufLength</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-486"></span><span>  </span><span id="local-6989586621679447894"><span class="annot"><span class="annottext">bufUnsafeIndex :: ByteString -&gt; Int -&gt; Word8
</span><a href="Cardano.Ledger.Address.html#bufUnsafeIndex"><span class="hs-identifier hs-var hs-var hs-var hs-var">bufUnsafeIndex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Int -&gt; Word8
</span><span class="hs-identifier hs-var">BS.unsafeIndex</span></span><span>
</span><span id="line-487"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#bufUnsafeIndex"><span class="hs-pragma hs-type">bufUnsafeIndex</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-488"></span><span>  </span><span id="local-6989586621679447895"><span class="annot"><span class="annottext">bufToByteString :: ByteString -&gt; ByteString
</span><a href="Cardano.Ledger.Address.html#bufToByteString"><span class="hs-identifier hs-var hs-var hs-var hs-var">bufToByteString</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-489"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#bufToByteString"><span class="hs-pragma hs-type">bufToByteString</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-490"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#bufGetHash"><span class="hs-identifier hs-type">bufGetHash</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679447896"><span class="annot"><a href="#local-6989586621679447896"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span id="local-6989586621679447897"><span class="annot"><a href="#local-6989586621679447897"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-crypto-class-2.2.3.1-587788bd0abb83ca86364e7e25fdd2cb1ce3c8f25ede4b71a1cb43e4a1d72f36/share/doc/html/src/Cardano.Crypto.Hash.Class.html#HashAlgorithm"><span class="hs-identifier hs-type">Hash.HashAlgorithm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679447896"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BS.ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-crypto-class-2.2.3.1-587788bd0abb83ca86364e7e25fdd2cb1ce3c8f25ede4b71a1cb43e4a1d72f36/share/doc/html/src/Cardano.Crypto.Hash.Class.html#Hash"><span class="hs-identifier hs-type">Hash.Hash</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679447896"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679447897"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-491"></span><span>  </span><span id="local-6989586621679447914"><span class="annot"><span class="annottext">bufGetHash :: forall h a.
HashAlgorithm h =&gt;
ByteString -&gt; Int -&gt; Maybe (Hash h a)
</span><a href="Cardano.Ledger.Address.html#bufGetHash"><span class="hs-identifier hs-var hs-var hs-var hs-var">bufGetHash</span></a></span></span><span> </span><span id="local-6989586621679447915"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679447915"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span id="local-6989586621679447916"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679447916"><span class="hs-identifier hs-var">offset</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-492"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679447917"><span class="annot"><span class="annottext">size :: Int
</span><a href="#local-6989586621679447917"><span class="hs-identifier hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy h -&gt; Word
forall h (proxy :: * -&gt; *). HashAlgorithm h =&gt; proxy h -&gt; Word
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-crypto-class-2.2.3.1-587788bd0abb83ca86364e7e25fdd2cb1ce3c8f25ede4b71a1cb43e4a1d72f36/share/doc/html/src/Cardano.Crypto.Hash.Class.html#sizeHash"><span class="hs-identifier hs-var">Hash.sizeHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy h
forall {k} (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679447896"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-493"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; Maybe ()
forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><span class="hs-identifier hs-var">guard</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679447916"><span class="hs-identifier hs-var">offset</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679447916"><span class="hs-identifier hs-var">offset</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679447917"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Int
</span><span class="hs-identifier hs-var">BS.length</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679447915"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-494"></span><span>    </span><span class="annot"><span class="annottext">ByteString -&gt; Maybe (Hash h a)
forall h a. HashAlgorithm h =&gt; ByteString -&gt; Maybe (Hash h a)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-crypto-class-2.2.3.1-587788bd0abb83ca86364e7e25fdd2cb1ce3c8f25ede4b71a1cb43e4a1d72f36/share/doc/html/src/Cardano.Crypto.Hash.Class.html#hashFromBytes"><span class="hs-identifier hs-var">Hash.hashFromBytes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; ByteString -&gt; ByteString
</span><span class="hs-identifier hs-var">BS.unsafeTake</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679447917"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; ByteString -&gt; ByteString
</span><span class="hs-identifier hs-var">BS.unsafeDrop</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679447916"><span class="hs-identifier hs-var">offset</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679447915"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-495"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#bufGetHash"><span class="hs-pragma hs-type">bufGetHash</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-496"></span><span>
</span><span id="line-497"></span><span class="annot"><span class="hs-comment">-- | Address header byte truth table:</span></span><span>
</span><span id="line-498"></span><span class="hs-keyword">newtype</span><span> </span><span id="Header"><span class="annot"><a href="Cardano.Ledger.Address.html#Header"><span class="hs-identifier hs-var">Header</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Header"><span class="annot"><a href="Cardano.Ledger.Address.html#Header"><span class="hs-identifier hs-var">Header</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span>
</span><span id="line-499"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679447924"><span id="local-6989586621679447928"><span class="annot"><span class="annottext">Header -&gt; Header -&gt; Bool
(Header -&gt; Header -&gt; Bool)
-&gt; (Header -&gt; Header -&gt; Bool) -&gt; Eq Header
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Header -&gt; Header -&gt; Bool
== :: Header -&gt; Header -&gt; Bool
$c/= :: Header -&gt; Header -&gt; Bool
/= :: Header -&gt; Header -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679447934"><span id="local-6989586621679447939"><span id="local-6989586621679447943"><span id="local-6989586621679447947"><span id="local-6989586621679447951"><span id="local-6989586621679447955"><span id="local-6989586621679447959"><span class="annot"><span class="annottext">Eq Header
Eq Header =&gt;
(Header -&gt; Header -&gt; Ordering)
-&gt; (Header -&gt; Header -&gt; Bool)
-&gt; (Header -&gt; Header -&gt; Bool)
-&gt; (Header -&gt; Header -&gt; Bool)
-&gt; (Header -&gt; Header -&gt; Bool)
-&gt; (Header -&gt; Header -&gt; Header)
-&gt; (Header -&gt; Header -&gt; Header)
-&gt; Ord Header
Header -&gt; Header -&gt; Bool
Header -&gt; Header -&gt; Ordering
Header -&gt; Header -&gt; Header
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: Header -&gt; Header -&gt; Ordering
compare :: Header -&gt; Header -&gt; Ordering
$c&lt; :: Header -&gt; Header -&gt; Bool
&lt; :: Header -&gt; Header -&gt; Bool
$c&lt;= :: Header -&gt; Header -&gt; Bool
&lt;= :: Header -&gt; Header -&gt; Bool
$c&gt; :: Header -&gt; Header -&gt; Bool
&gt; :: Header -&gt; Header -&gt; Bool
$c&gt;= :: Header -&gt; Header -&gt; Bool
&gt;= :: Header -&gt; Header -&gt; Bool
$cmax :: Header -&gt; Header -&gt; Header
max :: Header -&gt; Header -&gt; Header
$cmin :: Header -&gt; Header -&gt; Header
min :: Header -&gt; Header -&gt; Header
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679447966"><span id="local-6989586621679447970"><span id="local-6989586621679447974"><span id="local-6989586621679447978"><span id="local-6989586621679447982"><span id="local-6989586621679447986"><span id="local-6989586621679447990"><span id="local-6989586621679447994"><span id="local-6989586621679447998"><span id="local-6989586621679448002"><span id="local-6989586621679448006"><span id="local-6989586621679448010"><span id="local-6989586621679448014"><span id="local-6989586621679448018"><span id="local-6989586621679448022"><span id="local-6989586621679448026"><span id="local-6989586621679448030"><span id="local-6989586621679448034"><span id="local-6989586621679448038"><span id="local-6989586621679448042"><span id="local-6989586621679448046"><span id="local-6989586621679448050"><span class="annot"><span class="annottext">Eq Header
Header
Eq Header =&gt;
(Header -&gt; Header -&gt; Header)
-&gt; (Header -&gt; Header -&gt; Header)
-&gt; (Header -&gt; Header -&gt; Header)
-&gt; (Header -&gt; Header)
-&gt; (Header -&gt; Int -&gt; Header)
-&gt; (Header -&gt; Int -&gt; Header)
-&gt; Header
-&gt; (Int -&gt; Header)
-&gt; (Header -&gt; Int -&gt; Header)
-&gt; (Header -&gt; Int -&gt; Header)
-&gt; (Header -&gt; Int -&gt; Header)
-&gt; (Header -&gt; Int -&gt; Bool)
-&gt; (Header -&gt; Maybe Int)
-&gt; (Header -&gt; Int)
-&gt; (Header -&gt; Bool)
-&gt; (Header -&gt; Int -&gt; Header)
-&gt; (Header -&gt; Int -&gt; Header)
-&gt; (Header -&gt; Int -&gt; Header)
-&gt; (Header -&gt; Int -&gt; Header)
-&gt; (Header -&gt; Int -&gt; Header)
-&gt; (Header -&gt; Int -&gt; Header)
-&gt; (Header -&gt; Int)
-&gt; Bits Header
Int -&gt; Header
Header -&gt; Bool
Header -&gt; Int
Header -&gt; Maybe Int
Header -&gt; Header
Header -&gt; Int -&gt; Bool
Header -&gt; Int -&gt; Header
Header -&gt; Header -&gt; Header
forall a.
Eq a =&gt;
(a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (a -&gt; Int -&gt; a)
-&gt; (a -&gt; Int -&gt; a)
-&gt; a
-&gt; (Int -&gt; a)
-&gt; (a -&gt; Int -&gt; a)
-&gt; (a -&gt; Int -&gt; a)
-&gt; (a -&gt; Int -&gt; a)
-&gt; (a -&gt; Int -&gt; Bool)
-&gt; (a -&gt; Maybe Int)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; Bool)
-&gt; (a -&gt; Int -&gt; a)
-&gt; (a -&gt; Int -&gt; a)
-&gt; (a -&gt; Int -&gt; a)
-&gt; (a -&gt; Int -&gt; a)
-&gt; (a -&gt; Int -&gt; a)
-&gt; (a -&gt; Int -&gt; a)
-&gt; (a -&gt; Int)
-&gt; Bits a
$c.&amp;. :: Header -&gt; Header -&gt; Header
.&amp;. :: Header -&gt; Header -&gt; Header
$c.|. :: Header -&gt; Header -&gt; Header
.|. :: Header -&gt; Header -&gt; Header
$cxor :: Header -&gt; Header -&gt; Header
xor :: Header -&gt; Header -&gt; Header
$ccomplement :: Header -&gt; Header
complement :: Header -&gt; Header
$cshift :: Header -&gt; Int -&gt; Header
shift :: Header -&gt; Int -&gt; Header
$crotate :: Header -&gt; Int -&gt; Header
rotate :: Header -&gt; Int -&gt; Header
$czeroBits :: Header
zeroBits :: Header
$cbit :: Int -&gt; Header
bit :: Int -&gt; Header
$csetBit :: Header -&gt; Int -&gt; Header
setBit :: Header -&gt; Int -&gt; Header
$cclearBit :: Header -&gt; Int -&gt; Header
clearBit :: Header -&gt; Int -&gt; Header
$ccomplementBit :: Header -&gt; Int -&gt; Header
complementBit :: Header -&gt; Int -&gt; Header
$ctestBit :: Header -&gt; Int -&gt; Bool
testBit :: Header -&gt; Int -&gt; Bool
$cbitSizeMaybe :: Header -&gt; Maybe Int
bitSizeMaybe :: Header -&gt; Maybe Int
$cbitSize :: Header -&gt; Int
bitSize :: Header -&gt; Int
$cisSigned :: Header -&gt; Bool
isSigned :: Header -&gt; Bool
$cshiftL :: Header -&gt; Int -&gt; Header
shiftL :: Header -&gt; Int -&gt; Header
$cunsafeShiftL :: Header -&gt; Int -&gt; Header
unsafeShiftL :: Header -&gt; Int -&gt; Header
$cshiftR :: Header -&gt; Int -&gt; Header
shiftR :: Header -&gt; Int -&gt; Header
$cunsafeShiftR :: Header -&gt; Int -&gt; Header
unsafeShiftR :: Header -&gt; Int -&gt; Header
$crotateL :: Header -&gt; Int -&gt; Header
rotateL :: Header -&gt; Int -&gt; Header
$crotateR :: Header -&gt; Int -&gt; Header
rotateR :: Header -&gt; Int -&gt; Header
$cpopCount :: Header -&gt; Int
popCount :: Header -&gt; Int
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Bits</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679448055"><span id="local-6989586621679448059"><span id="local-6989586621679448063"><span id="local-6989586621679448067"><span id="local-6989586621679448071"><span id="local-6989586621679448075"><span id="local-6989586621679448079"><span class="annot"><span class="annottext">Integer -&gt; Header
Header -&gt; Header
Header -&gt; Header -&gt; Header
(Header -&gt; Header -&gt; Header)
-&gt; (Header -&gt; Header -&gt; Header)
-&gt; (Header -&gt; Header -&gt; Header)
-&gt; (Header -&gt; Header)
-&gt; (Header -&gt; Header)
-&gt; (Header -&gt; Header)
-&gt; (Integer -&gt; Header)
-&gt; Num Header
forall a.
(a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Integer -&gt; a)
-&gt; Num a
$c+ :: Header -&gt; Header -&gt; Header
+ :: Header -&gt; Header -&gt; Header
$c- :: Header -&gt; Header -&gt; Header
- :: Header -&gt; Header -&gt; Header
$c* :: Header -&gt; Header -&gt; Header
* :: Header -&gt; Header -&gt; Header
$cnegate :: Header -&gt; Header
negate :: Header -&gt; Header
$cabs :: Header -&gt; Header
abs :: Header -&gt; Header
$csignum :: Header -&gt; Header
signum :: Header -&gt; Header
$cfromInteger :: Integer -&gt; Header
fromInteger :: Integer -&gt; Header
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Num</span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-500"></span><span>
</span><span id="line-501"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679448084"><span id="local-6989586621679448089"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Header"><span class="hs-identifier hs-type">Header</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-502"></span><span>  </span><span id="local-6989586621679448095"><span class="annot"><span class="annottext">show :: Header -&gt; String
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Address.html#Header"><span class="hs-identifier hs-type">Header</span></a></span><span> </span><span id="local-6989586621679448096"><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679448096"><span class="hs-identifier hs-var">header</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;0b&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; (Int -&gt; Char) -&gt; Word8 -&gt; ShowS
forall a. Integral a =&gt; a -&gt; (Int -&gt; Char) -&gt; a -&gt; ShowS
</span><span class="hs-identifier hs-var">showIntAtBase</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Char
</span><span class="hs-identifier hs-var">intToDigit</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679448096"><span class="hs-identifier hs-var">header</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-503"></span><span>
</span><span id="line-504"></span><span class="annot"><span class="hs-comment">-- | Every Byron address starts with @[TkListLen 2]@, which encodes as 130 (or 0x80)</span></span><span>
</span><span id="line-505"></span><span class="annot"><a href="Cardano.Ledger.Address.html#headerByron"><span class="hs-identifier hs-type">headerByron</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Header"><span class="hs-identifier hs-type">Header</span></a></span><span>
</span><span id="line-506"></span><span id="headerByron"><span class="annot"><span class="annottext">headerByron :: Header
</span><a href="Cardano.Ledger.Address.html#headerByron"><span class="hs-identifier hs-var hs-var">headerByron</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Header
</span><span class="hs-number">0b10000010</span></span><span> </span><span class="hs-comment">-- 0x80</span><span>
</span><span id="line-507"></span><span>
</span><span id="line-508"></span><span class="annot"><a href="Cardano.Ledger.Address.html#isByronAddress"><span class="hs-identifier hs-type">isByronAddress</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Header"><span class="hs-identifier hs-type">Header</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-509"></span><span id="isByronAddress"><span class="annot"><span class="annottext">isByronAddress :: Header -&gt; Bool
</span><a href="Cardano.Ledger.Address.html#isByronAddress"><span class="hs-identifier hs-var hs-var">isByronAddress</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Header -&gt; Header -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Header
</span><a href="Cardano.Ledger.Address.html#headerByron"><span class="hs-identifier hs-var">headerByron</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-510"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#isByronAddress"><span class="hs-pragma hs-type">isByronAddress</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-511"></span><span>
</span><span id="line-512"></span><span class="annot"><a href="Cardano.Ledger.Address.html#headerNonShelleyBits"><span class="hs-identifier hs-type">headerNonShelleyBits</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Header"><span class="hs-identifier hs-type">Header</span></a></span><span>
</span><span id="line-513"></span><span id="headerNonShelleyBits"><span class="annot"><span class="annottext">headerNonShelleyBits :: Header
</span><a href="Cardano.Ledger.Address.html#headerNonShelleyBits"><span class="hs-identifier hs-var hs-var">headerNonShelleyBits</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Header
</span><a href="Cardano.Ledger.Address.html#headerByron"><span class="hs-identifier hs-var">headerByron</span></a></span><span> </span><span class="annot"><span class="annottext">Header -&gt; Header -&gt; Header
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Header
</span><span class="hs-number">0b00001100</span></span><span>
</span><span id="line-514"></span><span>
</span><span id="line-515"></span><span class="annot"><a href="Cardano.Ledger.Address.html#headerNetworkId"><span class="hs-identifier hs-type">headerNetworkId</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Header"><span class="hs-identifier hs-type">Header</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Ledger.BaseTypes.html#Network"><span class="hs-identifier hs-type">Network</span></a></span><span>
</span><span id="line-516"></span><span id="headerNetworkId"><span class="annot"><span class="annottext">headerNetworkId :: Header -&gt; Network
</span><a href="Cardano.Ledger.Address.html#headerNetworkId"><span class="hs-identifier hs-var hs-var">headerNetworkId</span></a></span></span><span> </span><span id="local-6989586621679448101"><span class="annot"><span class="annottext">Header
</span><a href="#local-6989586621679448101"><span class="hs-identifier hs-var">header</span></a></span></span><span>
</span><span id="line-517"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Header
</span><a href="#local-6989586621679448101"><span class="hs-identifier hs-var">header</span></a></span><span> </span><span class="annot"><span class="annottext">Header -&gt; Int -&gt; Bool
forall a. Bits a =&gt; a -&gt; Int -&gt; Bool
</span><span class="hs-operator hs-var">`testBit`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Network
</span><a href="Cardano.Ledger.BaseTypes.html#Mainnet"><span class="hs-identifier hs-var">Mainnet</span></a></span><span>
</span><span id="line-518"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Network
</span><a href="Cardano.Ledger.BaseTypes.html#Testnet"><span class="hs-identifier hs-var">Testnet</span></a></span><span>
</span><span id="line-519"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#headerNetworkId"><span class="hs-pragma hs-type">headerNetworkId</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-520"></span><span>
</span><span id="line-521"></span><span class="annot"><a href="Cardano.Ledger.Address.html#headerIsPaymentScript"><span class="hs-identifier hs-type">headerIsPaymentScript</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Header"><span class="hs-identifier hs-type">Header</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-522"></span><span id="headerIsPaymentScript"><span class="annot"><span class="annottext">headerIsPaymentScript :: Header -&gt; Bool
</span><a href="Cardano.Ledger.Address.html#headerIsPaymentScript"><span class="hs-identifier hs-var hs-var">headerIsPaymentScript</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Header -&gt; Int -&gt; Bool
forall a. Bits a =&gt; a -&gt; Int -&gt; Bool
</span><span class="hs-operator hs-var">`testBit`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span class="hs-special">)</span><span>
</span><span id="line-523"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#headerIsPaymentScript"><span class="hs-pragma hs-type">headerIsPaymentScript</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-524"></span><span>
</span><span id="line-525"></span><span class="annot"><a href="Cardano.Ledger.Address.html#headerIsEnterpriseAddr"><span class="hs-identifier hs-type">headerIsEnterpriseAddr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Header"><span class="hs-identifier hs-type">Header</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-526"></span><span id="headerIsEnterpriseAddr"><span class="annot"><span class="annottext">headerIsEnterpriseAddr :: Header -&gt; Bool
</span><a href="Cardano.Ledger.Address.html#headerIsEnterpriseAddr"><span class="hs-identifier hs-var hs-var">headerIsEnterpriseAddr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Header -&gt; Int -&gt; Bool
forall a. Bits a =&gt; a -&gt; Int -&gt; Bool
</span><span class="hs-operator hs-var">`testBit`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span class="hs-special">)</span><span>
</span><span id="line-527"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#headerIsEnterpriseAddr"><span class="hs-pragma hs-type">headerIsEnterpriseAddr</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-528"></span><span>
</span><span id="line-529"></span><span class="annot"><a href="Cardano.Ledger.Address.html#headerIsStakingScript"><span class="hs-identifier hs-type">headerIsStakingScript</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Header"><span class="hs-identifier hs-type">Header</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-530"></span><span id="headerIsStakingScript"><span class="annot"><span class="annottext">headerIsStakingScript :: Header -&gt; Bool
</span><a href="Cardano.Ledger.Address.html#headerIsStakingScript"><span class="hs-identifier hs-var hs-var">headerIsStakingScript</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Header -&gt; Int -&gt; Bool
forall a. Bits a =&gt; a -&gt; Int -&gt; Bool
</span><span class="hs-operator hs-var">`testBit`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span class="hs-special">)</span><span>
</span><span id="line-531"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#headerIsStakingScript"><span class="hs-pragma hs-type">headerIsStakingScript</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-532"></span><span>
</span><span id="line-533"></span><span class="annot"><a href="Cardano.Ledger.Address.html#headerIsBaseAddress"><span class="hs-identifier hs-type">headerIsBaseAddress</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Header"><span class="hs-identifier hs-type">Header</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-534"></span><span id="headerIsBaseAddress"><span class="annot"><span class="annottext">headerIsBaseAddress :: Header -&gt; Bool
</span><a href="Cardano.Ledger.Address.html#headerIsBaseAddress"><span class="hs-identifier hs-var hs-var">headerIsBaseAddress</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; (Header -&gt; Bool) -&gt; Header -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Header -&gt; Int -&gt; Bool
forall a. Bits a =&gt; a -&gt; Int -&gt; Bool
</span><span class="hs-operator hs-var">`testBit`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">6</span></span><span class="hs-special">)</span><span>
</span><span id="line-535"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#headerIsBaseAddress"><span class="hs-pragma hs-type">headerIsBaseAddress</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-536"></span><span>
</span><span id="line-537"></span><span class="annot"><span class="hs-comment">-- | Same as `decodeAddr`, but produces an `Either` result</span></span><span>
</span><span id="line-538"></span><span class="annot"><a href="Cardano.Ledger.Address.html#decodeAddrEither"><span class="hs-identifier hs-type">decodeAddrEither</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-539"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">BS.ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-540"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Addr"><span class="hs-identifier hs-type">Addr</span></a></span><span>
</span><span id="line-541"></span><span id="decodeAddrEither"><span class="annot"><span class="annottext">decodeAddrEither :: ByteString -&gt; Either String Addr
</span><a href="Cardano.Ledger.Address.html#decodeAddrEither"><span class="hs-identifier hs-var hs-var">decodeAddrEither</span></a></span></span><span> </span><span id="local-6989586621679448107"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679448107"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Fail String Addr -&gt; Either String Addr
forall e a. (IsString e, Semigroup e) =&gt; Fail e a -&gt; Either e a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/FailT-0.1.2.0-a6bfc8b1703d475e2ae00d40307128c8b38b30577dae60bdff0e62519ebdc06b/share/doc/html/src/Control.Monad.Trans.Fail.html#runFail"><span class="hs-identifier hs-var">runFail</span></a></span><span> </span><span class="annot"><span class="annottext">(Fail String Addr -&gt; Either String Addr)
-&gt; Fail String Addr -&gt; Either String Addr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">StateT Int (FailT String Identity) Addr -&gt; Int -&gt; Fail String Addr
forall (m :: * -&gt; *) s a. Monad m =&gt; StateT s m a -&gt; s -&gt; m a
</span><span class="hs-identifier hs-var">evalStateT</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; StateT Int (FailT String Identity) Addr
forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
b -&gt; StateT Int m Addr
</span><a href="Cardano.Ledger.Address.html#decodeAddrStateT"><span class="hs-identifier hs-var">decodeAddrStateT</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679448107"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-542"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#decodeAddrEither"><span class="hs-pragma hs-type">decodeAddrEither</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-543"></span><span>
</span><span id="line-544"></span><span class="hs-comment">-- | Strict decoder for an address from a `ByteString`. This will not let you decode some</span><span>
</span><span id="line-545"></span><span class="hs-comment">-- of the buggy addresses that have been placed on chain. This decoder is intended for</span><span>
</span><span id="line-546"></span><span class="hs-comment">-- addresses that are to be placed on chian today.</span><span>
</span><span id="line-547"></span><span class="annot"><a href="Cardano.Ledger.Address.html#decodeAddr"><span class="hs-identifier hs-type">decodeAddr</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-548"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679446525"><span class="annot"><a href="#local-6989586621679446525"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-549"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">MonadFail</span></span><span> </span><span class="annot"><a href="#local-6989586621679446525"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-550"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">BS.ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-551"></span><span>  </span><span class="annot"><a href="#local-6989586621679446525"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Addr"><span class="hs-identifier hs-type">Addr</span></a></span><span>
</span><span id="line-552"></span><span id="decodeAddr"><span class="annot"><span class="annottext">decodeAddr :: forall (m :: * -&gt; *). MonadFail m =&gt; ByteString -&gt; m Addr
</span><a href="Cardano.Ledger.Address.html#decodeAddr"><span class="hs-identifier hs-var hs-var">decodeAddr</span></a></span></span><span> </span><span id="local-6989586621679448114"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679448114"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StateT Int m Addr -&gt; Int -&gt; m Addr
forall (m :: * -&gt; *) s a. Monad m =&gt; StateT s m a -&gt; s -&gt; m a
</span><span class="hs-identifier hs-var">evalStateT</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; StateT Int m Addr
forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
b -&gt; StateT Int m Addr
</span><a href="Cardano.Ledger.Address.html#decodeAddrStateT"><span class="hs-identifier hs-var">decodeAddrStateT</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679448114"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-553"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#decodeAddr"><span class="hs-pragma hs-type">decodeAddr</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-554"></span><span>
</span><span id="line-555"></span><span class="annot"><span class="hs-comment">-- | Just like `decodeAddrStateLenientT`, but enforces the address to be well-formed.</span></span><span>
</span><span id="line-556"></span><span id="local-6989586621679446669"><span id="local-6989586621679446670"><span class="annot"><a href="Cardano.Ledger.Address.html#decodeAddrStateT"><span class="hs-identifier hs-type">decodeAddrStateT</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-557"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadFail</span></span><span> </span><span class="annot"><a href="#local-6989586621679446669"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#AddressBuffer"><span class="hs-identifier hs-type">AddressBuffer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446670"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-558"></span><span>  </span><span class="annot"><a href="#local-6989586621679446670"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-559"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">StateT</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679446669"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Addr"><span class="hs-identifier hs-type">Addr</span></a></span></span></span><span>
</span><span id="line-560"></span><span id="decodeAddrStateT"><span class="annot"><span class="annottext">decodeAddrStateT :: forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
b -&gt; StateT Int m Addr
</span><a href="Cardano.Ledger.Address.html#decodeAddrStateT"><span class="hs-identifier hs-var hs-var">decodeAddrStateT</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; b -&gt; StateT Int m Addr
forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
Bool -&gt; Bool -&gt; b -&gt; StateT Int m Addr
</span><a href="Cardano.Ledger.Address.html#decodeAddrStateLenientT"><span class="hs-identifier hs-var">decodeAddrStateLenientT</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-561"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#decodeAddrStateT"><span class="hs-pragma hs-type">decodeAddrStateT</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-562"></span><span>
</span><span id="line-563"></span><span class="hs-comment">-- | This is the most general decoder for a Cardano address. This function is not meant to</span><span>
</span><span id="line-564"></span><span class="hs-comment">-- be used directly, but it is exported for convenice. `decodeAddr` and other should be</span><span>
</span><span id="line-565"></span><span class="hs-comment">-- used instead.</span><span>
</span><span id="line-566"></span><span class="hs-comment">--</span><span>
</span><span id="line-567"></span><span class="hs-comment">-- While decoding an Addr the header (the first byte in the buffer) is expected to be in a</span><span>
</span><span id="line-568"></span><span class="hs-comment">-- certain format. Here are the meaning of all the bits:</span><span>
</span><span id="line-569"></span><span class="hs-comment">--</span><span>
</span><span id="line-570"></span><span class="hs-comment">-- @@@</span><span>
</span><span id="line-571"></span><span class="hs-comment">--</span><span>
</span><span id="line-572"></span><span class="hs-comment">-- &#9487;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9523;&#9473;&#9519;&#9473;&#9519;&#9473;&#9519;&#9473;&#9519;&#9473;&#9519;&#9473;&#9519;&#9473;&#9519;&#9473;&#9491;</span><span>
</span><span id="line-573"></span><span class="hs-comment">-- &#9475;  Byron Address &#9475;1&#9482;0&#9482;0&#9482;0&#9482;0&#9482;0&#9482;1&#9482;0&#9475;</span><span>
</span><span id="line-574"></span><span class="hs-comment">-- &#9507;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9547;&#9473;&#9535;&#9473;&#9535;&#9473;&#9535;&#9473;&#9535;&#9473;&#9535;&#9473;&#9535;&#9473;&#9535;&#9473;&#9515;</span><span>
</span><span id="line-575"></span><span class="hs-comment">-- &#9475;Shelley Address &#9475;0&#9482;x&#9482;x&#9482;x&#9482;0&#9482;0&#9482;0&#9482;x&#9475;</span><span>
</span><span id="line-576"></span><span class="hs-comment">-- &#9495;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9547;&#9473;&#9535;&#9473;&#9535;&#9473;&#9535;&#9473;&#9535;&#9473;&#9535;&#9473;&#9535;&#9473;&#9535;&#9473;&#9547;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9491;</span><span>
</span><span id="line-577"></span><span class="hs-comment">--                  &#9475;0&#9482;0&#9482;0&#9482;0&#9482;0&#9482;0&#9482;0&#9482;0&#9475; Testnet PaymentKey    StakingKey    &#9475;</span><span>
</span><span id="line-578"></span><span class="hs-comment">--                  &#9475;0&#9482;0&#9482;0&#9482;0&#9482;0&#9482;0&#9482;0&#9482;1&#9475; Mainnet PaymentKey    StakingKey    &#9475;</span><span>
</span><span id="line-579"></span><span class="hs-comment">--                  &#9475;0&#9482;0&#9482;0&#9482;1&#9482;0&#9482;0&#9482;0&#9482;0&#9475; Testnet PaymentScript StakingKey    &#9475;</span><span>
</span><span id="line-580"></span><span class="hs-comment">--                  &#9475;0&#9482;0&#9482;0&#9482;1&#9482;0&#9482;0&#9482;0&#9482;1&#9475; Mainnet PaymentScript StakingKey    &#9475;</span><span>
</span><span id="line-581"></span><span class="hs-comment">--                  &#9475;0&#9482;0&#9482;1&#9482;0&#9482;0&#9482;0&#9482;0&#9482;0&#9475; Testnet PaymentKey    StakingScript &#9475;</span><span>
</span><span id="line-582"></span><span class="hs-comment">--                  &#9475;0&#9482;0&#9482;1&#9482;0&#9482;0&#9482;0&#9482;0&#9482;1&#9475; Mainnet PaymentKey    StakingScript &#9475;</span><span>
</span><span id="line-583"></span><span class="hs-comment">--                  &#9475;0&#9482;0&#9482;1&#9482;1&#9482;0&#9482;0&#9482;0&#9482;0&#9475; Testnet PaymentScript StakingScript &#9475;</span><span>
</span><span id="line-584"></span><span class="hs-comment">--                  &#9475;0&#9482;0&#9482;1&#9482;1&#9482;0&#9482;0&#9482;0&#9482;1&#9475; Mainnet PaymentScript StakingScript &#9475;</span><span>
</span><span id="line-585"></span><span class="hs-comment">--                  &#9475;0&#9482;1&#9482;0&#9482;0&#9482;0&#9482;0&#9482;0&#9482;0&#9475; Testnet PaymentKey    StakingPtr    &#9475;</span><span>
</span><span id="line-586"></span><span class="hs-comment">--                  &#9475;0&#9482;1&#9482;0&#9482;0&#9482;0&#9482;0&#9482;0&#9482;1&#9475; Mainnet PaymentKey    StakingPtr    &#9475;</span><span>
</span><span id="line-587"></span><span class="hs-comment">--                  &#9475;0&#9482;1&#9482;0&#9482;1&#9482;0&#9482;0&#9482;0&#9482;0&#9475; Testnet PaymentScript StakingPtr    &#9475;</span><span>
</span><span id="line-588"></span><span class="hs-comment">--                  &#9475;0&#9482;1&#9482;0&#9482;1&#9482;0&#9482;0&#9482;0&#9482;1&#9475; Mainnet PaymentScript StakingPtr    &#9475;</span><span>
</span><span id="line-589"></span><span class="hs-comment">--                  &#9475;0&#9482;1&#9482;1&#9482;0&#9482;0&#9482;0&#9482;0&#9482;0&#9475; Testnet PaymentKey    StakingNull   &#9475;</span><span>
</span><span id="line-590"></span><span class="hs-comment">--                  &#9475;0&#9482;1&#9482;1&#9482;0&#9482;0&#9482;0&#9482;0&#9482;1&#9475; Mainnet PaymentKey    StakingNull   &#9475;</span><span>
</span><span id="line-591"></span><span class="hs-comment">--                  &#9475;0&#9482;1&#9482;1&#9482;1&#9482;0&#9482;0&#9482;0&#9482;0&#9475; Testnet PaymentScript StakingNull   &#9475;</span><span>
</span><span id="line-592"></span><span class="hs-comment">--                  &#9475;0&#9482;1&#9482;1&#9482;1&#9482;0&#9482;0&#9482;0&#9482;1&#9475; Mainnet PaymentScript StakingNull   &#9475;</span><span>
</span><span id="line-593"></span><span class="hs-comment">--                  &#9495;&#9473;&#9527;&#9473;&#9527;&#9473;&#9527;&#9473;&#9527;&#9473;&#9527;&#9473;&#9527;&#9473;&#9527;&#9473;&#9531;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9499;</span><span>
</span><span id="line-594"></span><span class="hs-comment">--                      \ \ \       \</span><span>
</span><span id="line-595"></span><span class="hs-comment">--                       \ \ \       `Is Mainnet Address</span><span>
</span><span id="line-596"></span><span class="hs-comment">--                        \ \ `Payment Credential is a Script</span><span>
</span><span id="line-597"></span><span class="hs-comment">--                         \ `Staking Credential is a Script / No Staking Credential</span><span>
</span><span id="line-598"></span><span class="hs-comment">--                          `Not a Base Address</span><span>
</span><span id="line-599"></span><span class="hs-comment">-- @@@</span><span>
</span><span id="line-600"></span><span id="local-6989586621679446625"><span id="local-6989586621679446626"><span class="annot"><a href="Cardano.Ledger.Address.html#decodeAddrStateLenientT"><span class="hs-identifier hs-type">decodeAddrStateLenientT</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-601"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadFail</span></span><span> </span><span class="annot"><a href="#local-6989586621679446625"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#AddressBuffer"><span class="hs-identifier hs-type">AddressBuffer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446626"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-602"></span><span>  </span><span class="hs-comment">-- | Enable lenient decoding for Ptrs, i.e. indicate whether junk can follow a Ptr. This</span><span>
</span><span id="line-603"></span><span>  </span><span class="hs-comment">-- is necessary for backwards compatibility only.  Setting this argument to True is only</span><span>
</span><span id="line-604"></span><span>  </span><span class="hs-comment">-- needed for backwards compatibility.</span><span>
</span><span id="line-605"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-606"></span><span>  </span><span class="hs-comment">-- | Indicate whether decoder should not enforce the full input to be consumed or not,</span><span>
</span><span id="line-607"></span><span>  </span><span class="hs-comment">-- i.e. allow garbage at the end or not. Setting this argument to True is only needed</span><span>
</span><span id="line-608"></span><span>  </span><span class="hs-comment">-- for backwards compatibility.</span><span>
</span><span id="line-609"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-610"></span><span>  </span><span class="annot"><a href="#local-6989586621679446626"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-611"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">StateT</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679446625"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Addr"><span class="hs-identifier hs-type">Addr</span></a></span></span></span><span>
</span><span id="line-612"></span><span id="decodeAddrStateLenientT"><span class="annot"><span class="annottext">decodeAddrStateLenientT :: forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
Bool -&gt; Bool -&gt; b -&gt; StateT Int m Addr
</span><a href="Cardano.Ledger.Address.html#decodeAddrStateLenientT"><span class="hs-identifier hs-var hs-var">decodeAddrStateLenientT</span></a></span></span><span> </span><span id="local-6989586621679448159"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679448159"><span class="hs-identifier hs-var">isPtrLenient</span></a></span></span><span> </span><span id="local-6989586621679448160"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679448160"><span class="hs-identifier hs-var">isLenient</span></a></span></span><span> </span><span id="local-6989586621679448161"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448161"><span class="hs-identifier hs-var">buf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-613"></span><span>  </span><span class="annot"><span class="annottext">String -&gt; Int -&gt; b -&gt; StateT Int m ()
forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
String -&gt; Int -&gt; b -&gt; StateT Int m ()
</span><a href="Cardano.Ledger.Address.html#guardLength"><span class="hs-identifier hs-var">guardLength</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Header&quot;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448161"><span class="hs-identifier hs-var">buf</span></a></span><span>
</span><span id="line-614"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679448163"><span class="annot"><span class="annottext">header :: Header
</span><a href="#local-6989586621679448163"><span class="hs-identifier hs-var hs-var">header</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Header
</span><a href="Cardano.Ledger.Address.html#Header"><span class="hs-identifier hs-var">Header</span></a></span><span> </span><span class="annot"><span class="annottext">(Word8 -&gt; Header) -&gt; Word8 -&gt; Header
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; Int -&gt; Word8
forall b. AddressBuffer b =&gt; b -&gt; Int -&gt; Word8
</span><a href="Cardano.Ledger.Address.html#bufUnsafeIndex"><span class="hs-identifier hs-var">bufUnsafeIndex</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448161"><span class="hs-identifier hs-var">buf</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-615"></span><span>  </span><span id="local-6989586621679448164"><span class="annot"><span class="annottext">Addr
</span><a href="#local-6989586621679448164"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-616"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Header -&gt; Bool
</span><a href="Cardano.Ledger.Address.html#isByronAddress"><span class="hs-identifier hs-var">isByronAddress</span></a></span><span> </span><span class="annot"><span class="annottext">Header
</span><a href="#local-6989586621679448163"><span class="hs-identifier hs-var">header</span></a></span><span>
</span><span id="line-617"></span><span>      </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">BootstrapAddress -&gt; Addr
</span><a href="Cardano.Ledger.Address.html#AddrBootstrap"><span class="hs-identifier hs-var">AddrBootstrap</span></a></span><span> </span><span class="annot"><span class="annottext">(BootstrapAddress -&gt; Addr)
-&gt; StateT Int m BootstrapAddress -&gt; StateT Int m Addr
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; StateT Int m BootstrapAddress
forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
b -&gt; StateT Int m BootstrapAddress
</span><a href="Cardano.Ledger.Address.html#decodeBootstrapAddress"><span class="hs-identifier hs-var">decodeBootstrapAddress</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448161"><span class="hs-identifier hs-var">buf</span></a></span><span>
</span><span id="line-618"></span><span>      </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-619"></span><span>        </span><span class="hs-comment">-- Ensure there are no unexpected bytes in the header</span><span>
</span><span id="line-620"></span><span>        </span><span class="annot"><span class="annottext">Bool -&gt; StateT Int m () -&gt; StateT Int m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Header
</span><a href="#local-6989586621679448163"><span class="hs-identifier hs-var">header</span></a></span><span> </span><span class="annot"><span class="annottext">Header -&gt; Header -&gt; Header
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.&amp;.</span></span><span> </span><span class="annot"><span class="annottext">Header
</span><a href="Cardano.Ledger.Address.html#headerNonShelleyBits"><span class="hs-identifier hs-var">headerNonShelleyBits</span></a></span><span> </span><span class="annot"><span class="annottext">Header -&gt; Header -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Header
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-621"></span><span>          </span><span class="annot"><span class="annottext">(StateT Int m () -&gt; StateT Int m ())
-&gt; StateT Int m () -&gt; StateT Int m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; StateT Int m ()
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; String -&gt; m a
</span><a href="Cardano.Ledger.Address.html#failDecoding"><span class="hs-identifier hs-var">failDecoding</span></a></span><span>
</span><span id="line-622"></span><span>            </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Shelley Address&quot;</span></span><span>
</span><span id="line-623"></span><span>          </span><span class="annot"><span class="annottext">(String -&gt; StateT Int m ()) -&gt; String -&gt; StateT Int m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Invalid header. Unused bits are not suppose to be set: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Header -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Header
</span><a href="#local-6989586621679448163"><span class="hs-identifier hs-var">header</span></a></span><span>
</span><span id="line-624"></span><span>        </span><span class="hs-comment">-- Advance one byte for the consumed header</span><span>
</span><span id="line-625"></span><span>        </span><span class="annot"><span class="annottext">(Int -&gt; Int) -&gt; StateT Int m ()
forall (m :: * -&gt; *) s. Monad m =&gt; (s -&gt; s) -&gt; StateT s m ()
</span><span class="hs-identifier hs-var">modify'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-626"></span><span>        </span><span id="local-6989586621679448167"><span class="annot"><span class="annottext">PaymentCredential
</span><a href="#local-6989586621679448167"><span class="hs-identifier hs-var">payment</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Header -&gt; b -&gt; StateT Int m PaymentCredential
forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
Header -&gt; b -&gt; StateT Int m PaymentCredential
</span><a href="Cardano.Ledger.Address.html#decodePaymentCredential"><span class="hs-identifier hs-var">decodePaymentCredential</span></a></span><span> </span><span class="annot"><span class="annottext">Header
</span><a href="#local-6989586621679448163"><span class="hs-identifier hs-var">header</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448161"><span class="hs-identifier hs-var">buf</span></a></span><span>
</span><span id="line-627"></span><span>        </span><span id="local-6989586621679448169"><span class="annot"><span class="annottext">StakeReference
</span><a href="#local-6989586621679448169"><span class="hs-identifier hs-var">staking</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Header -&gt; b -&gt; StateT Int m StakeReference
forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
Bool -&gt; Header -&gt; b -&gt; StateT Int m StakeReference
</span><a href="Cardano.Ledger.Address.html#decodeStakeReference"><span class="hs-identifier hs-var">decodeStakeReference</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679448159"><span class="hs-identifier hs-var">isPtrLenient</span></a></span><span> </span><span class="annot"><span class="annottext">Header
</span><a href="#local-6989586621679448163"><span class="hs-identifier hs-var">header</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448161"><span class="hs-identifier hs-var">buf</span></a></span><span>
</span><span id="line-628"></span><span>        </span><span class="annot"><span class="annottext">Addr -&gt; StateT Int m Addr
forall a. a -&gt; StateT Int m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Addr -&gt; StateT Int m Addr) -&gt; Addr -&gt; StateT Int m Addr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Network -&gt; PaymentCredential -&gt; StakeReference -&gt; Addr
</span><a href="Cardano.Ledger.Address.html#Addr"><span class="hs-identifier hs-var">Addr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Header -&gt; Network
</span><a href="Cardano.Ledger.Address.html#headerNetworkId"><span class="hs-identifier hs-var">headerNetworkId</span></a></span><span> </span><span class="annot"><span class="annottext">Header
</span><a href="#local-6989586621679448163"><span class="hs-identifier hs-var">header</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PaymentCredential
</span><a href="#local-6989586621679448167"><span class="hs-identifier hs-var">payment</span></a></span><span> </span><span class="annot"><span class="annottext">StakeReference
</span><a href="#local-6989586621679448169"><span class="hs-identifier hs-var">staking</span></a></span><span>
</span><span id="line-629"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; StateT Int m () -&gt; StateT Int m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679448160"><span class="hs-identifier hs-var">isLenient</span></a></span><span> </span><span class="annot"><span class="annottext">(StateT Int m () -&gt; StateT Int m ())
-&gt; StateT Int m () -&gt; StateT Int m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-630"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; b -&gt; StateT Int m ()
forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
String -&gt; b -&gt; StateT Int m ()
</span><a href="Cardano.Ledger.Address.html#ensureBufIsConsumed"><span class="hs-identifier hs-var">ensureBufIsConsumed</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Addr&quot;</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448161"><span class="hs-identifier hs-var">buf</span></a></span><span>
</span><span id="line-631"></span><span>  </span><span class="annot"><span class="annottext">Addr -&gt; StateT Int m Addr
forall a. a -&gt; StateT Int m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Addr
</span><a href="#local-6989586621679448164"><span class="hs-identifier hs-var">addr</span></a></span><span>
</span><span id="line-632"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#decodeAddrStateLenientT"><span class="hs-pragma hs-type">decodeAddrStateLenientT</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-633"></span><span>
</span><span id="line-634"></span><span class="annot"><span class="hs-comment">-- | Checks that the current offset is exactly at the end of the buffer.</span></span><span>
</span><span id="line-635"></span><span class="annot"><a href="Cardano.Ledger.Address.html#ensureBufIsConsumed"><span class="hs-identifier hs-type">ensureBufIsConsumed</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-636"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679446694"><span class="annot"><a href="#local-6989586621679446694"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679446695"><span class="annot"><a href="#local-6989586621679446695"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-637"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadFail</span></span><span> </span><span class="annot"><a href="#local-6989586621679446694"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#AddressBuffer"><span class="hs-identifier hs-type">AddressBuffer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446695"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-638"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Name for error reporting</span></span><span>
</span><span id="line-639"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-640"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Buffer that should have been consumed.</span></span><span>
</span><span id="line-641"></span><span>  </span><span class="annot"><a href="#local-6989586621679446695"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-642"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">StateT</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679446694"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-643"></span><span id="ensureBufIsConsumed"><span class="annot"><span class="annottext">ensureBufIsConsumed :: forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
String -&gt; b -&gt; StateT Int m ()
</span><a href="Cardano.Ledger.Address.html#ensureBufIsConsumed"><span class="hs-identifier hs-var hs-var">ensureBufIsConsumed</span></a></span></span><span> </span><span id="local-6989586621679448188"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679448188"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621679448189"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448189"><span class="hs-identifier hs-var">buf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-644"></span><span>  </span><span id="local-6989586621679448190"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679448190"><span class="hs-identifier hs-var">lastOffset</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">StateT Int m Int
forall (m :: * -&gt; *) s. Monad m =&gt; StateT s m s
</span><span class="hs-identifier hs-var">get</span></span><span>
</span><span id="line-645"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679448191"><span class="annot"><span class="annottext">len :: Int
</span><a href="#local-6989586621679448191"><span class="hs-identifier hs-var hs-var">len</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Int
forall b. AddressBuffer b =&gt; b -&gt; Int
</span><a href="Cardano.Ledger.Address.html#bufLength"><span class="hs-identifier hs-var">bufLength</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448189"><span class="hs-identifier hs-var">buf</span></a></span><span>
</span><span id="line-646"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; StateT Int m () -&gt; StateT Int m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679448190"><span class="hs-identifier hs-var">lastOffset</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679448191"><span class="hs-identifier hs-var">len</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(StateT Int m () -&gt; StateT Int m ())
-&gt; StateT Int m () -&gt; StateT Int m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-647"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; String -&gt; StateT Int m ()
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; String -&gt; m a
</span><a href="Cardano.Ledger.Address.html#failDecoding"><span class="hs-identifier hs-var">failDecoding</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679448188"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; StateT Int m ()) -&gt; String -&gt; StateT Int m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-648"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Left over bytes: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679448191"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679448190"><span class="hs-identifier hs-var">lastOffset</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-649"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#ensureBufIsConsumed"><span class="hs-pragma hs-type">ensureBufIsConsumed</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-650"></span><span>
</span><span id="line-651"></span><span class="annot"><span class="hs-comment">-- | This decoder assumes the whole `ShortByteString` is occupied by the `BootstrapAddress`</span></span><span>
</span><span id="line-652"></span><span class="annot"><a href="Cardano.Ledger.Address.html#decodeBootstrapAddress"><span class="hs-identifier hs-type">decodeBootstrapAddress</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-653"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679446682"><span class="annot"><a href="#local-6989586621679446682"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679446683"><span class="annot"><a href="#local-6989586621679446683"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-654"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadFail</span></span><span> </span><span class="annot"><a href="#local-6989586621679446682"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#AddressBuffer"><span class="hs-identifier hs-type">AddressBuffer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446683"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-655"></span><span>  </span><span class="annot"><a href="#local-6989586621679446683"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-656"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">StateT</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679446682"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#BootstrapAddress"><span class="hs-identifier hs-type">BootstrapAddress</span></a></span><span>
</span><span id="line-657"></span><span id="decodeBootstrapAddress"><span class="annot"><span class="annottext">decodeBootstrapAddress :: forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
b -&gt; StateT Int m BootstrapAddress
</span><a href="Cardano.Ledger.Address.html#decodeBootstrapAddress"><span class="hs-identifier hs-var hs-var">decodeBootstrapAddress</span></a></span></span><span> </span><span id="local-6989586621679448207"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448207"><span class="hs-identifier hs-var">buf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-658"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Version -&gt; ByteString -&gt; Either DecoderError Address
forall a.
DecCBOR a =&gt;
Version -&gt; ByteString -&gt; Either DecoderError a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.html#decodeFull%27"><span class="hs-identifier hs-var">decodeFull'</span></a></span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Version.html#byronProtVer"><span class="hs-identifier hs-var">byronProtVer</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Either DecoderError Address)
-&gt; ByteString -&gt; Either DecoderError Address
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; ByteString
forall b. AddressBuffer b =&gt; b -&gt; ByteString
</span><a href="Cardano.Ledger.Address.html#bufToByteString"><span class="hs-identifier hs-var">bufToByteString</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448207"><span class="hs-identifier hs-var">buf</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-659"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679448208"><span class="annot"><span class="annottext">DecoderError
</span><a href="#local-6989586621679448208"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; StateT Int m BootstrapAddress
forall a. String -&gt; StateT Int m a
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><span class="hs-identifier hs-var">fail</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; StateT Int m BootstrapAddress)
-&gt; String -&gt; StateT Int m BootstrapAddress
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DecoderError -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">DecoderError
</span><a href="#local-6989586621679448208"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-660"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679448209"><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679448209"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Address -&gt; BootstrapAddress
</span><a href="Cardano.Ledger.Address.html#BootstrapAddress"><span class="hs-identifier hs-var">BootstrapAddress</span></a></span><span> </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679448209"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="annot"><span class="annottext">BootstrapAddress
-&gt; StateT Int m () -&gt; StateT Int m BootstrapAddress
forall a b. a -&gt; StateT Int m b -&gt; StateT Int m a
forall (f :: * -&gt; *) a b. Functor f =&gt; a -&gt; f b -&gt; f a
</span><span class="hs-operator hs-var">&lt;$</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Int) -&gt; StateT Int m ()
forall (m :: * -&gt; *) s. Monad m =&gt; (s -&gt; s) -&gt; StateT s m ()
</span><span class="hs-identifier hs-var">modify'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; Int
forall b. AddressBuffer b =&gt; b -&gt; Int
</span><a href="Cardano.Ledger.Address.html#bufLength"><span class="hs-identifier hs-var">bufLength</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448207"><span class="hs-identifier hs-var">buf</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-661"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#decodeBootstrapAddress"><span class="hs-pragma hs-type">decodeBootstrapAddress</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-662"></span><span>
</span><span id="line-663"></span><span id="local-6989586621679446690"><span id="local-6989586621679446691"><span class="annot"><a href="Cardano.Ledger.Address.html#decodePaymentCredential"><span class="hs-identifier hs-type">decodePaymentCredential</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-664"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadFail</span></span><span> </span><span class="annot"><a href="#local-6989586621679446690"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#AddressBuffer"><span class="hs-identifier hs-type">AddressBuffer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446691"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-665"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#Header"><span class="hs-identifier hs-type">Header</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-666"></span><span>  </span><span class="annot"><a href="#local-6989586621679446691"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-667"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">StateT</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679446690"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Credential.html#PaymentCredential"><span class="hs-identifier hs-type">PaymentCredential</span></a></span></span></span><span>
</span><span id="line-668"></span><span id="decodePaymentCredential"><span class="annot"><span class="annottext">decodePaymentCredential :: forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
Header -&gt; b -&gt; StateT Int m PaymentCredential
</span><a href="Cardano.Ledger.Address.html#decodePaymentCredential"><span class="hs-identifier hs-var hs-var">decodePaymentCredential</span></a></span></span><span> </span><span id="local-6989586621679448222"><span class="annot"><span class="annottext">Header
</span><a href="#local-6989586621679448222"><span class="hs-identifier hs-var">header</span></a></span></span><span> </span><span id="local-6989586621679448223"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448223"><span class="hs-identifier hs-var">buf</span></a></span></span><span>
</span><span id="line-669"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Header -&gt; Bool
</span><a href="Cardano.Ledger.Address.html#headerIsPaymentScript"><span class="hs-identifier hs-var">headerIsPaymentScript</span></a></span><span> </span><span class="annot"><span class="annottext">Header
</span><a href="#local-6989586621679448222"><span class="hs-identifier hs-var">header</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ScriptHash -&gt; PaymentCredential
forall (kr :: KeyRole). ScriptHash -&gt; Credential kr
</span><a href="Cardano.Ledger.Credential.html#ScriptHashObj"><span class="hs-identifier hs-var">ScriptHashObj</span></a></span><span> </span><span class="annot"><span class="annottext">(ScriptHash -&gt; PaymentCredential)
-&gt; StateT Int m ScriptHash -&gt; StateT Int m PaymentCredential
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; StateT Int m ScriptHash
forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
b -&gt; StateT Int m ScriptHash
</span><a href="Cardano.Ledger.Address.html#decodeScriptHash"><span class="hs-identifier hs-var">decodeScriptHash</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448223"><span class="hs-identifier hs-var">buf</span></a></span><span>
</span><span id="line-670"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">KeyHash 'Payment -&gt; PaymentCredential
forall (kr :: KeyRole). KeyHash kr -&gt; Credential kr
</span><a href="Cardano.Ledger.Credential.html#KeyHashObj"><span class="hs-identifier hs-var">KeyHashObj</span></a></span><span> </span><span class="annot"><span class="annottext">(KeyHash 'Payment -&gt; PaymentCredential)
-&gt; StateT Int m (KeyHash 'Payment)
-&gt; StateT Int m PaymentCredential
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; StateT Int m (KeyHash 'Payment)
forall (m :: * -&gt; *) b (kr :: KeyRole).
(MonadFail m, AddressBuffer b) =&gt;
b -&gt; StateT Int m (KeyHash kr)
</span><a href="Cardano.Ledger.Address.html#decodeKeyHash"><span class="hs-identifier hs-var">decodeKeyHash</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448223"><span class="hs-identifier hs-var">buf</span></a></span><span>
</span><span id="line-671"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#decodePaymentCredential"><span class="hs-pragma hs-type">decodePaymentCredential</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-672"></span><span>
</span><span id="line-673"></span><span id="local-6989586621679446692"><span id="local-6989586621679446693"><span class="annot"><a href="Cardano.Ledger.Address.html#decodeStakeReference"><span class="hs-identifier hs-type">decodeStakeReference</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-674"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadFail</span></span><span> </span><span class="annot"><a href="#local-6989586621679446692"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#AddressBuffer"><span class="hs-identifier hs-type">AddressBuffer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446693"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-675"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-676"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Address.html#Header"><span class="hs-identifier hs-type">Header</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-677"></span><span>  </span><span class="annot"><a href="#local-6989586621679446693"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-678"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">StateT</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679446692"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Credential.html#StakeReference"><span class="hs-identifier hs-type">StakeReference</span></a></span></span></span><span>
</span><span id="line-679"></span><span id="decodeStakeReference"><span class="annot"><span class="annottext">decodeStakeReference :: forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
Bool -&gt; Header -&gt; b -&gt; StateT Int m StakeReference
</span><a href="Cardano.Ledger.Address.html#decodeStakeReference"><span class="hs-identifier hs-var hs-var">decodeStakeReference</span></a></span></span><span> </span><span id="local-6989586621679448243"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679448243"><span class="hs-identifier hs-var">isLenientPtrDecoder</span></a></span></span><span> </span><span id="local-6989586621679448244"><span class="annot"><span class="annottext">Header
</span><a href="#local-6989586621679448244"><span class="hs-identifier hs-var">header</span></a></span></span><span> </span><span id="local-6989586621679448245"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448245"><span class="hs-identifier hs-var">buf</span></a></span></span><span>
</span><span id="line-680"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Header -&gt; Bool
</span><a href="Cardano.Ledger.Address.html#headerIsBaseAddress"><span class="hs-identifier hs-var">headerIsBaseAddress</span></a></span><span> </span><span class="annot"><span class="annottext">Header
</span><a href="#local-6989586621679448244"><span class="hs-identifier hs-var">header</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-681"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Header -&gt; Bool
</span><a href="Cardano.Ledger.Address.html#headerIsStakingScript"><span class="hs-identifier hs-var">headerIsStakingScript</span></a></span><span> </span><span class="annot"><span class="annottext">Header
</span><a href="#local-6989586621679448244"><span class="hs-identifier hs-var">header</span></a></span><span>
</span><span id="line-682"></span><span>        </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Credential 'Staking -&gt; StakeReference
</span><a href="Cardano.Ledger.Credential.html#StakeRefBase"><span class="hs-identifier hs-var">StakeRefBase</span></a></span><span> </span><span class="annot"><span class="annottext">(Credential 'Staking -&gt; StakeReference)
-&gt; (ScriptHash -&gt; Credential 'Staking)
-&gt; ScriptHash
-&gt; StakeReference
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ScriptHash -&gt; Credential 'Staking
forall (kr :: KeyRole). ScriptHash -&gt; Credential kr
</span><a href="Cardano.Ledger.Credential.html#ScriptHashObj"><span class="hs-identifier hs-var">ScriptHashObj</span></a></span><span> </span><span class="annot"><span class="annottext">(ScriptHash -&gt; StakeReference)
-&gt; StateT Int m ScriptHash -&gt; StateT Int m StakeReference
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; StateT Int m ScriptHash
forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
b -&gt; StateT Int m ScriptHash
</span><a href="Cardano.Ledger.Address.html#decodeScriptHash"><span class="hs-identifier hs-var">decodeScriptHash</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448245"><span class="hs-identifier hs-var">buf</span></a></span><span>
</span><span id="line-683"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Credential 'Staking -&gt; StakeReference
</span><a href="Cardano.Ledger.Credential.html#StakeRefBase"><span class="hs-identifier hs-var">StakeRefBase</span></a></span><span> </span><span class="annot"><span class="annottext">(Credential 'Staking -&gt; StakeReference)
-&gt; (KeyHash 'Staking -&gt; Credential 'Staking)
-&gt; KeyHash 'Staking
-&gt; StakeReference
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">KeyHash 'Staking -&gt; Credential 'Staking
forall (kr :: KeyRole). KeyHash kr -&gt; Credential kr
</span><a href="Cardano.Ledger.Credential.html#KeyHashObj"><span class="hs-identifier hs-var">KeyHashObj</span></a></span><span> </span><span class="annot"><span class="annottext">(KeyHash 'Staking -&gt; StakeReference)
-&gt; StateT Int m (KeyHash 'Staking) -&gt; StateT Int m StakeReference
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; StateT Int m (KeyHash 'Staking)
forall (m :: * -&gt; *) b (kr :: KeyRole).
(MonadFail m, AddressBuffer b) =&gt;
b -&gt; StateT Int m (KeyHash kr)
</span><a href="Cardano.Ledger.Address.html#decodeKeyHash"><span class="hs-identifier hs-var">decodeKeyHash</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448245"><span class="hs-identifier hs-var">buf</span></a></span><span>
</span><span id="line-684"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-685"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Header -&gt; Bool
</span><a href="Cardano.Ledger.Address.html#headerIsEnterpriseAddr"><span class="hs-identifier hs-var">headerIsEnterpriseAddr</span></a></span><span> </span><span class="annot"><span class="annottext">Header
</span><a href="#local-6989586621679448244"><span class="hs-identifier hs-var">header</span></a></span><span>
</span><span id="line-686"></span><span>        </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">StakeReference -&gt; StateT Int m StakeReference
forall a. a -&gt; StateT Int m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">StakeReference
</span><a href="Cardano.Ledger.Credential.html#StakeRefNull"><span class="hs-identifier hs-var">StakeRefNull</span></a></span><span>
</span><span id="line-687"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Ptr -&gt; StakeReference
</span><a href="Cardano.Ledger.Credential.html#StakeRefPtr"><span class="hs-identifier hs-var">StakeRefPtr</span></a></span><span> </span><span class="annot"><span class="annottext">(Ptr -&gt; StakeReference)
-&gt; StateT Int m Ptr -&gt; StateT Int m StakeReference
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679448243"><span class="hs-identifier hs-var">isLenientPtrDecoder</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">b -&gt; StateT Int m Ptr
forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
b -&gt; StateT Int m Ptr
</span><a href="Cardano.Ledger.Address.html#decodePtrLenient"><span class="hs-identifier hs-var">decodePtrLenient</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448245"><span class="hs-identifier hs-var">buf</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">b -&gt; StateT Int m Ptr
forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
b -&gt; StateT Int m Ptr
</span><a href="Cardano.Ledger.Address.html#decodePtr"><span class="hs-identifier hs-var">decodePtr</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448245"><span class="hs-identifier hs-var">buf</span></a></span><span>
</span><span id="line-688"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#decodeStakeReference"><span class="hs-pragma hs-type">decodeStakeReference</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-689"></span><span>
</span><span id="line-690"></span><span id="local-6989586621679446710"><span id="local-6989586621679446711"><span id="local-6989586621679446712"><span class="annot"><a href="Cardano.Ledger.Address.html#decodeKeyHash"><span class="hs-identifier hs-type">decodeKeyHash</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-691"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadFail</span></span><span> </span><span class="annot"><a href="#local-6989586621679446710"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#AddressBuffer"><span class="hs-identifier hs-type">AddressBuffer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446711"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-692"></span><span>  </span><span class="annot"><a href="#local-6989586621679446711"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-693"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">StateT</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679446710"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Hashes.html#KeyHash"><span class="hs-identifier hs-type">KeyHash</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446712"><span class="hs-identifier hs-type">kr</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-694"></span><span id="decodeKeyHash"><span class="annot"><span class="annottext">decodeKeyHash :: forall (m :: * -&gt; *) b (kr :: KeyRole).
(MonadFail m, AddressBuffer b) =&gt;
b -&gt; StateT Int m (KeyHash kr)
</span><a href="Cardano.Ledger.Address.html#decodeKeyHash"><span class="hs-identifier hs-var hs-var">decodeKeyHash</span></a></span></span><span> </span><span id="local-6989586621679448257"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448257"><span class="hs-identifier hs-var">buf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Hash ADDRHASH (VerKeyDSIGN DSIGN) -&gt; KeyHash kr
forall (r :: KeyRole).
Hash ADDRHASH (VerKeyDSIGN DSIGN) -&gt; KeyHash r
</span><a href="Cardano.Ledger.Hashes.html#KeyHash"><span class="hs-identifier hs-var">KeyHash</span></a></span><span> </span><span class="annot"><span class="annottext">(Hash ADDRHASH (VerKeyDSIGN DSIGN) -&gt; KeyHash kr)
-&gt; StateT Int m (Hash ADDRHASH (VerKeyDSIGN DSIGN))
-&gt; StateT Int m (KeyHash kr)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; StateT Int m (Hash ADDRHASH (VerKeyDSIGN DSIGN))
forall a h (m :: * -&gt; *) b.
(HashAlgorithm h, MonadFail m, AddressBuffer b) =&gt;
b -&gt; StateT Int m (Hash h a)
</span><a href="Cardano.Ledger.Address.html#decodeHash"><span class="hs-identifier hs-var">decodeHash</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448257"><span class="hs-identifier hs-var">buf</span></a></span><span>
</span><span id="line-695"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#decodeKeyHash"><span class="hs-pragma hs-type">decodeKeyHash</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-696"></span><span>
</span><span id="line-697"></span><span id="local-6989586621679446708"><span id="local-6989586621679446709"><span class="annot"><a href="Cardano.Ledger.Address.html#decodeScriptHash"><span class="hs-identifier hs-type">decodeScriptHash</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-698"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadFail</span></span><span> </span><span class="annot"><a href="#local-6989586621679446708"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#AddressBuffer"><span class="hs-identifier hs-type">AddressBuffer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446709"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-699"></span><span>  </span><span class="annot"><a href="#local-6989586621679446709"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-700"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">StateT</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679446708"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Hashes.html#ScriptHash"><span class="hs-identifier hs-type">ScriptHash</span></a></span></span></span><span>
</span><span id="line-701"></span><span id="decodeScriptHash"><span class="annot"><span class="annottext">decodeScriptHash :: forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
b -&gt; StateT Int m ScriptHash
</span><a href="Cardano.Ledger.Address.html#decodeScriptHash"><span class="hs-identifier hs-var hs-var">decodeScriptHash</span></a></span></span><span> </span><span id="local-6989586621679448268"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448268"><span class="hs-identifier hs-var">buf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Hash ADDRHASH EraIndependentScript -&gt; ScriptHash
</span><a href="Cardano.Ledger.Hashes.html#ScriptHash"><span class="hs-identifier hs-var">ScriptHash</span></a></span><span> </span><span class="annot"><span class="annottext">(Hash ADDRHASH EraIndependentScript -&gt; ScriptHash)
-&gt; StateT Int m (Hash ADDRHASH EraIndependentScript)
-&gt; StateT Int m ScriptHash
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; StateT Int m (Hash ADDRHASH EraIndependentScript)
forall a h (m :: * -&gt; *) b.
(HashAlgorithm h, MonadFail m, AddressBuffer b) =&gt;
b -&gt; StateT Int m (Hash h a)
</span><a href="Cardano.Ledger.Address.html#decodeHash"><span class="hs-identifier hs-var">decodeHash</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448268"><span class="hs-identifier hs-var">buf</span></a></span><span>
</span><span id="line-702"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#decodeScriptHash"><span class="hs-pragma hs-type">decodeScriptHash</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-703"></span><span>
</span><span id="line-704"></span><span class="annot"><a href="Cardano.Ledger.Address.html#decodeHash"><span class="hs-identifier hs-type">decodeHash</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-705"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679446723"><span class="annot"><a href="#local-6989586621679446723"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679446720"><span class="annot"><a href="#local-6989586621679446720"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span id="local-6989586621679446721"><span class="annot"><a href="#local-6989586621679446721"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679446722"><span class="annot"><a href="#local-6989586621679446722"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-706"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-crypto-class-2.2.3.1-587788bd0abb83ca86364e7e25fdd2cb1ce3c8f25ede4b71a1cb43e4a1d72f36/share/doc/html/src/Cardano.Crypto.Hash.Class.html#HashAlgorithm"><span class="hs-identifier hs-type">Hash.HashAlgorithm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446720"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadFail</span></span><span> </span><span class="annot"><a href="#local-6989586621679446721"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#AddressBuffer"><span class="hs-identifier hs-type">AddressBuffer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446722"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-707"></span><span>  </span><span class="annot"><a href="#local-6989586621679446722"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-708"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">StateT</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679446721"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-crypto-class-2.2.3.1-587788bd0abb83ca86364e7e25fdd2cb1ce3c8f25ede4b71a1cb43e4a1d72f36/share/doc/html/src/Cardano.Crypto.Hash.Class.html#Hash"><span class="hs-identifier hs-type">Hash.Hash</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446720"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446723"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-709"></span><span id="decodeHash"><span class="annot"><span class="annottext">decodeHash :: forall a h (m :: * -&gt; *) b.
(HashAlgorithm h, MonadFail m, AddressBuffer b) =&gt;
b -&gt; StateT Int m (Hash h a)
</span><a href="Cardano.Ledger.Address.html#decodeHash"><span class="hs-identifier hs-var hs-var">decodeHash</span></a></span></span><span> </span><span id="local-6989586621679448295"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448295"><span class="hs-identifier hs-var">buf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-710"></span><span>  </span><span id="local-6989586621679448296"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679448296"><span class="hs-identifier hs-var">offset</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">StateT Int m Int
forall (m :: * -&gt; *) s. Monad m =&gt; StateT s m s
</span><span class="hs-identifier hs-var">get</span></span><span>
</span><span id="line-711"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">b -&gt; Int -&gt; Maybe (Hash h a)
forall b h a.
(AddressBuffer b, HashAlgorithm h) =&gt;
b -&gt; Int -&gt; Maybe (Hash h a)
forall h a. HashAlgorithm h =&gt; b -&gt; Int -&gt; Maybe (Hash h a)
</span><a href="Cardano.Ledger.Address.html#bufGetHash"><span class="hs-identifier hs-var">bufGetHash</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448295"><span class="hs-identifier hs-var">buf</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679448296"><span class="hs-identifier hs-var">offset</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-712"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679448297"><span class="annot"><span class="annottext">Hash h a
</span><a href="#local-6989586621679448297"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Hash h a
</span><a href="#local-6989586621679448297"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">Hash h a -&gt; StateT Int m () -&gt; StateT Int m (Hash h a)
forall a b. a -&gt; StateT Int m b -&gt; StateT Int m a
forall (f :: * -&gt; *) a b. Functor f =&gt; a -&gt; f b -&gt; f a
</span><span class="hs-operator hs-var">&lt;$</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Int) -&gt; StateT Int m ()
forall (m :: * -&gt; *) s. Monad m =&gt; (s -&gt; s) -&gt; StateT s m ()
</span><span class="hs-identifier hs-var">modify'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679448298"><span class="hs-identifier hs-var">hashLen</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-713"></span><span>    </span><span class="annot"><span class="annottext">Maybe (Hash h a)
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-714"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679448296"><span class="hs-identifier hs-var">offset</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-715"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; String -&gt; StateT Int m (Hash h a)
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; String -&gt; m a
</span><a href="Cardano.Ledger.Address.html#failDecoding"><span class="hs-identifier hs-var">failDecoding</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Hash&quot;</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; StateT Int m (Hash h a))
-&gt; String -&gt; StateT Int m (Hash h a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-716"></span><span>            </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Not enough bytes supplied: &quot;</span></span><span>
</span><span id="line-717"></span><span>              </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; Int
forall b. AddressBuffer b =&gt; b -&gt; Int
</span><a href="Cardano.Ledger.Address.html#bufLength"><span class="hs-identifier hs-var">bufLength</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448295"><span class="hs-identifier hs-var">buf</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679448296"><span class="hs-identifier hs-var">offset</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-718"></span><span>              </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;. Expected: &quot;</span></span><span>
</span><span id="line-719"></span><span>              </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679448298"><span class="hs-identifier hs-var">hashLen</span></a></span><span>
</span><span id="line-720"></span><span>    </span><span class="annot"><span class="annottext">Maybe (Hash h a)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; StateT Int m (Hash h a)
forall a. String -&gt; StateT Int m a
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><span class="hs-identifier hs-var">fail</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Impossible: Negative offset&quot;</span></span><span>
</span><span id="line-721"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-722"></span><span>    </span><span class="annot"><a href="#local-6989586621679448298"><span class="hs-identifier hs-type">hashLen</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-723"></span><span>    </span><span id="local-6989586621679448298"><span class="annot"><span class="annottext">hashLen :: Int
</span><a href="#local-6989586621679448298"><span class="hs-identifier hs-var hs-var">hashLen</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy h -&gt; Word
forall h (proxy :: * -&gt; *). HashAlgorithm h =&gt; proxy h -&gt; Word
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-crypto-class-2.2.3.1-587788bd0abb83ca86364e7e25fdd2cb1ce3c8f25ede4b71a1cb43e4a1d72f36/share/doc/html/src/Cardano.Crypto.Hash.Class.html#sizeHash"><span class="hs-identifier hs-var">Hash.sizeHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy h
forall {k} (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679446720"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-724"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#decodeHash"><span class="hs-pragma hs-type">decodeHash</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-725"></span><span>
</span><span id="line-726"></span><span id="local-6989586621679448299"><span id="local-6989586621679448300"><span class="annot"><a href="Cardano.Ledger.Address.html#decodePtr"><span class="hs-identifier hs-type">decodePtr</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-727"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadFail</span></span><span> </span><span class="annot"><a href="#local-6989586621679448299"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#AddressBuffer"><span class="hs-identifier hs-type">AddressBuffer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679448300"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-728"></span><span>  </span><span class="annot"><a href="#local-6989586621679448300"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-729"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">StateT</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679448299"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Credential.html#Ptr"><span class="hs-identifier hs-type">Ptr</span></a></span></span></span><span>
</span><span id="line-730"></span><span id="decodePtr"><span class="annot"><span class="annottext">decodePtr :: forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
b -&gt; StateT Int m Ptr
</span><a href="Cardano.Ledger.Address.html#decodePtr"><span class="hs-identifier hs-var hs-var">decodePtr</span></a></span></span><span> </span><span id="local-6989586621679448318"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448318"><span class="hs-identifier hs-var">buf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-731"></span><span>  </span><span class="annot"><span class="annottext">SlotNo32 -&gt; TxIx -&gt; CertIx -&gt; Ptr
</span><a href="Cardano.Ledger.Credential.html#Ptr"><span class="hs-identifier hs-var">Ptr</span></a></span><span>
</span><span id="line-732"></span><span>    </span><span class="annot"><span class="annottext">(SlotNo32 -&gt; TxIx -&gt; CertIx -&gt; Ptr)
-&gt; StateT Int m SlotNo32 -&gt; StateT Int m (TxIx -&gt; CertIx -&gt; Ptr)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word32 -&gt; SlotNo32
</span><a href="Cardano.Ledger.Credential.html#SlotNo32"><span class="hs-identifier hs-var">SlotNo32</span></a></span><span> </span><span class="annot"><span class="annottext">(Word32 -&gt; SlotNo32)
-&gt; StateT Int m Word32 -&gt; StateT Int m SlotNo32
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; b -&gt; StateT Int m Word32
forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
String -&gt; b -&gt; StateT Int m Word32
</span><a href="Cardano.Ledger.Address.html#decodeVariableLengthWord32"><span class="hs-identifier hs-var">decodeVariableLengthWord32</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SlotNo&quot;</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448318"><span class="hs-identifier hs-var">buf</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-733"></span><span>    </span><span class="annot"><span class="annottext">StateT Int m (TxIx -&gt; CertIx -&gt; Ptr)
-&gt; StateT Int m TxIx -&gt; StateT Int m (CertIx -&gt; Ptr)
forall a b.
StateT Int m (a -&gt; b) -&gt; StateT Int m a -&gt; StateT Int m b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word16 -&gt; TxIx
</span><a href="Cardano.Ledger.BaseTypes.html#TxIx"><span class="hs-identifier hs-var">TxIx</span></a></span><span> </span><span class="annot"><span class="annottext">(Word16 -&gt; TxIx) -&gt; StateT Int m Word16 -&gt; StateT Int m TxIx
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; b -&gt; StateT Int m Word16
forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
String -&gt; b -&gt; StateT Int m Word16
</span><a href="Cardano.Ledger.Address.html#decodeVariableLengthWord16"><span class="hs-identifier hs-var">decodeVariableLengthWord16</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;TxIx&quot;</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448318"><span class="hs-identifier hs-var">buf</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-734"></span><span>    </span><span class="annot"><span class="annottext">StateT Int m (CertIx -&gt; Ptr)
-&gt; StateT Int m CertIx -&gt; StateT Int m Ptr
forall a b.
StateT Int m (a -&gt; b) -&gt; StateT Int m a -&gt; StateT Int m b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word16 -&gt; CertIx
</span><a href="Cardano.Ledger.BaseTypes.html#CertIx"><span class="hs-identifier hs-var">CertIx</span></a></span><span> </span><span class="annot"><span class="annottext">(Word16 -&gt; CertIx) -&gt; StateT Int m Word16 -&gt; StateT Int m CertIx
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; b -&gt; StateT Int m Word16
forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
String -&gt; b -&gt; StateT Int m Word16
</span><a href="Cardano.Ledger.Address.html#decodeVariableLengthWord16"><span class="hs-identifier hs-var">decodeVariableLengthWord16</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;CertIx&quot;</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448318"><span class="hs-identifier hs-var">buf</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-735"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#decodePtr"><span class="hs-pragma hs-type">decodePtr</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-736"></span><span>
</span><span id="line-737"></span><span id="local-6989586621679446715"><span id="local-6989586621679446716"><span class="annot"><a href="Cardano.Ledger.Address.html#decodePtrLenient"><span class="hs-identifier hs-type">decodePtrLenient</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-738"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadFail</span></span><span> </span><span class="annot"><a href="#local-6989586621679446715"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#AddressBuffer"><span class="hs-identifier hs-type">AddressBuffer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446716"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-739"></span><span>  </span><span class="annot"><a href="#local-6989586621679446716"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-740"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">StateT</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679446715"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Credential.html#Ptr"><span class="hs-identifier hs-type">Ptr</span></a></span></span></span><span>
</span><span id="line-741"></span><span id="decodePtrLenient"><span class="annot"><span class="annottext">decodePtrLenient :: forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
b -&gt; StateT Int m Ptr
</span><a href="Cardano.Ledger.Address.html#decodePtrLenient"><span class="hs-identifier hs-var hs-var">decodePtrLenient</span></a></span></span><span> </span><span id="local-6989586621679448335"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448335"><span class="hs-identifier hs-var">buf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-742"></span><span>  </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64 -&gt; Ptr
</span><a href="Cardano.Ledger.Credential.html#mkPtrNormalized"><span class="hs-identifier hs-var">mkPtrNormalized</span></a></span><span>
</span><span id="line-743"></span><span>    </span><span class="annot"><span class="annottext">(Word64 -&gt; Word64 -&gt; Word64 -&gt; Ptr)
-&gt; StateT Int m Word64 -&gt; StateT Int m (Word64 -&gt; Word64 -&gt; Ptr)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; b -&gt; StateT Int m Word64
forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
String -&gt; b -&gt; StateT Int m Word64
</span><a href="Cardano.Ledger.Address.html#decodeVariableLengthWord64"><span class="hs-identifier hs-var">decodeVariableLengthWord64</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SlotNo&quot;</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448335"><span class="hs-identifier hs-var">buf</span></a></span><span>
</span><span id="line-744"></span><span>    </span><span class="annot"><span class="annottext">StateT Int m (Word64 -&gt; Word64 -&gt; Ptr)
-&gt; StateT Int m Word64 -&gt; StateT Int m (Word64 -&gt; Ptr)
forall a b.
StateT Int m (a -&gt; b) -&gt; StateT Int m a -&gt; StateT Int m b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; b -&gt; StateT Int m Word64
forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
String -&gt; b -&gt; StateT Int m Word64
</span><a href="Cardano.Ledger.Address.html#decodeVariableLengthWord64"><span class="hs-identifier hs-var">decodeVariableLengthWord64</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;TxIx&quot;</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448335"><span class="hs-identifier hs-var">buf</span></a></span><span>
</span><span id="line-745"></span><span>    </span><span class="annot"><span class="annottext">StateT Int m (Word64 -&gt; Ptr)
-&gt; StateT Int m Word64 -&gt; StateT Int m Ptr
forall a b.
StateT Int m (a -&gt; b) -&gt; StateT Int m a -&gt; StateT Int m b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; b -&gt; StateT Int m Word64
forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
String -&gt; b -&gt; StateT Int m Word64
</span><a href="Cardano.Ledger.Address.html#decodeVariableLengthWord64"><span class="hs-identifier hs-var">decodeVariableLengthWord64</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;CertIx&quot;</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448335"><span class="hs-identifier hs-var">buf</span></a></span><span>
</span><span id="line-746"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#decodePtrLenient"><span class="hs-pragma hs-type">decodePtrLenient</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-747"></span><span>
</span><span id="line-748"></span><span id="local-6989586621679446680"><span id="local-6989586621679446681"><span class="annot"><a href="Cardano.Ledger.Address.html#guardLength"><span class="hs-identifier hs-type">guardLength</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-749"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadFail</span></span><span> </span><span class="annot"><a href="#local-6989586621679446680"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#AddressBuffer"><span class="hs-identifier hs-type">AddressBuffer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446681"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-750"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Name for what is being decoded for the error message</span></span><span>
</span><span id="line-751"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-752"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-753"></span><span>  </span><span class="annot"><a href="#local-6989586621679446681"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-754"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">StateT</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679446680"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-755"></span><span id="guardLength"><span class="annot"><span class="annottext">guardLength :: forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
String -&gt; Int -&gt; b -&gt; StateT Int m ()
</span><a href="Cardano.Ledger.Address.html#guardLength"><span class="hs-identifier hs-var hs-var">guardLength</span></a></span></span><span> </span><span id="local-6989586621679448349"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679448349"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621679448350"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679448350"><span class="hs-identifier hs-var">expectedLength</span></a></span></span><span> </span><span id="local-6989586621679448351"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448351"><span class="hs-identifier hs-var">buf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-756"></span><span>  </span><span id="local-6989586621679448352"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679448352"><span class="hs-identifier hs-var">offset</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">StateT Int m Int
forall (m :: * -&gt; *) s. Monad m =&gt; StateT s m s
</span><span class="hs-identifier hs-var">get</span></span><span>
</span><span id="line-757"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; StateT Int m () -&gt; StateT Int m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679448352"><span class="hs-identifier hs-var">offset</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; Int
forall b. AddressBuffer b =&gt; b -&gt; Int
</span><a href="Cardano.Ledger.Address.html#bufLength"><span class="hs-identifier hs-var">bufLength</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448351"><span class="hs-identifier hs-var">buf</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679448350"><span class="hs-identifier hs-var">expectedLength</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(StateT Int m () -&gt; StateT Int m ())
-&gt; StateT Int m () -&gt; StateT Int m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-758"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; String -&gt; StateT Int m ()
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; String -&gt; m a
</span><a href="Cardano.Ledger.Address.html#failDecoding"><span class="hs-identifier hs-var">failDecoding</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679448349"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Not enough bytes for decoding&quot;</span></span><span>
</span><span id="line-759"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#guardLength"><span class="hs-pragma hs-type">guardLength</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-760"></span><span>
</span><span id="line-761"></span><span class="hs-comment">-- | Decode a variable length integral value that is encoded with 7 bits of data</span><span>
</span><span id="line-762"></span><span class="hs-comment">-- and the most significant bit (MSB), the 8th bit is set whenever there are</span><span>
</span><span id="line-763"></span><span class="hs-comment">-- more bits following. Continuation style allows us to avoid</span><span>
</span><span id="line-764"></span><span class="hs-comment">-- rucursion. Removing loops is good for performance.</span><span>
</span><span id="line-765"></span><span id="local-6989586621679446742"><span id="local-6989586621679446743"><span id="local-6989586621679446744"><span class="annot"><a href="Cardano.Ledger.Address.html#decode7BitVarLength"><span class="hs-identifier hs-type">decode7BitVarLength</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-766"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621679446742"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bits</span></span><span> </span><span class="annot"><a href="#local-6989586621679446742"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#AddressBuffer"><span class="hs-identifier hs-type">AddressBuffer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446743"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadFail</span></span><span> </span><span class="annot"><a href="#local-6989586621679446744"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-767"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Name of what is being decoded for error reporting</span></span><span>
</span><span id="line-768"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-769"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Buffer that contains encoded number</span></span><span>
</span><span id="line-770"></span><span>  </span><span class="annot"><a href="#local-6989586621679446743"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-771"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Continuation that will be invoked if MSB is set</span></span><span>
</span><span id="line-772"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679446742"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">StateT</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679446744"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446742"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-773"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Accumulator</span></span><span>
</span><span id="line-774"></span><span>  </span><span class="annot"><a href="#local-6989586621679446742"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-775"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">StateT</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679446744"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446742"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-776"></span><span id="decode7BitVarLength"><span class="annot"><span class="annottext">decode7BitVarLength :: forall a b (m :: * -&gt; *).
(Num a, Bits a, AddressBuffer b, MonadFail m) =&gt;
String -&gt; b -&gt; (a -&gt; StateT Int m a) -&gt; a -&gt; StateT Int m a
</span><a href="Cardano.Ledger.Address.html#decode7BitVarLength"><span class="hs-identifier hs-var hs-var">decode7BitVarLength</span></a></span></span><span> </span><span id="local-6989586621679448380"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679448380"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621679448381"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448381"><span class="hs-identifier hs-var">buf</span></a></span></span><span> </span><span id="local-6989586621679448382"><span class="annot"><span class="annottext">a -&gt; StateT Int m a
</span><a href="#local-6989586621679448382"><span class="hs-identifier hs-var">cont</span></a></span></span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621679448383"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679448383"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-777"></span><span>  </span><span class="annot"><span class="annottext">String -&gt; Int -&gt; b -&gt; StateT Int m ()
forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
String -&gt; Int -&gt; b -&gt; StateT Int m ()
</span><a href="Cardano.Ledger.Address.html#guardLength"><span class="hs-identifier hs-var">guardLength</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679448380"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448381"><span class="hs-identifier hs-var">buf</span></a></span><span>
</span><span id="line-778"></span><span>  </span><span id="local-6989586621679448384"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679448384"><span class="hs-identifier hs-var">offset</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; (Int, Int)) -&gt; StateT Int m Int
forall (m :: * -&gt; *) s a. Monad m =&gt; (s -&gt; (a, s)) -&gt; StateT s m a
</span><span class="hs-identifier hs-var">state</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679448385"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679448385"><span class="hs-identifier hs-var">off</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679448385"><span class="hs-identifier hs-var">off</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679448385"><span class="hs-identifier hs-var">off</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-779"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679448386"><span class="annot"><span class="annottext">b8 :: Word8
</span><a href="#local-6989586621679448386"><span class="hs-identifier hs-var hs-var">b8</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Int -&gt; Word8
forall b. AddressBuffer b =&gt; b -&gt; Int -&gt; Word8
</span><a href="Cardano.Ledger.Address.html#bufUnsafeIndex"><span class="hs-identifier hs-var">bufUnsafeIndex</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448381"><span class="hs-identifier hs-var">buf</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679448384"><span class="hs-identifier hs-var">offset</span></a></span><span>
</span><span id="line-780"></span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679448386"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Int -&gt; Bool
forall a. Bits a =&gt; a -&gt; Int -&gt; Bool
</span><span class="hs-operator hs-var">`testBit`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">7</span></span><span>
</span><span id="line-781"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">a -&gt; StateT Int m a
</span><a href="#local-6989586621679448382"><span class="hs-identifier hs-var">cont</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679448383"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Int -&gt; a
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">`shiftL`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">7</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; a
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679448386"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Int -&gt; Word8
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">`clearBit`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">7</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-782"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">a -&gt; StateT Int m a
forall a. a -&gt; StateT Int m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679448383"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Int -&gt; a
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">`shiftL`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">7</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; a
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679448386"><span class="hs-identifier hs-var">b8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-783"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#decode7BitVarLength"><span class="hs-pragma hs-type">decode7BitVarLength</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-784"></span><span>
</span><span id="line-785"></span><span id="local-6989586621679446685"><span id="local-6989586621679446686"><span class="annot"><a href="Cardano.Ledger.Address.html#failDecoding"><span class="hs-identifier hs-type">failDecoding</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadFail</span></span><span> </span><span class="annot"><a href="#local-6989586621679446685"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679446685"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446686"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-786"></span><span id="failDecoding"><span class="annot"><span class="annottext">failDecoding :: forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; String -&gt; m a
</span><a href="Cardano.Ledger.Address.html#failDecoding"><span class="hs-identifier hs-var hs-var">failDecoding</span></a></span></span><span> </span><span id="local-6989586621679448391"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679448391"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621679448392"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679448392"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; m a
forall a. String -&gt; m a
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><span class="hs-identifier hs-var">fail</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m a) -&gt; String -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Decoding &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679448391"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679448392"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-787"></span><span class="hs-pragma">{-# NOINLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#failDecoding"><span class="hs-pragma hs-type">failDecoding</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-788"></span><span>
</span><span id="line-789"></span><span class="annot"><a href="Cardano.Ledger.Address.html#decodeVariableLengthWord16"><span class="hs-identifier hs-type">decodeVariableLengthWord16</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-790"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679446734"><span class="annot"><a href="#local-6989586621679446734"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679446735"><span class="annot"><a href="#local-6989586621679446735"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-791"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadFail</span></span><span> </span><span class="annot"><a href="#local-6989586621679446734"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#AddressBuffer"><span class="hs-identifier hs-type">AddressBuffer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446735"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-792"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-793"></span><span>  </span><span class="annot"><a href="#local-6989586621679446735"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-794"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">StateT</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679446734"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word16</span></span><span>
</span><span id="line-795"></span><span id="decodeVariableLengthWord16"><span class="annot"><span class="annottext">decodeVariableLengthWord16 :: forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
String -&gt; b -&gt; StateT Int m Word16
</span><a href="Cardano.Ledger.Address.html#decodeVariableLengthWord16"><span class="hs-identifier hs-var hs-var">decodeVariableLengthWord16</span></a></span></span><span> </span><span id="local-6989586621679448422"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679448422"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621679448423"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448423"><span class="hs-identifier hs-var">buf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-796"></span><span>  </span><span id="local-6989586621679448424"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679448424"><span class="hs-identifier hs-var">off0</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">StateT Int m Int
forall (m :: * -&gt; *) s. Monad m =&gt; StateT s m s
</span><span class="hs-identifier hs-var">get</span></span><span>
</span><span id="line-797"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679448425"><span class="annot"><span class="annottext">d7 :: (Word16 -&gt; StateT Int m Word16) -&gt; Word16 -&gt; StateT Int m Word16
</span><a href="#local-6989586621679448425"><span class="hs-identifier hs-var hs-var">d7</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; b
-&gt; (Word16 -&gt; StateT Int m Word16)
-&gt; Word16
-&gt; StateT Int m Word16
forall a b (m :: * -&gt; *).
(Num a, Bits a, AddressBuffer b, MonadFail m) =&gt;
String -&gt; b -&gt; (a -&gt; StateT Int m a) -&gt; a -&gt; StateT Int m a
</span><a href="Cardano.Ledger.Address.html#decode7BitVarLength"><span class="hs-identifier hs-var">decode7BitVarLength</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679448422"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448423"><span class="hs-identifier hs-var">buf</span></a></span><span>
</span><span id="line-798"></span><span>      </span><span class="annot"><a href="#local-6989586621679448426"><span class="hs-identifier hs-type">d7last</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word16</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">StateT</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679446734"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word16</span></span><span>
</span><span id="line-799"></span><span>      </span><span id="local-6989586621679448426"><span class="annot"><span class="annottext">d7last :: Word16 -&gt; StateT Int m Word16
</span><a href="#local-6989586621679448426"><span class="hs-identifier hs-var hs-var">d7last</span></a></span></span><span> </span><span id="local-6989586621679448427"><span class="annot"><span class="annottext">Word16
</span><a href="#local-6989586621679448427"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-800"></span><span>        </span><span id="local-6989586621679448428"><span class="annot"><span class="annottext">Word16
</span><a href="#local-6989586621679448428"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String
-&gt; b
-&gt; (Word16 -&gt; StateT Int m Word16)
-&gt; Word16
-&gt; StateT Int m Word16
forall a b (m :: * -&gt; *).
(Num a, Bits a, AddressBuffer b, MonadFail m) =&gt;
String -&gt; b -&gt; (a -&gt; StateT Int m a) -&gt; a -&gt; StateT Int m a
</span><a href="Cardano.Ledger.Address.html#decode7BitVarLength"><span class="hs-identifier hs-var">decode7BitVarLength</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679448422"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448423"><span class="hs-identifier hs-var">buf</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Word16
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; StateT Int m Word16
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; String -&gt; m a
</span><a href="Cardano.Ledger.Address.html#failDecoding"><span class="hs-identifier hs-var">failDecoding</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679448422"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;too many bytes.&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word16
</span><a href="#local-6989586621679448427"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-801"></span><span>        </span><span class="hs-comment">-- Only while decoding the last 7bits we check if there was too many</span><span>
</span><span id="line-802"></span><span>        </span><span class="hs-comment">-- bits supplied at the beginning.</span><span>
</span><span id="line-803"></span><span>        </span><span class="annot"><span class="annottext">Bool -&gt; StateT Int m () -&gt; StateT Int m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; Int -&gt; Word8
forall b. AddressBuffer b =&gt; b -&gt; Int -&gt; Word8
</span><a href="Cardano.Ledger.Address.html#bufUnsafeIndex"><span class="hs-identifier hs-var">bufUnsafeIndex</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448423"><span class="hs-identifier hs-var">buf</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679448424"><span class="hs-identifier hs-var">off0</span></a></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Word8 -&gt; Word8
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.&amp;.</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">0b11111100</span></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Word8 -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">0b10000000</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(StateT Int m () -&gt; StateT Int m ())
-&gt; StateT Int m () -&gt; StateT Int m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-804"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; String -&gt; StateT Int m ()
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; String -&gt; m a
</span><a href="Cardano.Ledger.Address.html#failDecoding"><span class="hs-identifier hs-var">failDecoding</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679448422"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;More than 16bits was supplied&quot;</span></span><span>
</span><span id="line-805"></span><span>        </span><span class="annot"><span class="annottext">Word16 -&gt; StateT Int m Word16
forall a. a -&gt; StateT Int m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Word16
</span><a href="#local-6989586621679448428"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-806"></span><span>  </span><span class="annot"><span class="annottext">(Word16 -&gt; StateT Int m Word16) -&gt; Word16 -&gt; StateT Int m Word16
</span><a href="#local-6989586621679448425"><span class="hs-identifier hs-var">d7</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Word16 -&gt; StateT Int m Word16) -&gt; Word16 -&gt; StateT Int m Word16
</span><a href="#local-6989586621679448425"><span class="hs-identifier hs-var">d7</span></a></span><span> </span><span class="annot"><span class="annottext">Word16 -&gt; StateT Int m Word16
</span><a href="#local-6989586621679448426"><span class="hs-identifier hs-var">d7last</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word16
</span><span class="hs-number">0</span></span><span>
</span><span id="line-807"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#decodeVariableLengthWord16"><span class="hs-pragma hs-type">decodeVariableLengthWord16</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-808"></span><span>
</span><span id="line-809"></span><span class="annot"><a href="Cardano.Ledger.Address.html#decodeVariableLengthWord32"><span class="hs-identifier hs-type">decodeVariableLengthWord32</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-810"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679446732"><span class="annot"><a href="#local-6989586621679446732"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679446733"><span class="annot"><a href="#local-6989586621679446733"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-811"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadFail</span></span><span> </span><span class="annot"><a href="#local-6989586621679446732"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#AddressBuffer"><span class="hs-identifier hs-type">AddressBuffer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446733"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-812"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-813"></span><span>  </span><span class="annot"><a href="#local-6989586621679446733"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-814"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">StateT</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679446732"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word32</span></span><span>
</span><span id="line-815"></span><span id="decodeVariableLengthWord32"><span class="annot"><span class="annottext">decodeVariableLengthWord32 :: forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
String -&gt; b -&gt; StateT Int m Word32
</span><a href="Cardano.Ledger.Address.html#decodeVariableLengthWord32"><span class="hs-identifier hs-var hs-var">decodeVariableLengthWord32</span></a></span></span><span> </span><span id="local-6989586621679448458"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679448458"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621679448459"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448459"><span class="hs-identifier hs-var">buf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-816"></span><span>  </span><span id="local-6989586621679448460"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679448460"><span class="hs-identifier hs-var">off0</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">StateT Int m Int
forall (m :: * -&gt; *) s. Monad m =&gt; StateT s m s
</span><span class="hs-identifier hs-var">get</span></span><span>
</span><span id="line-817"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679448461"><span class="annot"><span class="annottext">d7 :: (Word32 -&gt; StateT Int m Word32) -&gt; Word32 -&gt; StateT Int m Word32
</span><a href="#local-6989586621679448461"><span class="hs-identifier hs-var hs-var">d7</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; b
-&gt; (Word32 -&gt; StateT Int m Word32)
-&gt; Word32
-&gt; StateT Int m Word32
forall a b (m :: * -&gt; *).
(Num a, Bits a, AddressBuffer b, MonadFail m) =&gt;
String -&gt; b -&gt; (a -&gt; StateT Int m a) -&gt; a -&gt; StateT Int m a
</span><a href="Cardano.Ledger.Address.html#decode7BitVarLength"><span class="hs-identifier hs-var">decode7BitVarLength</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679448458"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448459"><span class="hs-identifier hs-var">buf</span></a></span><span>
</span><span id="line-818"></span><span>      </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="#local-6989586621679448461"><span class="hs-pragma hs-type">d7</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-819"></span><span>      </span><span class="annot"><a href="#local-6989586621679448462"><span class="hs-identifier hs-type">d7last</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word32</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">StateT</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679446732"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word32</span></span><span>
</span><span id="line-820"></span><span>      </span><span id="local-6989586621679448462"><span class="annot"><span class="annottext">d7last :: Word32 -&gt; StateT Int m Word32
</span><a href="#local-6989586621679448462"><span class="hs-identifier hs-var hs-var">d7last</span></a></span></span><span> </span><span id="local-6989586621679448463"><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621679448463"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-821"></span><span>        </span><span id="local-6989586621679448464"><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621679448464"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String
-&gt; b
-&gt; (Word32 -&gt; StateT Int m Word32)
-&gt; Word32
-&gt; StateT Int m Word32
forall a b (m :: * -&gt; *).
(Num a, Bits a, AddressBuffer b, MonadFail m) =&gt;
String -&gt; b -&gt; (a -&gt; StateT Int m a) -&gt; a -&gt; StateT Int m a
</span><a href="Cardano.Ledger.Address.html#decode7BitVarLength"><span class="hs-identifier hs-var">decode7BitVarLength</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679448458"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448459"><span class="hs-identifier hs-var">buf</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Word32
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; StateT Int m Word32
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; String -&gt; m a
</span><a href="Cardano.Ledger.Address.html#failDecoding"><span class="hs-identifier hs-var">failDecoding</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679448458"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;too many bytes.&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621679448463"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-822"></span><span>        </span><span class="hs-comment">-- Only while decoding the last 7bits we check if there was too many</span><span>
</span><span id="line-823"></span><span>        </span><span class="hs-comment">-- bits supplied at the beginning.</span><span>
</span><span id="line-824"></span><span>        </span><span class="annot"><span class="annottext">Bool -&gt; StateT Int m () -&gt; StateT Int m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; Int -&gt; Word8
forall b. AddressBuffer b =&gt; b -&gt; Int -&gt; Word8
</span><a href="Cardano.Ledger.Address.html#bufUnsafeIndex"><span class="hs-identifier hs-var">bufUnsafeIndex</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448459"><span class="hs-identifier hs-var">buf</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679448460"><span class="hs-identifier hs-var">off0</span></a></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Word8 -&gt; Word8
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.&amp;.</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">0b11110000</span></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Word8 -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">0b10000000</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(StateT Int m () -&gt; StateT Int m ())
-&gt; StateT Int m () -&gt; StateT Int m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-825"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; String -&gt; StateT Int m ()
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; String -&gt; m a
</span><a href="Cardano.Ledger.Address.html#failDecoding"><span class="hs-identifier hs-var">failDecoding</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679448458"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;More than 32bits was supplied&quot;</span></span><span>
</span><span id="line-826"></span><span>        </span><span class="annot"><span class="annottext">Word32 -&gt; StateT Int m Word32
forall a. a -&gt; StateT Int m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621679448464"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-827"></span><span>      </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="#local-6989586621679448462"><span class="hs-pragma hs-type">d7last</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-828"></span><span>  </span><span class="annot"><span class="annottext">(Word32 -&gt; StateT Int m Word32) -&gt; Word32 -&gt; StateT Int m Word32
</span><a href="#local-6989586621679448461"><span class="hs-identifier hs-var">d7</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Word32 -&gt; StateT Int m Word32) -&gt; Word32 -&gt; StateT Int m Word32
</span><a href="#local-6989586621679448461"><span class="hs-identifier hs-var">d7</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Word32 -&gt; StateT Int m Word32) -&gt; Word32 -&gt; StateT Int m Word32
</span><a href="#local-6989586621679448461"><span class="hs-identifier hs-var">d7</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Word32 -&gt; StateT Int m Word32) -&gt; Word32 -&gt; StateT Int m Word32
</span><a href="#local-6989586621679448461"><span class="hs-identifier hs-var">d7</span></a></span><span> </span><span class="annot"><span class="annottext">Word32 -&gt; StateT Int m Word32
</span><a href="#local-6989586621679448462"><span class="hs-identifier hs-var">d7last</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word32
</span><span class="hs-number">0</span></span><span>
</span><span id="line-829"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#decodeVariableLengthWord32"><span class="hs-pragma hs-type">decodeVariableLengthWord32</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-830"></span><span>
</span><span id="line-831"></span><span class="hs-comment">-- | This decoder is here only with the purpose of preserving old buggy behavior. Should</span><span>
</span><span id="line-832"></span><span class="hs-comment">-- not be used for anything else.</span><span>
</span><span id="line-833"></span><span class="annot"><a href="Cardano.Ledger.Address.html#decodeVariableLengthWord64"><span class="hs-identifier hs-type">decodeVariableLengthWord64</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-834"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679446738"><span class="annot"><a href="#local-6989586621679446738"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679446739"><span class="annot"><a href="#local-6989586621679446739"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-835"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadFail</span></span><span> </span><span class="annot"><a href="#local-6989586621679446738"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#AddressBuffer"><span class="hs-identifier hs-type">AddressBuffer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446739"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-836"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-837"></span><span>  </span><span class="annot"><a href="#local-6989586621679446739"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-838"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">StateT</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679446738"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span>
</span><span id="line-839"></span><span id="decodeVariableLengthWord64"><span class="annot"><span class="annottext">decodeVariableLengthWord64 :: forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
String -&gt; b -&gt; StateT Int m Word64
</span><a href="Cardano.Ledger.Address.html#decodeVariableLengthWord64"><span class="hs-identifier hs-var hs-var">decodeVariableLengthWord64</span></a></span></span><span> </span><span id="local-6989586621679448472"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679448472"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621679448473"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448473"><span class="hs-identifier hs-var">buf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Word64 -&gt; StateT Int m Word64) -&gt; Word64 -&gt; StateT Int m Word64)
-&gt; Word64 -&gt; StateT Int m Word64
forall a. (a -&gt; a) -&gt; a
</span><span class="hs-identifier hs-var">fix</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
-&gt; b
-&gt; (Word64 -&gt; StateT Int m Word64)
-&gt; Word64
-&gt; StateT Int m Word64
forall a b (m :: * -&gt; *).
(Num a, Bits a, AddressBuffer b, MonadFail m) =&gt;
String -&gt; b -&gt; (a -&gt; StateT Int m a) -&gt; a -&gt; StateT Int m a
</span><a href="Cardano.Ledger.Address.html#decode7BitVarLength"><span class="hs-identifier hs-var">decode7BitVarLength</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679448472"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448473"><span class="hs-identifier hs-var">buf</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-840"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#decodeVariableLengthWord64"><span class="hs-pragma hs-type">decodeVariableLengthWord64</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-841"></span><span>
</span><span id="line-842"></span><span class="hs-comment">------------------------------------------------------------------------------------------</span><span>
</span><span id="line-843"></span><span class="hs-comment">-- Reward Account Deserializer -----------------------------------------------------------</span><span>
</span><span id="line-844"></span><span class="hs-comment">------------------------------------------------------------------------------------------</span><span>
</span><span id="line-845"></span><span>
</span><span id="line-846"></span><span class="annot"><a href="Cardano.Ledger.Address.html#decodeRewardAccount"><span class="hs-identifier hs-type">decodeRewardAccount</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-847"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679446376"><span class="annot"><a href="#local-6989586621679446376"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621679446377"><span class="annot"><a href="#local-6989586621679446377"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-848"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Address.html#AddressBuffer"><span class="hs-identifier hs-type">AddressBuffer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446376"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadFail</span></span><span> </span><span class="annot"><a href="#local-6989586621679446377"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-849"></span><span>  </span><span class="annot"><a href="#local-6989586621679446376"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-850"></span><span>  </span><span class="annot"><a href="#local-6989586621679446377"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#RewardAccount"><span class="hs-identifier hs-type">RewardAccount</span></a></span><span>
</span><span id="line-851"></span><span id="decodeRewardAccount"><span class="annot"><span class="annottext">decodeRewardAccount :: forall b (m :: * -&gt; *).
(AddressBuffer b, MonadFail m) =&gt;
b -&gt; m RewardAccount
</span><a href="Cardano.Ledger.Address.html#decodeRewardAccount"><span class="hs-identifier hs-var hs-var">decodeRewardAccount</span></a></span></span><span> </span><span id="local-6989586621679448481"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448481"><span class="hs-identifier hs-var">buf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StateT Int m RewardAccount -&gt; Int -&gt; m RewardAccount
forall (m :: * -&gt; *) s a. Monad m =&gt; StateT s m a -&gt; s -&gt; m a
</span><span class="hs-identifier hs-var">evalStateT</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; StateT Int m RewardAccount
forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
b -&gt; StateT Int m RewardAccount
</span><a href="Cardano.Ledger.Address.html#decodeRewardAccountT"><span class="hs-identifier hs-var">decodeRewardAccountT</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448481"><span class="hs-identifier hs-var">buf</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-852"></span><span>
</span><span id="line-853"></span><span id="local-6989586621679448483"><span class="annot"><a href="Cardano.Ledger.Address.html#fromCborRewardAccount"><span class="hs-identifier hs-type">fromCborRewardAccount</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.Decoder.html#Decoder"><span class="hs-identifier hs-type">Decoder</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679448483"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#RewardAccount"><span class="hs-identifier hs-type">RewardAccount</span></a></span></span><span>
</span><span id="line-854"></span><span id="fromCborRewardAccount"><span class="annot"><span class="annottext">fromCborRewardAccount :: forall s. Decoder s RewardAccount
</span><a href="Cardano.Ledger.Address.html#fromCborRewardAccount"><span class="hs-identifier hs-var hs-var">fromCborRewardAccount</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-855"></span><span>  </span><span id="local-6989586621679448488"><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679448488"><span class="hs-identifier hs-var">sbs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ShortByteString</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Decoder s ShortByteString
forall s. Decoder s ShortByteString
forall a s. DecCBOR a =&gt; Decoder s a
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#decCBOR"><span class="hs-identifier hs-var">decCBOR</span></a></span><span>
</span><span id="line-856"></span><span>  </span><span class="annot"><span class="annottext">ShortByteString -&gt; Decoder s RewardAccount
forall b (m :: * -&gt; *).
(AddressBuffer b, MonadFail m) =&gt;
b -&gt; m RewardAccount
</span><a href="Cardano.Ledger.Address.html#decodeRewardAccount"><span class="hs-identifier hs-var">decodeRewardAccount</span></a></span><span> </span><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679448488"><span class="hs-identifier hs-var">sbs</span></a></span><span>
</span><span id="line-857"></span><span>
</span><span id="line-858"></span><span class="annot"><a href="Cardano.Ledger.Address.html#headerIsRewardAccount"><span class="hs-identifier hs-type">headerIsRewardAccount</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Header"><span class="hs-identifier hs-type">Header</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-859"></span><span id="headerIsRewardAccount"><span class="annot"><span class="annottext">headerIsRewardAccount :: Header -&gt; Bool
</span><a href="Cardano.Ledger.Address.html#headerIsRewardAccount"><span class="hs-identifier hs-var hs-var">headerIsRewardAccount</span></a></span></span><span> </span><span id="local-6989586621679448490"><span class="annot"><span class="annottext">Header
</span><a href="#local-6989586621679448490"><span class="hs-identifier hs-var">header</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Header
</span><a href="#local-6989586621679448490"><span class="hs-identifier hs-var">header</span></a></span><span> </span><span class="annot"><span class="annottext">Header -&gt; Header -&gt; Header
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.&amp;.</span></span><span> </span><span class="annot"><span class="annottext">Header
</span><span class="hs-number">0b11101110</span></span><span> </span><span class="annot"><span class="annottext">Header -&gt; Header -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Header
</span><span class="hs-number">0b11100000</span></span><span>
</span><span id="line-860"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#headerIsRewardAccount"><span class="hs-pragma hs-type">headerIsRewardAccount</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-861"></span><span>
</span><span id="line-862"></span><span class="annot"><a href="Cardano.Ledger.Address.html#headerRewardAccountIsScript"><span class="hs-identifier hs-type">headerRewardAccountIsScript</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#Header"><span class="hs-identifier hs-type">Header</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-863"></span><span id="headerRewardAccountIsScript"><span class="annot"><span class="annottext">headerRewardAccountIsScript :: Header -&gt; Bool
</span><a href="Cardano.Ledger.Address.html#headerRewardAccountIsScript"><span class="hs-identifier hs-var hs-var">headerRewardAccountIsScript</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Header -&gt; Int -&gt; Bool
forall a. Bits a =&gt; a -&gt; Int -&gt; Bool
</span><span class="hs-operator hs-var">`testBit`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span class="hs-special">)</span><span>
</span><span id="line-864"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#headerRewardAccountIsScript"><span class="hs-pragma hs-type">headerRewardAccountIsScript</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-865"></span><span>
</span><span id="line-866"></span><span class="hs-comment">-- | Reward Account Header.</span><span>
</span><span id="line-867"></span><span class="hs-comment">--</span><span>
</span><span id="line-868"></span><span class="hs-comment">-- @@@</span><span>
</span><span id="line-869"></span><span class="hs-comment">--</span><span>
</span><span id="line-870"></span><span class="hs-comment">-- &#9487;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9523;&#9473;&#9519;&#9473;&#9519;&#9473;&#9519;&#9473;&#9519;&#9473;&#9519;&#9473;&#9519;&#9473;&#9519;&#9473;&#9491;</span><span>
</span><span id="line-871"></span><span class="hs-comment">-- &#9475; Reward Account &#9475;1&#9482;1&#9482;1&#9482;x&#9482;0&#9482;0&#9482;0&#9482;x&#9475;</span><span>
</span><span id="line-872"></span><span class="hs-comment">-- &#9495;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9547;&#9473;&#9535;&#9473;&#9535;&#9473;&#9535;&#9473;&#9535;&#9473;&#9535;&#9473;&#9535;&#9473;&#9535;&#9473;&#9547;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9491;</span><span>
</span><span id="line-873"></span><span class="hs-comment">--                  &#9475;1&#9482;1&#9482;1&#9482;0&#9482;0&#9482;0&#9482;0&#9482;0&#9475; Testnet PaymentKey    StakingKey    &#9475;</span><span>
</span><span id="line-874"></span><span class="hs-comment">--                  &#9475;1&#9482;1&#9482;1&#9482;0&#9482;0&#9482;0&#9482;0&#9482;1&#9475; Mainnet PaymentKey    StakingKey    &#9475;</span><span>
</span><span id="line-875"></span><span class="hs-comment">--                  &#9475;1&#9482;1&#9482;1&#9482;1&#9482;0&#9482;0&#9482;0&#9482;0&#9475; Testnet PaymentScript StakingKey    &#9475;</span><span>
</span><span id="line-876"></span><span class="hs-comment">--                  &#9475;1&#9482;1&#9482;1&#9482;1&#9482;0&#9482;0&#9482;0&#9482;1&#9475; Mainnet PaymentScript StakingKey    &#9475;</span><span>
</span><span id="line-877"></span><span class="hs-comment">--                  &#9495;&#9473;&#9527;&#9473;&#9527;&#9473;&#9527;&#9473;&#9527;&#9473;&#9527;&#9473;&#9527;&#9473;&#9527;&#9473;&#9531;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9499;</span><span>
</span><span id="line-878"></span><span class="hs-comment">--                          \       \</span><span>
</span><span id="line-879"></span><span class="hs-comment">--                           \       `Is Mainnet Address</span><span>
</span><span id="line-880"></span><span class="hs-comment">--                            `Account Credential is a Script</span><span>
</span><span id="line-881"></span><span class="hs-comment">-- @@@</span><span>
</span><span id="line-882"></span><span id="local-6989586621679446762"><span id="local-6989586621679446763"><span class="annot"><a href="Cardano.Ledger.Address.html#decodeRewardAccountT"><span class="hs-identifier hs-type">decodeRewardAccountT</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-883"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadFail</span></span><span> </span><span class="annot"><a href="#local-6989586621679446762"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#AddressBuffer"><span class="hs-identifier hs-type">AddressBuffer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679446763"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-884"></span><span>  </span><span class="annot"><a href="#local-6989586621679446763"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-885"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">StateT</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679446762"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#RewardAccount"><span class="hs-identifier hs-type">RewardAccount</span></a></span></span></span><span>
</span><span id="line-886"></span><span id="decodeRewardAccountT"><span class="annot"><span class="annottext">decodeRewardAccountT :: forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
b -&gt; StateT Int m RewardAccount
</span><a href="Cardano.Ledger.Address.html#decodeRewardAccountT"><span class="hs-identifier hs-var hs-var">decodeRewardAccountT</span></a></span></span><span> </span><span id="local-6989586621679448522"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448522"><span class="hs-identifier hs-var">buf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-887"></span><span>  </span><span class="annot"><span class="annottext">String -&gt; Int -&gt; b -&gt; StateT Int m ()
forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
String -&gt; Int -&gt; b -&gt; StateT Int m ()
</span><a href="Cardano.Ledger.Address.html#guardLength"><span class="hs-identifier hs-var">guardLength</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Header&quot;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448522"><span class="hs-identifier hs-var">buf</span></a></span><span>
</span><span id="line-888"></span><span>  </span><span class="annot"><span class="annottext">(Int -&gt; Int) -&gt; StateT Int m ()
forall (m :: * -&gt; *) s. Monad m =&gt; (s -&gt; s) -&gt; StateT s m ()
</span><span class="hs-identifier hs-var">modify'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-889"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679448523"><span class="annot"><span class="annottext">header :: Header
</span><a href="#local-6989586621679448523"><span class="hs-identifier hs-var hs-var">header</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Header
</span><a href="Cardano.Ledger.Address.html#Header"><span class="hs-identifier hs-var">Header</span></a></span><span> </span><span class="annot"><span class="annottext">(Word8 -&gt; Header) -&gt; Word8 -&gt; Header
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; Int -&gt; Word8
forall b. AddressBuffer b =&gt; b -&gt; Int -&gt; Word8
</span><a href="Cardano.Ledger.Address.html#bufUnsafeIndex"><span class="hs-identifier hs-var">bufUnsafeIndex</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448522"><span class="hs-identifier hs-var">buf</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-890"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; StateT Int m () -&gt; StateT Int m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Header -&gt; Bool
</span><a href="Cardano.Ledger.Address.html#headerIsRewardAccount"><span class="hs-identifier hs-var">headerIsRewardAccount</span></a></span><span> </span><span class="annot"><span class="annottext">Header
</span><a href="#local-6989586621679448523"><span class="hs-identifier hs-var">header</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(StateT Int m () -&gt; StateT Int m ())
-&gt; StateT Int m () -&gt; StateT Int m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-891"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; StateT Int m ()
forall a. String -&gt; StateT Int m a
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><span class="hs-identifier hs-var">fail</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; StateT Int m ()) -&gt; String -&gt; StateT Int m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-892"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Invalid header for the reward account: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Header -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Header
</span><a href="#local-6989586621679448523"><span class="hs-identifier hs-var">header</span></a></span><span>
</span><span id="line-893"></span><span>  </span><span id="local-6989586621679448524"><span class="annot"><span class="annottext">Credential 'Staking
</span><a href="#local-6989586621679448524"><span class="hs-identifier hs-var">account</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-894"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Header -&gt; Bool
</span><a href="Cardano.Ledger.Address.html#headerRewardAccountIsScript"><span class="hs-identifier hs-var">headerRewardAccountIsScript</span></a></span><span> </span><span class="annot"><span class="annottext">Header
</span><a href="#local-6989586621679448523"><span class="hs-identifier hs-var">header</span></a></span><span>
</span><span id="line-895"></span><span>      </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">ScriptHash -&gt; Credential 'Staking
forall (kr :: KeyRole). ScriptHash -&gt; Credential kr
</span><a href="Cardano.Ledger.Credential.html#ScriptHashObj"><span class="hs-identifier hs-var">ScriptHashObj</span></a></span><span> </span><span class="annot"><span class="annottext">(ScriptHash -&gt; Credential 'Staking)
-&gt; StateT Int m ScriptHash -&gt; StateT Int m (Credential 'Staking)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; StateT Int m ScriptHash
forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
b -&gt; StateT Int m ScriptHash
</span><a href="Cardano.Ledger.Address.html#decodeScriptHash"><span class="hs-identifier hs-var">decodeScriptHash</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448522"><span class="hs-identifier hs-var">buf</span></a></span><span>
</span><span id="line-896"></span><span>      </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">KeyHash 'Staking -&gt; Credential 'Staking
forall (kr :: KeyRole). KeyHash kr -&gt; Credential kr
</span><a href="Cardano.Ledger.Credential.html#KeyHashObj"><span class="hs-identifier hs-var">KeyHashObj</span></a></span><span> </span><span class="annot"><span class="annottext">(KeyHash 'Staking -&gt; Credential 'Staking)
-&gt; StateT Int m (KeyHash 'Staking)
-&gt; StateT Int m (Credential 'Staking)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; StateT Int m (KeyHash 'Staking)
forall (m :: * -&gt; *) b (kr :: KeyRole).
(MonadFail m, AddressBuffer b) =&gt;
b -&gt; StateT Int m (KeyHash kr)
</span><a href="Cardano.Ledger.Address.html#decodeKeyHash"><span class="hs-identifier hs-var">decodeKeyHash</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448522"><span class="hs-identifier hs-var">buf</span></a></span><span>
</span><span id="line-897"></span><span>  </span><span class="annot"><span class="annottext">String -&gt; b -&gt; StateT Int m ()
forall (m :: * -&gt; *) b.
(MonadFail m, AddressBuffer b) =&gt;
String -&gt; b -&gt; StateT Int m ()
</span><a href="Cardano.Ledger.Address.html#ensureBufIsConsumed"><span class="hs-identifier hs-var">ensureBufIsConsumed</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;RewardsAcnt&quot;</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679448522"><span class="hs-identifier hs-var">buf</span></a></span><span>
</span><span id="line-898"></span><span>  </span><span class="annot"><span class="annottext">RewardAccount -&gt; StateT Int m RewardAccount
forall a. a -&gt; StateT Int m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RewardAccount -&gt; StateT Int m RewardAccount)
-&gt; RewardAccount -&gt; StateT Int m RewardAccount
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">Network -&gt; Credential 'Staking -&gt; RewardAccount
</span><a href="Cardano.Ledger.Address.html#RewardAccount"><span class="hs-identifier hs-var">RewardAccount</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Header -&gt; Network
</span><a href="Cardano.Ledger.Address.html#headerNetworkId"><span class="hs-identifier hs-var">headerNetworkId</span></a></span><span> </span><span class="annot"><span class="annottext">Header
</span><a href="#local-6989586621679448523"><span class="hs-identifier hs-var">header</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Credential 'Staking
</span><a href="#local-6989586621679448524"><span class="hs-identifier hs-var">account</span></a></span><span>
</span><span id="line-899"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#decodeRewardAccountT"><span class="hs-pragma hs-type">decodeRewardAccountT</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-900"></span><span>
</span><span id="line-901"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679448530"><span id="local-6989586621679448534"><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#EncCBOR"><span class="hs-identifier hs-type">EncCBOR</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#CompactAddr"><span class="hs-identifier hs-type">CompactAddr</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-902"></span><span>  </span><span id="local-6989586621679448538"><span class="annot"><span class="annottext">encCBOR :: CompactAddr -&gt; Encoding
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#encCBOR"><span class="hs-identifier hs-var hs-var hs-var hs-var">encCBOR</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Address.html#UnsafeCompactAddr"><span class="hs-identifier hs-type">UnsafeCompactAddr</span></a></span><span> </span><span id="local-6989586621679448539"><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679448539"><span class="hs-identifier hs-var">bytes</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShortByteString -&gt; Encoding
forall a. EncCBOR a =&gt; a -&gt; Encoding
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#encCBOR"><span class="hs-identifier hs-var">encCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679448539"><span class="hs-identifier hs-var">bytes</span></a></span><span>
</span><span id="line-903"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#encCBOR"><span class="hs-pragma hs-type">encCBOR</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-904"></span><span>
</span><span id="line-905"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679448544"><span id="local-6989586621679448548"><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#DecCBOR"><span class="hs-identifier hs-type">DecCBOR</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#CompactAddr"><span class="hs-identifier hs-type">CompactAddr</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-906"></span><span>  </span><span id="local-6989586621679448550"><span class="annot"><span class="annottext">decCBOR :: forall s. Decoder s CompactAddr
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#decCBOR"><span class="hs-identifier hs-var hs-var hs-var hs-var">decCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Decoder s CompactAddr
forall s. Decoder s CompactAddr
</span><a href="Cardano.Ledger.Address.html#fromCborCompactAddr"><span class="hs-identifier hs-var">fromCborCompactAddr</span></a></span><span>
</span><span id="line-907"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#decCBOR"><span class="hs-pragma hs-type">decCBOR</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-908"></span><span>
</span><span id="line-909"></span><span class="hs-comment">-- | Efficiently check whether compacted adddress is an address with a credential</span><span>
</span><span id="line-910"></span><span class="hs-comment">-- that is a payment script.</span><span>
</span><span id="line-911"></span><span class="annot"><a href="Cardano.Ledger.Address.html#isPayCredScriptCompactAddr"><span class="hs-identifier hs-type">isPayCredScriptCompactAddr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#CompactAddr"><span class="hs-identifier hs-type">CompactAddr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-912"></span><span id="isPayCredScriptCompactAddr"><span class="annot"><span class="annottext">isPayCredScriptCompactAddr :: CompactAddr -&gt; Bool
</span><a href="Cardano.Ledger.Address.html#isPayCredScriptCompactAddr"><span class="hs-identifier hs-var hs-var">isPayCredScriptCompactAddr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Address.html#UnsafeCompactAddr"><span class="hs-identifier hs-type">UnsafeCompactAddr</span></a></span><span> </span><span id="local-6989586621679448551"><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679448551"><span class="hs-identifier hs-var">bytes</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-913"></span><span>  </span><span class="annot"><span class="annottext">Word8 -&gt; Int -&gt; Bool
forall a. Bits a =&gt; a -&gt; Int -&gt; Bool
</span><span class="hs-identifier hs-var">testBit</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HasCallStack =&gt; ShortByteString -&gt; Int -&gt; Word8
ShortByteString -&gt; Int -&gt; Word8
</span><span class="hs-identifier hs-var">SBS.index</span></span><span> </span><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679448551"><span class="hs-identifier hs-var">bytes</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="Cardano.Ledger.Address.html#payCredIsScript"><span class="hs-identifier hs-var">payCredIsScript</span></a></span><span>
</span><span id="line-914"></span><span>
</span><span id="line-915"></span><span class="annot"><span class="hs-comment">-- | Efficiently check whether compated adddress is a Byron address.</span></span><span>
</span><span id="line-916"></span><span class="annot"><a href="Cardano.Ledger.Address.html#isBootstrapCompactAddr"><span class="hs-identifier hs-type">isBootstrapCompactAddr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#CompactAddr"><span class="hs-identifier hs-type">CompactAddr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-917"></span><span id="isBootstrapCompactAddr"><span class="annot"><span class="annottext">isBootstrapCompactAddr :: CompactAddr -&gt; Bool
</span><a href="Cardano.Ledger.Address.html#isBootstrapCompactAddr"><span class="hs-identifier hs-var hs-var">isBootstrapCompactAddr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Address.html#UnsafeCompactAddr"><span class="hs-identifier hs-type">UnsafeCompactAddr</span></a></span><span> </span><span id="local-6989586621679448552"><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679448552"><span class="hs-identifier hs-var">bytes</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Int -&gt; Bool
forall a. Bits a =&gt; a -&gt; Int -&gt; Bool
</span><span class="hs-identifier hs-var">testBit</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HasCallStack =&gt; ShortByteString -&gt; Int -&gt; Word8
ShortByteString -&gt; Int -&gt; Word8
</span><span class="hs-identifier hs-var">SBS.index</span></span><span> </span><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679448552"><span class="hs-identifier hs-var">bytes</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="Cardano.Ledger.Address.html#byron"><span class="hs-identifier hs-var">byron</span></a></span><span>
</span><span id="line-918"></span><span>
</span><span id="line-919"></span><span class="annot"><span class="hs-comment">-- | Convert Byron's comapct address into `CompactAddr`. This is just an efficient type cast.</span></span><span>
</span><span id="line-920"></span><span class="annot"><a href="Cardano.Ledger.Address.html#fromBoostrapCompactAddress"><span class="hs-identifier hs-type">fromBoostrapCompactAddress</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-byron-1.2.0.0/doc/html/cardano-ledger-byron/src/Cardano.Chain.Common.Compact.html#CompactAddress"><span class="hs-identifier hs-type">Byron.CompactAddress</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#CompactAddr"><span class="hs-identifier hs-type">CompactAddr</span></a></span><span>
</span><span id="line-921"></span><span id="fromBoostrapCompactAddress"><span class="annot"><span class="annottext">fromBoostrapCompactAddress :: CompactAddress -&gt; CompactAddr
</span><a href="Cardano.Ledger.Address.html#fromBoostrapCompactAddress"><span class="hs-identifier hs-var hs-var">fromBoostrapCompactAddress</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShortByteString -&gt; CompactAddr
</span><a href="Cardano.Ledger.Address.html#UnsafeCompactAddr"><span class="hs-identifier hs-var">UnsafeCompactAddr</span></a></span><span> </span><span class="annot"><span class="annottext">(ShortByteString -&gt; CompactAddr)
-&gt; (CompactAddress -&gt; ShortByteString)
-&gt; CompactAddress
-&gt; CompactAddr
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">CompactAddress -&gt; ShortByteString
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-byron-1.2.0.0/doc/html/cardano-ledger-byron/src/Cardano.Chain.Common.Compact.html#unsafeGetCompactAddress"><span class="hs-identifier hs-var">Byron.unsafeGetCompactAddress</span></a></span><span>
</span><span id="line-922"></span><span>
</span><span id="line-923"></span><span class="annot"><span class="hs-comment">-- | This is called @wdrl@ in the spec.</span></span><span>
</span><span id="line-924"></span><span class="hs-keyword">newtype</span><span> </span><span id="Withdrawals"><span class="annot"><a href="Cardano.Ledger.Address.html#Withdrawals"><span class="hs-identifier hs-var">Withdrawals</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Withdrawals"><span class="annot"><a href="Cardano.Ledger.Address.html#Withdrawals"><span class="hs-identifier hs-var">Withdrawals</span></a></span></span><span> </span><span class="hs-special">{</span><span id="unWithdrawals"><span class="annot"><span class="annottext">Withdrawals -&gt; Map RewardAccount Coin
</span><a href="Cardano.Ledger.Address.html#unWithdrawals"><span class="hs-identifier hs-var hs-var">unWithdrawals</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><a href="Cardano.Ledger.Address.html#RewardAccount"><span class="hs-identifier hs-type">RewardAccount</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-925"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679448557"><span id="local-6989586621679448564"><span id="local-6989586621679448568"><span class="annot"><span class="annottext">Int -&gt; Withdrawals -&gt; ShowS
[Withdrawals] -&gt; ShowS
Withdrawals -&gt; String
(Int -&gt; Withdrawals -&gt; ShowS)
-&gt; (Withdrawals -&gt; String)
-&gt; ([Withdrawals] -&gt; ShowS)
-&gt; Show Withdrawals
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; Withdrawals -&gt; ShowS
showsPrec :: Int -&gt; Withdrawals -&gt; ShowS
$cshow :: Withdrawals -&gt; String
show :: Withdrawals -&gt; String
$cshowList :: [Withdrawals] -&gt; ShowS
showList :: [Withdrawals] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679448572"><span id="local-6989586621679448579"><span class="annot"><span class="annottext">Withdrawals -&gt; Withdrawals -&gt; Bool
(Withdrawals -&gt; Withdrawals -&gt; Bool)
-&gt; (Withdrawals -&gt; Withdrawals -&gt; Bool) -&gt; Eq Withdrawals
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Withdrawals -&gt; Withdrawals -&gt; Bool
== :: Withdrawals -&gt; Withdrawals -&gt; Bool
$c/= :: Withdrawals -&gt; Withdrawals -&gt; Bool
/= :: Withdrawals -&gt; Withdrawals -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679448587"><span id="local-6989586621679448589"><span class="annot"><span class="annottext">(forall x. Withdrawals -&gt; Rep Withdrawals x)
-&gt; (forall x. Rep Withdrawals x -&gt; Withdrawals)
-&gt; Generic Withdrawals
forall x. Rep Withdrawals x -&gt; Withdrawals
forall x. Withdrawals -&gt; Rep Withdrawals x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. Withdrawals -&gt; Rep Withdrawals x
from :: forall x. Withdrawals -&gt; Rep Withdrawals x
$cto :: forall x. Rep Withdrawals x -&gt; Withdrawals
to :: forall x. Rep Withdrawals x -&gt; Withdrawals
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-926"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679448592"><span id="local-6989586621679448599"><span id="local-6989586621679448605"><span class="annot"><span class="annottext">Context -&gt; Withdrawals -&gt; IO (Maybe ThunkInfo)
Proxy Withdrawals -&gt; String
(Context -&gt; Withdrawals -&gt; IO (Maybe ThunkInfo))
-&gt; (Context -&gt; Withdrawals -&gt; IO (Maybe ThunkInfo))
-&gt; (Proxy Withdrawals -&gt; String)
-&gt; NoThunks Withdrawals
forall a.
(Context -&gt; a -&gt; IO (Maybe ThunkInfo))
-&gt; (Context -&gt; a -&gt; IO (Maybe ThunkInfo))
-&gt; (Proxy a -&gt; String)
-&gt; NoThunks a
$cnoThunks :: Context -&gt; Withdrawals -&gt; IO (Maybe ThunkInfo)
noThunks :: Context -&gt; Withdrawals -&gt; IO (Maybe ThunkInfo)
$cwNoThunks :: Context -&gt; Withdrawals -&gt; IO (Maybe ThunkInfo)
wNoThunks :: Context -&gt; Withdrawals -&gt; IO (Maybe ThunkInfo)
$cshowTypeOf :: Proxy Withdrawals -&gt; String
showTypeOf :: Proxy Withdrawals -&gt; String
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/nothunks-0.2.1.1-0663c3283fb5dee9e67d41860072fab0227b6d69ef882303baddf309058f8618/share/doc/html/src/NoThunks.Class.html#NoThunks"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">NoThunks</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679448613"><span class="annot"><span class="annottext">Withdrawals -&gt; ()
(Withdrawals -&gt; ()) -&gt; NFData Withdrawals
forall a. (a -&gt; ()) -&gt; NFData a
$crnf :: Withdrawals -&gt; ()
rnf :: Withdrawals -&gt; ()
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">NFData</span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679448624"><span id="local-6989586621679448634"><span id="local-6989586621679448643"><span class="annot"><span class="annottext">Typeable Withdrawals
Typeable Withdrawals =&gt;
(Withdrawals -&gt; Encoding)
-&gt; ((forall t. EncCBOR t =&gt; Proxy t -&gt; Size)
    -&gt; Proxy Withdrawals -&gt; Size)
-&gt; ((forall t. EncCBOR t =&gt; Proxy t -&gt; Size)
    -&gt; Proxy [Withdrawals] -&gt; Size)
-&gt; EncCBOR Withdrawals
Withdrawals -&gt; Encoding
(forall t. EncCBOR t =&gt; Proxy t -&gt; Size)
-&gt; Proxy [Withdrawals] -&gt; Size
(forall t. EncCBOR t =&gt; Proxy t -&gt; Size)
-&gt; Proxy Withdrawals -&gt; Size
forall a.
Typeable a =&gt;
(a -&gt; Encoding)
-&gt; ((forall t. EncCBOR t =&gt; Proxy t -&gt; Size) -&gt; Proxy a -&gt; Size)
-&gt; ((forall t. EncCBOR t =&gt; Proxy t -&gt; Size) -&gt; Proxy [a] -&gt; Size)
-&gt; EncCBOR a
$cencCBOR :: Withdrawals -&gt; Encoding
encCBOR :: Withdrawals -&gt; Encoding
$cencodedSizeExpr :: (forall t. EncCBOR t =&gt; Proxy t -&gt; Size)
-&gt; Proxy Withdrawals -&gt; Size
encodedSizeExpr :: (forall t. EncCBOR t =&gt; Proxy t -&gt; Size)
-&gt; Proxy Withdrawals -&gt; Size
$cencodedListSizeExpr :: (forall t. EncCBOR t =&gt; Proxy t -&gt; Size)
-&gt; Proxy [Withdrawals] -&gt; Size
encodedListSizeExpr :: (forall t. EncCBOR t =&gt; Proxy t -&gt; Size)
-&gt; Proxy [Withdrawals] -&gt; Size
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Encoding.EncCBOR.html#EncCBOR"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">EncCBOR</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679448654"><span id="local-6989586621679448662"><span id="local-6989586621679448669"><span class="annot"><span class="annottext">Typeable Withdrawals
Typeable Withdrawals =&gt;
(forall s. Decoder s Withdrawals)
-&gt; (forall s. Proxy Withdrawals -&gt; Decoder s ())
-&gt; (Proxy Withdrawals -&gt; Text)
-&gt; DecCBOR Withdrawals
Proxy Withdrawals -&gt; Text
forall s. Decoder s Withdrawals
forall a.
Typeable a =&gt;
(forall s. Decoder s a)
-&gt; (forall s. Proxy a -&gt; Decoder s ())
-&gt; (Proxy a -&gt; Text)
-&gt; DecCBOR a
forall s. Proxy Withdrawals -&gt; Decoder s ()
$cdecCBOR :: forall s. Decoder s Withdrawals
decCBOR :: forall s. Decoder s Withdrawals
$cdropCBOR :: forall s. Proxy Withdrawals -&gt; Decoder s ()
dropCBOR :: forall s. Proxy Withdrawals -&gt; Decoder s ()
$clabel :: Proxy Withdrawals -&gt; Text
label :: Proxy Withdrawals -&gt; Text
</span><a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-ledger-binary-1.7.0.1/doc/html/cardano-ledger-binary/src/Cardano.Ledger.Binary.Decoding.DecCBOR.html#DecCBOR"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">DecCBOR</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-927"></span></pre></body></html>